(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,a)}l((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(l,u):c(s[0][2],n)}catch(r){c(s[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,a)}l((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(l,u):c(s[0][2],n)}catch(r){c(s[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),o=n("os0x"),a=n("zVF4"),l=n("x7I3"),u=i.SDK_VERSION,c=new s.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function d(){return c.logLevel===s.LogLevel.DEBUG?h.DEBUG:c.logLevel===s.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:c.logLevel=s.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=s.LogLevel.ERROR;break;case h.SILENT:c.logLevel=s.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=s.LogLevel.DEBUG){var i=n.map(g);c.debug.apply(c,["Firestore ("+u+") ["+t+"]: "+e].concat(i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=s.LogLevel.ERROR){var r=e.map(g);c.error.apply(c,["Firestore ("+u+"): "+t].concat(r))}}function g(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function y(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function v(t,e){t||y(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function _(){return b.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error);function S(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){return void 0!==t?t:e}function x(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(0!==e.length)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+H(e.length,"argument")+".")}function D(t,e,n){if(e.length!==n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function O(t,e,n){if(e.length<n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+H(e.length,"argument")+".")}function R(t,e,n,r){V(t,e,$(n)+" argument",r)}function P(t,e,n,r){void 0!==r&&R(t,e,n,r)}function M(t,e,n,r){V(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var l=a[o];if(l===r)return;s.push(B(l))}var u=B(r);throw new E(w.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function V(t,e,n,r){if(!("object"===e?U(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function U(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function j(t,e,n){if(void 0===n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+$(e)+" argument, but it was undefined.")}function q(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new E(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=B(r);return new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+$(n)+" argument to be a "+e+", but it was: "+i)}function $(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function H(t,e){return t+" "+e+(1===t?"":"s")}var W=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function G(t,e){return t<e?-1:t>e?1:0}function K(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Q(t){return t+"\0"}function Y(){if("undefined"==typeof Uint8Array)throw new E(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!b.getPlatform().base64Available)throw new E(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){D("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),X();try{return new t(b.getPlatform().atob(e))}catch(n){throw new E(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(D("Blob.fromUint8Array",arguments,1),Y(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),X(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),Y();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return G(this._binaryString,t._binaryString)},t}(),J=S(Z,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),et="(default)",nt=function(){function t(t,e){this.projectId=t,this.database=e||et}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===et},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return G(this.projectId,t.projectId)||G(this.database,t.database)},t}(),rt=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),it=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):y("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return v(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(it),ot=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.isValidIdentifier=function(t){return ot.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new E(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new E(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(it),lt=function(){function t(e){this.path=e,v(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===st.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return st.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new st(e.slice()))},t.fromPathString=function(e){return new t(st.fromString(e))},t.EMPTY=new t(new st([])),t}(),ut=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}(),ct=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t}({}),ht=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),dt=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),v(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=ht.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){v(t===ct.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ct.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),pt="\x01",ft="\x01",mt="\x10",gt="\x11";function yt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bt(e)),e=vt(t.get(n),e);return bt(e)}function vt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+=pt+mt;break;case pt:n+=pt+gt;break;default:n+=s}}return n}function bt(t){return t+pt+ft}function _t(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v(t.charAt(0)===pt&&t.charAt(1)===ft,"Non-empty path "+t+" had length 2"),st.EMPTY_PATH;for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf(pt,s);switch((o<0||o>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(o+1)){case ft:var a=t.substring(s,o),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case mt:i+=t.substring(s,o),i+="\0";break;case gt:i+=t.substring(s,o+1);break;default:y('Invalid encoded resource path: "'+t+'"')}s=o+2}return new st(r)}var wt=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Et=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new wt(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new wt(0,0)),t}(),St=function(){function t(t,e){this.comparator=t,this.root=e||Tt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ct(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ct(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!0)},t}(),Ct=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Tt.EMPTY=new xt;var It=function(){function t(t){this.comparator=t,this.data=new St(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new kt(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new kt(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),kt=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),At=new St(lt.comparator);function Dt(){return At}function Ot(){return Dt()}var Nt=new St(lt.comparator);function Rt(){return Nt}var Pt=new St(lt.comparator);function Mt(){return Pt}var Lt=new It(lt.comparator);function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lt,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Vt=new It(G);function Ut(){return Vt}var Bt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=s.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.applyToLocalView(e,e,this.localWriteTime));for(var i=e,s=0,o=this.mutations;s<o.length;s++){var a;(a=o[s]).key.isEqual(t)&&(e=a.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&K(this.mutations,t.mutations)&&K(this.baseMutations,t.baseMutations)},t}(),jt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){v(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var s=Mt(),o=e.mutations,a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new t(e,n,r,i,s)},t}(),qt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),zt=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gt(t).iterate({index:Re.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Wt(n),Qt(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Wt(e),Qt(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Kt(t),o=Gt(t);return o.add({}).next(function(a){v("number"==typeof a,"Auto-generated key is not a number");var l=new Bt(a,e,n,r),u=i.serializer.toDbMutationBatch(i.userId,l);i.documentKeysByBatchId[a]=l.keys();for(var c=[],h=0,d=r;h<d.length;h++){var p=d[h],f=Pe.key(i.userId,p.key.path,a);c.push(o.put(u)),c.push(s.put(f,Pe.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return qt.waitFor(c).next(function(){return l})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Gt(t).get(e).next(function(t){return t?(v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?qt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Gt(t).iterate({index:Re.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r,"Should have found mutation after "+r),s=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return s})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gt(t).loadAll(Re.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pe.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Kt(t).iterate({range:i},function(r,i,o){var a=r[0],l=r[2],u=_t(r[1]);if(a===n.userId&&e.path.isEqual(u))return Gt(t).get(l).next(function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+l);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),s.push(n.serializer.fromDbMutationBatch(t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new It(G),i=[];return e.forEach(function(e){var s=Pe.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Kt(t).iterate({range:o},function(t,i,s){var o=t[0],a=t[2],l=_t(t[1]);o===n.userId&&e.path.isEqual(l)?r=r.add(a):s.done()});i.push(a)}),qt.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,s=Pe.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new It(G);return Kt(t).iterate({range:o},function(t,e,s){var o=t[0],l=t[2],u=_t(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(l)):s.done()}).next(function(){return n.lookupMutationBatches(t,a)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gt(t).get(e).next(function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),qt.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ht(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),qt.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return qt.resolve();var r=IDBKeyRange.lowerBound(Pe.prefixForUser(e.userId)),i=[];return Kt(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var s=_t(t[1]);i.push(s)}else r.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return $t(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Qt(t).get(this.userId).next(function(t){return t||new Ne(e.userId,-1,"")})},t}();function $t(t,e,n){var r=Pe.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Kt(t).iterate({range:s,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Ht(t,e,n){var r=t.store(Re.store),i=t.store(Pe.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=r.iterate({range:o},function(t,e,n){return a++,n.delete()});s.push(l.next(function(){v(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=Pe.key(e,d.key.path,n.batchId);s.push(i.delete(p)),u.push(d.key)}return qt.waitFor(s).next(function(){return u})}function Wt(t){return t instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Gt(t){return cn.getStore(t,Re.store)}function Kt(t){return cn.getStore(t,Pe.store)}function Qt(t){return cn.getStore(t,Ne.store)}var Yt=1,Xt=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Zt=function(){function t(t,e){this.generatorId=t,v((t&Yt)===t,"Generator ID "+t+" contains more than "+Yt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Yt,t},t.prototype.after=function(t){return this.seek(t+(1<<Yt)),this.next()},t.prototype.seek=function(t){v((t&Yt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Xt.QueryCache,2)},t.forSyncEngine=function(){return new t(Xt.SyncEngine)},t}(),Jt="SimpleDb",te=function(){function t(e){this.db=e,12.2===t.getIOSVersion(a.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return v(t.isAvailable(),"IndexedDB not supported in current environment."),f(Jt,"Opening database:",e),new qt(function(i,s){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){i(new t(e.target.result))},o.onblocked=function(){s(new E(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;s("VersionError"===e.name?new E(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},o.onupgradeneeded=function(t){f(Jt,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new ne(o.transaction);r.createOrUpgrade(n,i,t.oldVersion,ke).next(function(){f(Jt,"Database upgrade to version "+ke+" complete")})}}).toPromise()},t.delete=function(t){return f(Jt,"Removing database:",t),ie(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=a.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){var r=ne.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),qt.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),ee=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return ie(this.dbCursor.delete())},t}(),ne=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ut,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=t.target.error;oe(n),e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f(Jt,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new re(e)},t}(),re=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f(Jt,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(f(Jt,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ie(n)},t.prototype.add=function(t){return f(Jt,"ADD",this.store.name,t,t),ie(this.store.add(t))},t.prototype.get=function(t){var e=this;return ie(this.store.get(t)).next(function(n){return void 0===n&&(n=null),f(Jt,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return f(Jt,"DELETE",this.store.name,t),ie(this.store.delete(t))},t.prototype.count=function(){return f(Jt,"COUNT",this.store.name),ie(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){f(Jt,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new qt(function(n,r){e.onerror=function(t){var e=t.target.error;oe(e),r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new qt(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new ee(i),o=e(i.primaryKey,i.value,s);if(o instanceof qt){var a=o.catch(function(t){return s.done(),qt.reject(t)});n.push(a)}s.isDone?r():null===s.skipToKey?i.continue():i.continue(s.skipToKey)}else r()}}).next(function(){return qt.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ie(t){return new qt(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=t.target.error;oe(e),n(e)}})}var se=!1;function oe(t){if(!se){var e=te.getIOSVersion(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";t.message.indexOf(n)>=0&&(se=!0,setTimeout(function(){throw new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")},0))}}}var ae=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Zt.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Et.fromTimestamp(new wt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return ce(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return le(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return v(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return le(t).iterate(function(o,a){var l=r.serializer.fromDbTarget(a);l.sequenceNumber<=e&&void 0===n[l.targetId]&&(i++,s.push(r.removeQueryData(t,l)))}).next(function(){return qt.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return le(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return ue(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,cn.getStore(n,je.store)).put(je.key,e);var n},t.prototype.saveQueryData=function(t,e){return le(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return le(t).iterate({range:i,index:Ue.queryTargetsIndexName},function(t,r,i){var o=n.serializer.fromDbTarget(r);e.isEqual(o.query)&&(s=o,i.done())}).next(function(){return s})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=he(t);return e.forEach(function(e){var o=yt(e.path);i.push(s.put(new Be(n,o))),i.push(r.referenceDelegate.addReference(t,e))}),qt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=he(t);return qt.forEach(e,function(e){var s=yt(e.path);return qt.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=he(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=he(t),i=Ft();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=_t(t[1]),s=new lt(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=yt(e.path),r=IDBKeyRange.bound([n],[Q(n)],!1,!0),i=0;return he(t).iterate({index:Be.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return le(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function le(t){return cn.getStore(t,Ue.store)}function ue(t){return te.getStore(t,je.store).get(je.key).next(function(t){return v(null!==t,"Missing metadata row."),t})}function ce(t){return ue(t).next(function(t){return t.highestListenSequenceNumber})}function he(t){return cn.getStore(t,Be.store)}var de=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)},t}(),pe=function(t){function e(e,n,r,i,s){var o=t.call(this,e,n)||this;return o.data=r,o.proto=s,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},e}(de),fe=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(de),me=function(t){function e(e,n){return t.call(this,e,n)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(de),ge=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(s[0].isEqual(t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return k(this.inner)},t}(),ye=function(){function t(){this.changes=Dt(),this.documentSizes=new ge(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?qt.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return v(null!==this.changes,"Changes have already been applied."),this.changes},t}(),ve="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",be=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=te.getStore(t,$e.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=Ee(t),s=Ft(),o=0,a=e;o<a.length;o++){var l=a[o],u=l.key,c=l.doc;r.push(i.put(Ce(u),c)),s=s.add(u),r.push(this.indexManager.addToCollectionParentIndex(t,u.path.popLast()))}this.keepDocumentChangeLog&&r.push(Se(t).put({changes:this.serializer.toDbResourcePaths(s)})),r.push(this.updateSize(t,n))}return qt.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=Ee(t),r=Ce(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return Te(t)}):qt.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return Ee(t).get(Ce(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Ee(t).get(Ce(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Te(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Ot(),i=new St(lt.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,Te(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return qt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Ee(t).iterate({range:r},function(t,e,r){for(var o=lt.fromSegments(t);s&&lt.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.skip(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Rt(),i=e.path.length+1,s=e.path.toArray(),o=IDBKeyRange.lowerBound(s);return Ee(t).iterate({range:o},function(t,s,o){if(t.length===i){var a=n.serializer.fromDbRemoteDocument(s);e.path.isPrefixOf(a.key.path)?a instanceof pe&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ft(),r=Dt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),s=!0,o=Se(t);return o.iterate({range:i},function(t,r){if(s&&(s=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(o).next(function(){return qt.reject(new E(w.DATA_LOSS,ve))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new fe(n,Et.forDeletedDoc());r=r.insert(n,e)}))}),qt.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Se(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new we(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return _e(t).get(Ve.key).next(function(t){return v(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return _e(t).put(Ve.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function _e(t){return cn.getStore(t,Ve.store)}var we=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var s=e.documentCache.serializer.toDbRemoteDocument(n),o=e.documentSizes.get(t);v(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=Te(s);r+=a-o,i.push({key:t,doc:s})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(ye);function Ee(t){return cn.getStore(t,Fe.store)}function Se(t){return cn.getStore(t,$e.store)}function Ce(t){return t.path.toArray()}function Te(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var xe=function(){function t(){this.collectionParentIndex=new Ie}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),qt.resolve()},t.prototype.getCollectionParents=function(t,e){return qt.resolve(this.collectionParentIndex.getEntries(e))},t}(),Ie=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new It(st.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new It(st.comparator)).toArray()},t}(),ke=8,Ae=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=ke,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Oe.store)}(t),function(t){t.createObjectStore(Ne.store,{keyPath:Ne.keyPath}),t.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pe.store)}(t),ze(t),function(t){t.createObjectStore(Fe.store)}(t));var s=qt.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Be.store),t.deleteObjectStore(Ue.store),t.deleteObjectStore(je.store)}(t),ze(t)),s=s.next(function(){return function(t){var e=t.store(je.store),n=new je(0,0,Et.MIN.toTimestamp(),0);return e.put(je.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Re.store).loadAll().next(function(n){t.deleteObjectStore(Re.store),t.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0});var r=e.store(Re.store),i=n.map(function(t){return r.put(t)});return qt.waitFor(i)})}(t,e)})),s=s.next(function(){!function(t){t.createObjectStore(He.store,{keyPath:He.keyPath})}(t),function(t){t.createObjectStore($e.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ve.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,e)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Fe.store).iterate(function(t,n){e+=Te(n)}).next(function(){var n=new Ve(e);return t.store(Ve.store).put(Ve.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ne.store),r=t.store(Re.store);return n.loadAll().next(function(n){return qt.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Re.userMutationsIndex,i).next(function(r){return qt.forEach(r,function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Ht(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Be.store),n=t.store(Fe.store);return ce(t).next(function(t){var r=[];return n.iterate(function(n,i){var s=new st(n),o=function(t){return[0,yt(t)]}(s);r.push(e.get(o).next(function(n){return n?qt.resolve():function(n){return e.put(new Be(0,yt(n),t))}(s)}))}).next(function(){return qt.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(qe.store,{keyPath:qe.keyPath});var n=e.store(qe.store),r=new Ie,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:yt(i)})}};return e.store(Fe.store).iterate({keysOnly:!0},function(t,e){var n=new st(t);return i(n.popLast())}).next(function(){return e.store(Pe.store).iterate({keysOnly:!0},function(t,e){var n=_t(t[1]);return i(n.popLast())})})},t}(),De=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),Oe=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Ne=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Re=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Pe=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yt(e)]},t.key=function(t,e,n){return[t,yt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Me=function(){return function(t,e){this.path=t,this.readTime=e}}(),Le=function(){return function(t,e){this.path=t,this.version=e}}(),Fe=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Ve=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),Ue=function(){function t(t,e,n,r,i,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Be=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),je=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),qe=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function ze(t){t.createObjectStore(Be.store,{keyPath:Be.keyPath}).createIndex(Be.documentTargetsIndex,Be.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ue.store,{keyPath:Ue.keyPath}).createIndex(Ue.queryTargetsIndexName,Ue.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(je.store)}var $e=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),He=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),We=[Ne.store,Re.store,Pe.store,Fe.store,Ue.store,Oe.store,je.store,Be.store].concat([He.store,$e.store]).concat([Ve.store]).concat([qe.store]),Ge=function(){function t(){this.collectionParentsCache=new Ie}return t.prototype.addToCollectionParentIndex=function(t,e){if(v(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){v(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Ke(t).put({collectionId:n,parent:yt(r)})}return qt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Q(e),""],!1,!0);return Ke(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(_t(s.parent))}return n})},t}();function Ke(t){return cn.getStore(t,qe.store)}var Qe=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Ye=function(){function t(t,e,n,r,i,s){void 0===i&&(i=Et.MIN),void 0===s&&(s=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=s}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Xe=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=lt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new fe(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=lt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new me(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof pe){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new Fe(null,null,e,i=t.hasCommittedMutations)}if(t instanceof fe){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new Fe(null,new Me(n,r),null,i)}return t instanceof me?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new Fe(new Le(n,r),null,null,!0)):y("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new De(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new wt(t.seconds,t.nanoseconds);return Et.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Re(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=wt.fromMillis(t.localWriteTimeMs);return new Bt(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(yt(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ft(),n=0,r=t;n<r.length;n++)e=e.add(new lt(_t(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Ye(e,t.targetId,Qe.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){v(Qe.Listen===t.purpose,"Only queries with purpose "+Qe.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Ue(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Ze(t,e){var n=t[1],r=e[1],i=G(t[0],e[0]);return 0===i?G(n,r):i}var Je=function(){function t(t){this.maxElements=t,this.buffer=new It(Ze),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ze(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),tn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},en=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),nn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==en.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ct.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(hn)})},t}(),rn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return qt.resolve(rt.INVALID);var r=new Je(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===en.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),qt.resolve(tn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,s,o,a,l,u,c=this;return s=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,l=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),d()<=h.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-s)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(l-a)+"ms\n\tRemoved "+t+" documents in "+(u-l)+"ms\nTotal Duration: "+(u-s)+"ms"),qt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),sn="IndexedDbPersistence",on="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",an="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",ln="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",un=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return o.__extends(e,t),e}(function(){return function(){}}()),cn=function(){function t(e,n,r,i,s,o,a){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=a,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new E(w.UNIMPLEMENTED,ln);if(this.referenceDelegate=new fn(this,o),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Xe(s),this.document=r.document,this.allowTabSynchronization=void 0!==a,this.queryCache=new ae(this.referenceDelegate,this.serializer),this.indexManager=new Ge,this.remoteDocumentCache=new be(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof un)return te.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,s,a){return o.__awaiter(this,void 0,void 0,function(){var l;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(l=new t(e,n,r,i,s,a)).start()];case 1:return o.sent(),[2,l]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,s,a,l){return o.__awaiter(this,void 0,void 0,function(){var u;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(u=new t(e,n,r,i,s,a,l)).start()];case 1:return o.sent(),[2,u]}})})},t.prototype.start=function(){var t=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),te.openOrCreate(this.dbName,ke,new Ae(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[je.store],function(e){return ce(e).next(function(e){t.listenSequence=new rt(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",We,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",We,function(e){return pn(e).put(new He(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return dn(t).get(Oe.key).next(function(t){return qt.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return pn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return o.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var s=t.getStore(i,He.store);return s.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return qt.forEach(n,function(t){return s.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ct.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return dn(t).get(Oe.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,an);return!1}}return!(!e.networkEnabled||!e.inForeground)||pn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&f(sn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Oe.store,He.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[He.store],function(e){return pn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,te.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),zt.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return f(sn,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",We,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new E(w.FAILED_PRECONDITION,on);return n(new un(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new un(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return dn(t).get(Oe.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,an)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new Oe(this.clientId,this.allowTabSynchronization,Date.now());return dn(t).put(Oe.key,e)},t.isAvailable=function(){return te.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=dn(t);return n.get(Oe.key).next(function(t){return e.isLocalClient(t)?(f(sn,"Releasing primary lease."),n.delete(Oe.key)):qt.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return f(sn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(sn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function hn(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===on}(t))throw t;return f(sn,"Unexpectedly lost primary lease"),[2]})})}function dn(t){return t.store(Oe.store)}function pn(t){return t.store(He.store)}var fn=function(){function t(t,e){this.db=t,this.garbageCollector=new rn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return mn(t,e)},t.prototype.removeReference=function(t,e){return mn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return mn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?qt.resolve(!0):function(t,e){var n=!1;return Qt(t).iterateSerial(function(r){return $t(t,r,e).next(function(t){return t&&(n=!0),qt.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,s=[];return this.forEachOrphanedDocument(t,function(o,a){if(a<=e){var l=n.isPinned(t,o).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,o).next(function(t){i+=t})});s.push(l)}}).next(function(){return qt.waitFor(s)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return qt.waitFor([he(t).delete((n=e,[0,yt(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return mn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=he(t),i=rt.INVALID;return r.iterate({index:Be.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==rt.INVALID&&e(new lt(_t(n)),i),i=o,n=s):i=rt.INVALID}).next(function(){i!==rt.INVALID&&e(new lt(_t(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function mn(t,e){return he(t).put(function(t,e){return new Be(0,yt(t.path),e)}(e,t.currentSequenceNumber))}var gn=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),yn=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),vn=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(yn.Estimate,n);case"previous":return new t(yn.Previous,n);case"none":case void 0:return new t(yn.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),bn=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),G(this.typeOrder,t.typeOrder)},t}(),_n=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=gn.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(bn),wn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(bn),En=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(bn);function Sn(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Cn=function(t){function e(e){return t.call(this,e)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Sn(this.internalValue,t.internalValue)},e}(En),Tn=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Sn(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(En),xn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(bn),In=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof kn?-1:this.defaultCompareTo(t)},e}(bn),kn=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=gn.TimestampValue,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===yn.Estimate?new In(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===yn.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof In?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(bn),An=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bn),Dn=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=gn.RefValue,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:lt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(bn),On=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bn),Nn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext();if(i.key!==s.key||!i.value.isEqual(s.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext(),o=G(i.key,s.key)||i.value.compareTo(s.value);if(o)return o}return G(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(v(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(v(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new St(G)),e}(bn),Rn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return G(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(bn),Pn=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new It(at.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(t){var e=Nn.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),Mn=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Ln=function(){return function(t,e){this.version=t,this.transformResults=e}}(),Fn=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),Vn=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof pe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof pe:(v(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Un=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof pe?t.version:Et.MIN},t}(),Bn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Fn.Set,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by SetMutation."),new pe(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Un.getPostMutationVersion(t);return new pe(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Un),jn=function(t){function e(e,n,r,i){var s=t.call(this)||this;return s.key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.type=Fn.Patch,s}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new me(this.key,e.version);var n=this.patchDocument(t);return new pe(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Un.getPostMutationVersion(t),i=this.patchDocument(t);return new pe(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof pe?t.data:Nn.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(Un),qn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Fn.Transform,r.precondition=Vn.exists(!0),r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new me(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,s=this.transformObject(n.data,r);return new pe(this.key,i,s,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),s=this.transformObject(r.data,i);return new pe(this.key,r.version,s,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new It(at.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new Pn(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&K(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof pe,"Unknown MaybeDocument type "+t);var e=t;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],s=i.transform,o=null;t instanceof pe&&(o=t.field(i.field)||null),n.push(s.applyToRemoteDocument(o,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var s=i[r],o=s.transform,a=null;e instanceof pe&&(a=e.field(s.field)||null),n.push(o.applyToLocalView(a,t))}return n},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(Un),zn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Fn.Delete,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new fe(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new fe(this.key,Et.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Un),$n=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Ot();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),s=Dt();return i.forEach(function(t,e){e||(e=new fe(t,Et.forDeletedDoc())),s=s.insert(t,e)}),s})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new lt(e)).next(function(t){var e=Rt();return t instanceof pe&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;v(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Rt();return this.indexManager.getCollectionParents(t,r).next(function(s){return qt.forEach(s,function(s){var o=e.asCollectionQueryAtPath(s.child(r));return n.getDocumentsMatchingCollectionQuery(t,o).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var s=i[r],o=0,a=s.mutations;o<a.length;o++){var l=a[o],u=l.key;if(e.path.isImmediateParentOf(u.path)){var c=n.get(u),h=l.applyToLocalView(c,c,s.localWriteTime);n=h instanceof pe?n.insert(u,h):n.remove(u)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Hn=function(){function t(){this.refsByKey=new It(Wn.compareByKey),this.refsByTarget=new It(Wn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Wn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=lt.EMPTY,r=new Wn(n,t),i=new Wn(n,t+1),s=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),s.push(t.key)}),s},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=lt.EMPTY,n=new Wn(e,t),r=new Wn(e,t+1),i=Ft();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Wn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)||G(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return G(t.targetOrBatchId,e.targetOrBatchId)||lt.comparator(t.key,e.key)},t}(),Gn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Hn,this.queryDataByTarget={},v(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new $n(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new $n(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],s=[],o=Ft(),a=0,l=r;a<l.length;a++){i.push((p=l[a]).batchId);for(var u=0,c=p.mutations;u<c.length;u++)o=o.add(c[u].key)}for(var h=0,d=t;h<d.length;h++){var p;s.push((p=d[h]).batchId);for(var f=0,m=p.mutations;f<m.length;f++)o=o.add(m[f].key)}return e.localDocuments.getDocuments(n,o).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:s}})})})},t.prototype.localWrite=function(t){var e=this,n=wt.now(),r=t.reduce(function(t,e){return t.add(e.key)},Ft());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var s=[],o=0,a=t;o<a.length;o++){var l=a[o],u=r.get(l.key);if(!l.isIdempotent){var c=l.fieldMask;if(c){var h=u instanceof pe?c.applyTo(u.data):Nn.EMPTY;s.push(new jn(l.key,h,c,Vn.exists(!0)))}}}return e.mutationQueue.addMutationBatch(i,n,s,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):qt.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var s=[],o=Ft();x(e.targetChanges,function(r,a){var l=n.queryDataByTarget[r];if(l){a.addedDocuments.forEach(function(t){o=o.add(t)}),a.modifiedDocuments.forEach(function(t){o=o.add(t)}),s.push(n.queryCache.removeMatchingKeys(i,a.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,a.addedDocuments,r)}));var u=a.resumeToken;if(u.length>0){var c=l;l=l.copy({resumeToken:u,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=l,t.shouldPersistQueryData(c,l,a)&&s.push(n.queryCache.updateQueryData(i,l))}}});var a=Dt(),l=Ft();e.documentUpdates.forEach(function(t,e){l=l.add(t)}),s.push(r.getEntries(i,l).next(function(t){e.documentUpdates.forEach(function(l,u){var c=t.get(l);null==c||u.version.isEqual(Et.MIN)||o.has(u.key)&&!c.hasPendingWrites||u.version.compareTo(c.version)>=0?(r.addEntry(u),a=a.insert(l,u)):f("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(l)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))})}));var u=e.snapshotVersion;if(!u.isEqual(Et.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return v(u.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,u)});s.push(c)}return qt.waitFor(s).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,a)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return qt.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),qt.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,qt.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new Ye(t,i,Qe.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return v(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){v(null!=i,"Tried to release nonexistent query: "+t);var s=i.targetId,o=n.queryDataByTarget[s],a=n.localViewReferences.removeReferencesForId(s);return delete n.queryDataByTarget[s],e?qt.resolve():qt.forEach(a,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,o)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,s=i.keys(),o=qt.resolve();return s.forEach(function(r){o=o.next(function(){return n.getEntry(t,r)}).next(function(t){var s=t,o=e.docVersions.get(r);v(null!==o,"ackVersions should contain every doc in the write."),(!s||s.version.compareTo(o)<0)&&((s=i.applyToRemoteDocument(r,s,e))?n.addEntry(s):v(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),o.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Kn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new It(Wn.compareByKey)}return t.prototype.checkEmpty=function(t){return qt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var s=this.mutationQueue[i];return v(r===s.batchId,"Queue ordering failure: expected batch "+r+", got batch "+s.batchId),this.lastStreamToken=n,qt.resolve()},t.prototype.getLastStreamToken=function(t){return qt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,qt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var s=new Bt(i,e,n,r);this.mutationQueue.push(s);for(var o=0,a=r;o<a.length;o++){var l=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Wn(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast())}return qt.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return qt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return v(null!=n,"Failed to find local mutation batch."),qt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return qt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return qt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wn(e,0),i=new Wn(e,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),s.push(r)}),qt.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new It(G);return e.forEach(function(t){var e=new Wn(t,0),i=new Wn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),qt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;lt.isDocumentKey(i)||(i=i.child(""));var s=new Wn(new lt(i),0),o=new It(G);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.targetOrBatchId)),!0)},s),qt.resolve(this.findMutationBatches(o))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return qt.forEach(e.mutations,function(i){var s=new Wn(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Wn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return qt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),qt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return v(n.batchId===t,"If found batch must match"),n},t}(),Qn=function(){function t(t){this.persistence=t,this.queries=new ge(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Et.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Hn,this.targetCount=0,this.targetIdGenerator=Zt.forQueryCache()}return t.prototype.getTargetCount=function(t){return qt.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),qt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return qt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return qt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,qt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),qt.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return v(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,qt.resolve()},t.prototype.updateQueryData=function(t,e){return v(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),qt.resolve()},t.prototype.removeQueryData=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,qt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.queries.forEach(function(o,a){a.sequenceNumber<=e&&!n[a.targetId]&&(r.queries.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),qt.waitFor(s).next(function(){return i})},t.prototype.getQueryCount=function(t){return qt.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return qt.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),qt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),qt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),qt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return qt.resolve(n)},t.prototype.containsKey=function(t,e){return qt.resolve(this.references.containsKey(e))},t}(),Yn=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new St(lt.comparator),this.newDocumentChanges=Ft(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],i=0,s=e;i<s.length;i++){var o=s[i],a=o.maybeDocument.key;this.docs=this.docs.insert(a,o),this.newDocumentChanges=this.newDocumentChanges.add(a),r.push(this.indexManager.addToCollectionParentIndex(t,a.path.popLast()))}return this.size+=n,qt.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,qt.resolve(n.size)):qt.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return qt.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return qt.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),qt.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Ot(),i=new St(lt.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),qt.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Rt(),r=new lt(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var s=i.getNext(),o=s.value.maybeDocument;if(!e.path.isPrefixOf(s.key.path))break;o instanceof pe&&e.matches(o)&&(n=n.insert(o.key,o))}return qt.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return qt.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Dt();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new fe(t,Et.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Ft(),qt.resolve(n)},t.prototype.newChangeBuffer=function(){return new Xn(this.sizer,this)},t.prototype.getSize=function(t){return qt.resolve(this.size)},t}(),Xn=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var s=e.documentSizes.get(t);v(void 0!==s,"Attempting to change document "+t.toString()+" without having read it first");var o=e.sizer(n);r+=o-s,i.push({maybeDocument:n,size:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(ye),Zn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new rt(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Qn(this),this.indexManager=new xe,this.remoteDocumentCache=new Yn(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new er(t,new Xe(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new tr(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Kn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Jn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return qt.or((n=this.mutationQueues,r=[],I(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Jn=function(){return function(t){this.currentSequenceNumber=t}}(),tr=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),qt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),qt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),qt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return qt.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?qt.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return qt.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return qt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),er=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new ge(function(t){return yt(t.path)}),this.garbageCollector=new rn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return qt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return qt.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?qt.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(s){return n.isPinned(t,s,e).next(function(e){return e?qt.resolve():(r++,i.removeEntry(t,s).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return qt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return qt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return qt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),nr=Number,rr=nr.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ir=nr.MAX_SAFE_INTEGER||Math.pow(2,53)-1,sr=nr.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function or(t){return null==t}function ar(t){return sr(t)&&t<=ir&&t>=rr}var lr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),ur=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),cr=1e3,hr=6e4,dr=1.5,pr=function(){function t(t,e,n,r,i,s){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=s,this.state=ur.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new lr(t,e,cr,dr,hr)}return t.prototype.isStarted=function(){return this.state===ur.Starting||this.state===ur.Open||this.state===ur.Backoff},t.prototype.isOpen=function(){return this.state===ur.Open},t.prototype.start=function(){this.state!==ur.Error?(v(this.state===ur.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ur.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ur.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.isOpen()?[2,this.close(ur.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(t===ur.Error||or(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ur.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===ur.Initial,"Must be in initial state to auth"),this.state=ur.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new E(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;v(this.state===ur.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return v(e.state===ur.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ur.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;v(this.state===ur.Error,"Should only perform backoff when in Error state"),this.state=ur.Backoff,this.backoff.backoffAndRun(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){return v(this.state===ur.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ur.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close(ur.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fr=function(t){function e(e,n,r,i,s){var o=t.call(this,e,ct.ListenStreamConnectionBackoff,ct.ListenStreamIdle,n,r,s)||this;return o.serializer=i,o}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(pr),mr=function(t){function e(e,n,r,i,s){var o=t.call(this,e,ct.WriteStreamConnectionBackoff,ct.WriteStreamIdle,n,r,s)||this;return o.serializer=i,o.handshakeComplete_=!1,o}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(pr),gr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new mr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new fr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Dt();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);v(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),yr=function(){function t(t){this.datastore=t,this.readVersions=Mt(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof pe)e=t.version;else{if(!(t instanceof fe))throw y("Document in a transaction was a "+t.constructor.name);e=Et.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new E(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof fe||t instanceof pe?e.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new E(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?Vn.updateTime(e):Vn.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Et.forDeletedDoc()))throw new E(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?Vn.updateTime(e):Vn.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new zn(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Et.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),vr=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),br=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),_r=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=vr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(vr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ct.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,v(t.state===vr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(vr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===vr.Online?(this.setAndBroadcast(vr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(vr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===vr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),wr=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function Er(t){switch(t){case w.OK:return y("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function Sr(t){if(void 0===t)return m("GRPC error has no .code"),w.UNKNOWN;switch(t){case wr.OK:return w.OK;case wr.CANCELLED:return w.CANCELLED;case wr.UNKNOWN:return w.UNKNOWN;case wr.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case wr.INTERNAL:return w.INTERNAL;case wr.UNAVAILABLE:return w.UNAVAILABLE;case wr.UNAUTHENTICATED:return w.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case wr.NOT_FOUND:return w.NOT_FOUND;case wr.ALREADY_EXISTS:return w.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return w.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case wr.ABORTED:return w.ABORTED;case wr.OUT_OF_RANGE:return w.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return w.UNIMPLEMENTED;case wr.DATA_LOSS:return w.DATA_LOSS;default:return y("Unknown status code: "+t)}}function Cr(t){if(void 0===t)return wr.OK;switch(t){case w.OK:return wr.OK;case w.CANCELLED:return wr.CANCELLED;case w.UNKNOWN:return wr.UNKNOWN;case w.DEADLINE_EXCEEDED:return wr.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return wr.RESOURCE_EXHAUSTED;case w.INTERNAL:return wr.INTERNAL;case w.UNAVAILABLE:return wr.UNAVAILABLE;case w.UNAUTHENTICATED:return wr.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return wr.INVALID_ARGUMENT;case w.NOT_FOUND:return wr.NOT_FOUND;case w.ALREADY_EXISTS:return wr.ALREADY_EXISTS;case w.PERMISSION_DENIED:return wr.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return wr.FAILED_PRECONDITION;case w.ABORTED:return wr.ABORTED;case w.OUT_OF_RANGE:return wr.OUT_OF_RANGE;case w.UNIMPLEMENTED:return wr.UNIMPLEMENTED;case w.DATA_LOSS:return wr.DATA_LOSS;default:return y("Unknown status code: "+t)}}var Tr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||lt.comparator(e.key,n.key)}:function(t,e){return lt.comparator(t.key,e.key)},this.keyedMap=Rt(),this.sortedSet=new St(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),xr=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Ir=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),kr=function(){function t(){this.changeMap=new St(lt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==xr.Added&&n.type===xr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===xr.Metadata&&n.type!==xr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===xr.Modified&&n.type===xr.Modified?this.changeMap=this.changeMap.insert(e,{type:xr.Modified,doc:t.doc}):t.type===xr.Modified&&n.type===xr.Added?this.changeMap=this.changeMap.insert(e,{type:xr.Added,doc:t.doc}):t.type===xr.Removed&&n.type===xr.Added?this.changeMap=this.changeMap.remove(e):t.type===xr.Removed&&n.type===xr.Modified?this.changeMap=this.changeMap.insert(e,{type:xr.Removed,doc:n.doc}):t.type===xr.Added&&n.type===xr.Removed?this.changeMap=this.changeMap.insert(e,{type:xr.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ar=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:xr.Added,doc:t})}),new t(e,n,Tr.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Dr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Or.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Et.MIN,i,Ut(),Dt(),Ft())},t}(),Or=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Ft(),Ft(),Ft())},t}(),Nr=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Rr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Pr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Mr=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Lr=function(){function t(){this.pendingResponses=0,this.documentChanges=Ur(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ft(),e=Ft(),n=Ft();return this.documentChanges.forEach(function(r,i){switch(i){case xr.Added:t=t.add(r);break;case xr.Modified:e=e.add(r);break;case xr.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Or(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ur()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Fr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=Vr(),this.pendingTargetResets=new It(G)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof pe?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof fe&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.removeDocumentFromTarget(r=s[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Pr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Pr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Pr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Pr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Pr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):x(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var s=new lt(i.path);this.removeDocumentFromTarget(e,s,new fe(s,Et.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};x(this.targetStates,function(r,i){var s=e.queryDataForActiveTarget(r);if(s){if(i.current&&s.query.isDocumentQuery()){var o=new lt(s.query.path);null!==e.pendingDocumentUpdates.get(o)||e.targetContainsDocument(r,o)||e.removeDocumentFromTarget(r,o,new fe(o,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Ft();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Qe.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Dr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=Vr(),this.pendingTargetResets=new It(G),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?xr.Modified:xr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,xr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Lr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new It(G),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Lr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Vr(){return new St(lt.comparator)}function Ur(){return new St(lt.comparator)}var Br="RemoteStore",jr=function(){function t(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return o.__awaiter(s,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(Br,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new _r(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(vr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(vr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(f(Br,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return f(Br,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(vr.Unknown),[2]}})})},t.prototype.listen=function(t){v(!C(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){v(C(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),k(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(vr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Fr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!k(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){return x(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return void 0===t&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(vr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(vr.Online),t instanceof Mr&&t.state===Pr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Nr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Rr?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof Mr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Et.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual(Et.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return x(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:_()}),e.sendUnwatchRequest(t);var r=new Ye(n.query,t,Qe.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return C(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(hn)},t.prototype.onMutationResult=function(t,e){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=jt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){var e=this;return o.__generator(this,function(n){return void 0===t&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return Er(t.code)?(f(Br,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(hn)]):[2]})})},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){return Er(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new yr(this.datastore)},t.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(vr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(Br,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(vr.Unknown),e.label=4;case 4:return[2]}})})},t}(),qr=function(){function t(t,e){if(D("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return G(this._lat,t._lat)||G(this._long,t._long)},t}(),zr=function(){function t(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Zr]:[new Xr(t),Zr];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var s=i[r];this.memoizedOrderBy.push(s),s.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Qr.ASCENDING)===Qr.ASCENDING?Zr:Jr)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Wr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";or(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),or(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var s=i[r],o=s.compare(t,e);if(0!==o)return o;n=n||s.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!or(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Wr&&n.isInequality())return n.field}return null},t.prototype.findRelationOpFilter=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Wr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return lt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):lt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),$r=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(_n.INSTANCE)){if(e!==Hr.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Gr(t)}if(n.isEqual(Tn.NAN)){if(e!==Hr.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Kr(t)}return new Wr(t,e,n)},t}(),Hr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Wr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){v(this.value instanceof Dn,"Comparing on key, but filter value not a RefValue"),v(this.op!==Hr.ARRAY_CONTAINS&&this.op!==Hr.ARRAY_CONTAINS_ANY&&this.op!==Hr.IN,"'"+this.op.toString()+"' queries don't make sense on document keys.");var e=lt.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Hr.ARRAY_CONTAINS?t instanceof Rn&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.op===Hr.IN?this.value instanceof Rn?void 0!==this.value.internalValue.find(function(e){return e.isEqual(t)}):y("IN filter has invalid value: "+this.value.toString()):this.op===Hr.ARRAY_CONTAINS_ANY?t instanceof Rn&&t.internalValue.some(function(t){return e.value instanceof Rn&&void 0!==e.value.internalValue.find(function(e){return e.isEqual(t)})}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Hr.LESS_THAN:return t<0;case Hr.LESS_THAN_OR_EQUAL:return t<=0;case Hr.EQUAL:return 0===t;case Hr.GREATER_THAN:return t>0;case Hr.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return[Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}($r),Gr=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}($r),Kr=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}($r),Qr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Yr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],s=this.position[r];if(i.field.isKeyField())v(s instanceof Dn,"Bound has a non-key value where the key path is being used."),n=lt.comparator(s.key,e.key);else{var o=e.field(i.field);v(void 0!==o,"Field should exist since document matched the orderBy already."),n=s.compareTo(o)}if(i.dir===Qr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Xr=function(){function t(t,e){this.field=t,void 0===e&&(e=Qr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?pe.compareByKey(t,e):pe.compareByField(this.field,t,e);switch(this.dir){case Qr.ASCENDING:return n;case Qr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Zr=new Xr(at.keyField(),Qr.ASCENDING),Jr=new Xr(at.keyField(),Qr.DESCENDING),ti=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new kn(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ei=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ii(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rn(e)},t.prototype.isEqual=function(e){return e instanceof t&&K(e.elements,this.elements)},t}(),ni=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ii(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rn(e)},t.prototype.isEqual=function(e){return e instanceof t&&K(e.elements,this.elements)},t}(),ri=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof Cn&&this.operand instanceof Cn?new Cn(t.internalValue+this.operand.internalValue):t instanceof En?new Tn(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ii(t){return t instanceof Rn?t.internalValue.slice():[]}var si,oi,ai=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),li=((si={})[Qr.ASCENDING.name]="ASCENDING",si[Qr.DESCENDING.name]="DESCENDING",si),ui=((oi={})[Hr.LESS_THAN.name]="LESS_THAN",oi[Hr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",oi[Hr.GREATER_THAN.name]="GREATER_THAN",oi[Hr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",oi[Hr.EQUAL.name]="EQUAL",oi[Hr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",oi[Hr.IN.name]="IN",oi[Hr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",oi),ci=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t,e){v(!or(t),e+" is missing")}function di(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var pi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Sr(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return or(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return or(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=di(t.seconds||"0");return new wt(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=ci.exec(t);if(v(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),s=Math.floor(i.getTime()/1e3);return new wt(s,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromBase64String(t)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),Et.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=st.fromString(t);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new lt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?st.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new st(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new st(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof _n)return{nullValue:"NULL_VALUE"};if(t instanceof wn)return{booleanValue:t.value()};if(t instanceof Cn)return{integerValue:""+t.value()};if(t instanceof Tn){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof xn?{stringValue:t.value()}:t instanceof Nn?{mapValue:this.toMapValue(t)}:t instanceof Rn?{arrayValue:this.toArrayValue(t)}:t instanceof In?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof On?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof An?{bytesValue:this.toBytes(t.value())}:t instanceof Dn?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return _n.INSTANCE;if("booleanValue"in t)return wn.of(t.booleanValue);if("integerValue"in t)return new Cn(di(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Tn.NAN;if("Infinity"===t.doubleValue)return Tn.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Tn.NEGATIVE_INFINITY}return new Tn(t.doubleValue)}if("stringValue"in t)return new xn(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return hi(t.arrayValue,"arrayValue"),new Rn((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return hi(t.timestampValue,"timestampValue"),new In(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return hi(t.geoPointValue,"geoPointValue"),new On(new qr(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){hi(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new An(n)}if("referenceValue"in t){hi(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new nt(r.get(1),r.get(3)),s=new lt(this.extractLocalPathFromResourceName(r));return new Dn(i,s)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new pe(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Nn.EMPTY;return I(t,function(t,r){n=n.set(new at([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){v(!!t.found,"Tried to deserialize a found document from a missing document."),hi(t.found.name,"doc.found.name"),hi(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new pe(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new fe(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Pr.Added:return"ADD";case Pr.Current:return"CURRENT";case Pr.NoChange:return"NO_CHANGE";case Pr.Removed:return"REMOVE";case Pr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Rr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Nr){var e;if(t.newDoc instanceof pe)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof fe)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Mr){var n=void 0;return t.cause&&(n={code:Cr(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e;if("targetChange"in t){hi(t.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),s=t.targetChange.cause,o=s&&this.fromRpcStatus(s);e=new Mr(n,r,i,o||null)}else if("documentChange"in t){hi(t.documentChange,"documentChange"),hi(t.documentChange.document,"documentChange.name"),hi(t.documentChange.document.name,"documentChange.document.name"),hi(t.documentChange.document.updateTime,"documentChange.document.updateTime");var a=t.documentChange,l=this.fromName(a.document.name),u=this.fromVersion(a.document.updateTime),c=this.fromFields(a.document.fields||{}),h=new pe(l,u,c,{},a.document);e=new Nr(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){hi(t.documentDelete,"documentDelete"),hi(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;l=this.fromName(d.document),u=d.readTime?this.fromVersion(d.readTime):Et.forDeletedDoc(),h=new fe(l,u),e=new Nr([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){hi(t.documentRemove,"documentRemove"),hi(t.documentRemove.document,"documentRemove");var p=t.documentRemove;l=this.fromName(p.document),e=new Nr([],p.removedTargetIds||[],l,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));hi(t.filter,"filter"),hi(t.filter.targetId,"filter.targetId");var f=t.filter,m=new ai(f.count||0);e=new Rr(f.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Pr.NoChange:"ADD"===t?Pr.Added:"REMOVE"===t?Pr.Removed:"CURRENT"===t?Pr.Current:"RESET"===t?Pr.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return Et.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Et.MIN:e.readTime?this.fromVersion(e.readTime):Et.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof Bn)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof zn)e={delete:this.toName(t.key)};else if(t instanceof jn)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof qn))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Vn.NONE;if(t.update){hi(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var s=this.fromDocumentMask(t.updateMask);return new jn(r,i,s,n)}return new Bn(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new zn(r,n);if(t.transform){r=this.fromName(t.transform.document);var o=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new qn(r,o)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Vn.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Vn.exists(t.exists):Vn.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new Ln(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ti)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ei)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ni)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ri)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=ti.instance;else if("appendMissingElements"in t)n=new ei((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new ni((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var r=this.fromValue(t.increment);v(r instanceof En,"NUMERIC_ADD transform requires a NumberValue"),n=new ri(r)}else y("Unknown transform proto: "+JSON.stringify(t));var i=at.fromServerFormat(t.fieldPath);return new Mn(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return v(1===e,"DocumentsTarget contained other than 1 document: "+e),zr.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var s=this.toInt32Value(t.limit);return void 0!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new zr(e,i,a,o,l,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Qe.Listen:return null;case Qe.ExistenceFilterMismatch:return"existence-filter-mismatch";case Qe.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Wr?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Yr(r,n)},t.prototype.toDirection=function(t){return li[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Qr.ASCENDING;case"DESCENDING":return Qr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return ui[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Hr.EQUAL;case"GREATER_THAN":return Hr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Hr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Hr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Hr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Hr.ARRAY_CONTAINS;case"IN":return Hr.IN;case"ARRAY_CONTAINS_ANY":return Hr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return at.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Xr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Wr?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Wr(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Kr?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Gr?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Kr(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Gr(n);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return at.fromServerFormat(t)});return Pn.fromArray(e)},t}(),fi=function(){return function(){this.listeners=[]}}(),mi=function(){function t(t){this.syncEngine=t,this.queries=new ge(function(t){return t.canonicalId()}),this.onlineState=vr.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new fi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(s){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var s=0,o=i.listeners;s<o.length;s++)o[s].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),gi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=vr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==xr.Metadata&&e.push(i)}t=new Ar(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==vr.Offline?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===vr.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Ar.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),yi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Ft(),i=Ft(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case xr.Added:r=r.add(a.doc.key);break;case xr.Removed:i=i.add(a.doc.key)}}return new t(e,r,i)},t}(),vi=function(){return function(t){this.key=t}}(),bi=function(){return function(t){this.key=t}}(),_i=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ft(),this.mutatedKeys=Ft(),this.documentSet=new Tr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new kr,i=e?e.documentSet:this.documentSet,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var u=i.get(t),c=e instanceof pe?e:null;c&&(v(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!u&&n.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(r.track({type:xr.Metadata,doc:c}),p=!0):n.shouldWaitForSyncedDocument(u,c)||(r.track({type:xr.Modified,doc:c}),p=!0,l&&n.query.docComparator(c,l)>0&&(a=!0)):!u&&c?(r.track({type:xr.Added,doc:c}),p=!0):u&&!c&&(r.track({type:xr.Removed,doc:u}),p=!0,l&&(a=!0)),p&&(c?(o=o.add(c),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),this.query.hasLimit())for(;o.size>this.query.limit;){var u=o.last();o=o.delete(u.key),s=s.delete(u.key),r.track({type:xr.Removed,doc:u})}return v(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;v(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var s=t.changeSet.getChanges();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case xr.Added:return 1;case xr.Modified:case xr.Metadata:return 2;case xr.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var o=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Ir.Synced:Ir.Local,l=a!==this.syncState;return this.syncState=a,0!==s.length||l?{snapshot:new Ar(this.query,t.documentSet,i,s,t.mutatedKeys,a===Ir.Local,l,!1),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===vr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new kr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return v(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ft(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new bi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new vi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ft();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Ar.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ir.Local)},t}(),wi=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Ei=function(){return function(t){this.key=t}}(),Si=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new ge(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new St(lt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Hn,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Zt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=vr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=o.sent(),s=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(s){var o=new _i(r,s),a=o.computeDocChanges(i),l=Or.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==vr.Offline),u=o.applyChanges(a,!0===n.isPrimary,l);v(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!u.snapshot,"applyChanges for new view should always return a snapshot");var c=new wi(r,t.targetId,o);return n.queryViewsByQuery.set(r,c),n.queryViewsByTarget[t.targetId]=c,u.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return o.__awaiter(e,void 0,void 0,function(){var e;return o.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(hn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),v(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!or(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return I(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[Number(t)];r&&(v(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(hn)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===br.RemoteStore||!this.isPrimary&&e===br.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s,a,l,u=this;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new St(lt.comparator)).insert(r,new fe(r,Et.forDeletedDoc())),s=Ft().add(r),a=new Dr(Et.MIN,{},new It(G),i,s),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return v(!!(l=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(l.query,!1).then(function(){return u.removeAndCleanupQuery(l)}).catch(hn)];case 2:o.sent(),this.syncEngineListener.onWatchError(l.query,e),o.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(hn)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(hn)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new St(G)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(v(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof vi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof bi?(f("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=zr.atPath(e.path);this.limboResolutionsByTarget[n]=new Ei(e),this.remoteStore.listen(new Ye(r,n,Qe.LimboResolution,rt.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s=this;return o.__generator(this,function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(o,a){i.push(Promise.resolve().then(function(){var e=a.view.computeDocChanges(t);return e.needsRefill?s.localStore.executeQuery(a.query).then(function(t){return a.view.computeDocChanges(t,e)}):e}).then(function(t){var i=a.view.applyChanges(t,!0===s.isPrimary,e&&e.targetChanges[a.targetId]);if(s.updateTrackedLimbos(a.targetId,i.limboChanges),i.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=yi.fromSnapshot(a.targetId,i.snapshot);r.push(o)}}))}),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s,a,l=this;return o.__generator(this,function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=o.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),x(this.queryViewsByTarget,function(t,e){l.sharedClientState.isLocalQueryTarget(t)?s.push(t):a=a.then(function(){return l.unlisten(e.query)}),l.remoteStore.unlisten(e.targetId)}),[4,a]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;x(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new St(lt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],s=function(t){n=n.then(function(){return o.__awaiter(e,void 0,void 0,function(){var e,n,s,a;return o.__generator(this,function(o){switch(o.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return o.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=o.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(s=o.sent()).snapshot&&i.push(s.snapshot),[3,8];case 4:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return v(!!(a=o.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return e=o.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:o.sent(),o.label=8;case 8:return r.push(e),[2]}})})})},a=0,l=t;a<l.length;a++)s(l[a]);return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r,i=this;return o.__generator(this,function(s){switch(s.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return o.__awaiter(i,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return r=Dr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return o.__awaiter(i,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===w.DATA_LOSS&&t.message===ve}(t)?(e=[],x(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return s.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:y("Unexpected target state: "+e),s.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s,a,l,u,c,h,d=this;return o.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(v(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return s=p.sent(),[4,this.initializeViewAndComputeSnapshot(s,!1)];case 4:p.sent(),this.remoteStore.listen(s),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return o.__generator(this,function(n){switch(n.label){case 0:return(e=l.queryViewsByTarget[t])?[4,l.localStore.releaseQuery(e.query,!1).then(function(){d.remoteStore.unlisten(t),d.removeAndCleanupQuery(e)}).catch(hn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},l=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,a(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ft().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ft()},t}(),Ci=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ti="SharedClientState",xi="firestore_clients",Ii="firestore_mutations",ki="firestore_targets",Ai="firestore_online_state",Di="firestore_sequence_number",Oi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new E(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(m(Ti,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ni=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new E(r.error.code,r.error.message)),i?new t(e,r.state,s):(m(Ti,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ri=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ut(),o=0;i&&o<r.activeTargetIds.length;++o)i=ar(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(m(Ti,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Pi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in vr&&"string"==typeof n.clientId?new t(n.clientId,vr[n.onlineState]):(m(Ti,"Failed to parse online state: "+e),null)},t}(),Mi=function(){function t(){this.activeTargetIds=Ut()}return t.prototype.addQueryTarget=function(t){v(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Li=function(){function t(e,n,r,i,s){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=s,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Di+"_"+r,this.activeClients[this.localClientId]=new Mi,this.clientStateKeyRe=new RegExp("^"+xi+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ii+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+ki+"_"+o+"_(\\d+)$"),this.onlineStateKey=Ai+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,s,a,l,u,c,h=this;return o.__generator(this,function(o){switch(o.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(s=Ri.fromWebStorageEntry(r,i))&&(this.activeClients[s.clientId]=s);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(l=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(l),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ut();return I(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ni.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f(Ti,"READ",t,e),e},t.prototype.setItem=function(t,e){f(Ti,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f(Ti,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(f(Ti,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){var e,n,r,i,s,a;return o.__generator(this,function(o){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(s=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(s)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=rt.INVALID;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){m(Ti,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==rt.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Oi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:vr[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ni(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),xi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return ki+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ii+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return v(null!==n,"Cannot parse client state key '"+t+"'"),Ri.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);v(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Oi.fromWebStorageEntry(new Ci(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);v(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ni.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Pi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(f(Ti,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),s=[],a=[];return i.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return r.has(t)||s.push(t),[2]})})}),r.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(s,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Fi=function(){function t(){this.localState=new Mi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Mi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Vi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return en.withCacheSize(this.cacheSizeBytes)},t}(),Ui=function(){return function(){}}(),Bi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=W.newId(),this._clientShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new ut,r=new ut,i=!1;return this.credentials.setChangeListener(function(s){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(s)}):(i=!0,e.initializePersistence(t,r,s).then(function(t){return e.initializeRest(s,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Vi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new E(w.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=cn.buildStoragePrefix(this.databaseInfo),i=new pi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return o.__awaiter(n,void 0,void 0,function(){var n,s;return o.__generator(this,function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Li.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return s=e.lruParams(),e.synchronizeTabs?(this.sharedClientState=new Li(this.asyncQueue,this.platform,r,this.clientId,t),[4,cn.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,s,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=o.sent(),[3,4];case 2:return this.sharedClientState=new Fi,[4,cn.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,s)];case 3:n=o.sent(),o.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Zn.createEagerPersistence(this.clientId),this.sharedClientState=new Fi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return f("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return o.__awaiter(n,void 0,void 0,function(){var n,i,s,a,l=this;return o.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Gn(this.persistence,t),e&&(this.lruScheduler=new nn(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),s=new gr(this.asyncQueue,r,this.credentials,i),a=function(t){return l.syncEngine.applyOnlineStateChange(t,br.SharedClientState)},this.remoteStore=new jr(this.localStore,s,this.asyncQueue,function(t){return l.syncEngine.applyOnlineStateChange(t,br.RemoteStore)},n),this.syncEngine=new Si(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new mi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return o.__awaiter(l,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return o.__awaiter(l,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.shutdown()];case 1:return t.sent(),[2]}})})})];case 4:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.enqueue(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:t.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,t.label=4;case 4:return[2]}})})})},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var i=new gi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof pe)return t;if(t instanceof fe)return null;throw new E(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Ft(),r=new _i(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new ut;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(t.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),ji=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),qi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new E(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+H(1,"element")+".")}();for(var n=0;n<t.length;++n)if(R("FieldPath","string",n,t[n]),0===t[n].length)throw new E(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(at.keyField().canonicalString()),t}(),zi=new RegExp("[~\\*/\\[\\]]"),$i=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Hi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Ci.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Wi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new E(w.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new $i(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new Ci(t)},t}(),Gi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Ci.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Ki=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Gi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Ci.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Qi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Yi=function(){function t(t){this._methodName=t}return t.delete=function(){return A("FieldValue.delete",arguments),Xi.instance},t.serverTimestamp=function(){return A("FieldValue.serverTimestamp",arguments),Zi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("FieldValue.arrayUnion",arguments,1),new Ji(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("FieldValue.arrayRemove",arguments,1),new ts(t)},t.increment=function(t){return R("FieldValue.increment","number",1,t),D("FieldValue.increment",arguments,1),new es(t)},t.prototype.isEqual=function(t){return this===t},t}(),Xi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(Yi),Zi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(Yi),Ji=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(Yi),ts=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(Yi),es=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return o.__extends(e,t),e}(Yi),ns=S(Yi,"Use FieldValue.<field>() instead."),rs=/^__.*__$/,is=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new jn(t,this.data,this.fieldMask,e):new Bn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new qn(t,this.fieldTransforms)),n},t}(),ss=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new jn(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new qn(t,this.fieldTransforms)),n},t}(),os=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function as(t){switch(t){case os.Set:case os.MergeSet:case os.Update:return!0;case os.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var ls=function(){function t(t,e,n,r,i,s){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=s||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(as(this.dataSource)&&rs.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),us=function(){return function(t,e){this.databaseId=t,this.key=e}}(),cs=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new ls(os.Set,t,at.EMPTY_PATH);ds("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new is(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new ls(os.MergeSet,t,at.EMPTY_PATH);ds("Data must be an object, but it was:",r,e);var i,s,o=this.parseData(e,r);if(n){for(var a=new It(at.comparator),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof qi)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=fs(t,c)}if(!r.contains(h))throw new E(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=Pn.fromSet(a),s=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=Pn.fromArray(r.fieldMask),s=r.fieldTransforms;return new is(o,i,s)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new ls(os.Update,t,at.EMPTY_PATH);ds("Data must be an object, but it was:",r,e);var i=new It(at.comparator),s=Nn.EMPTY;I(e,function(e,o){var a=fs(t,e),l=r.childContextForFieldPath(a);if((o=n.runPreConverter(o,l))instanceof Xi)i=i.add(a);else{var u=n.parseData(o,l);null!=u&&(i=i.add(a),s=s.set(a,u))}});var o=Pn.fromSet(i);return new ss(s,o,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new ls(os.Update,t,at.EMPTY_PATH),s=[ps(t,e)],o=[n];if(r.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)s.push(ps(t,r[a])),o.push(r[a+1]);var l=new It(at.comparator),u=Nn.EMPTY;for(a=0;a<s.length;++a){var c=s[a],h=i.childContextForFieldPath(c),d=this.runPreConverter(o[a],h);if(d instanceof Xi)l=l.add(c);else{var p=this.parseData(d,h);null!=p&&(l=l.add(c),u=u.set(c,p))}}var f=Pn.fromSet(l);return new ss(u,f,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new ls(os.Argument,t,at.EMPTY_PATH),r=this.parseData(e,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=ms(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(hs(t=this.runPreConverter(t,e)))return ds("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Yi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new St(G);return k(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):I(t,function(t,i){var s=n.parseData(i,e.childContextForField(t));null!=s&&(r=r.insert(t,s))}),new Nn(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=this.parseData(s[i],e.childContextForArray(r));null==o&&(o=_n.INSTANCE),n.push(o),r++}return new Rn(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!as(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Xi){if(e.dataSource!==os.MergeSet)throw e.dataSource===os.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Zi)e.fieldTransforms.push(new Mn(e.path,ti.instance));else if(t instanceof Ji){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ei(n);e.fieldTransforms.push(new Mn(e.path,r))}else if(t instanceof ts){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ni(n);e.fieldTransforms.push(new Mn(e.path,i))}else if(t instanceof es){var s=this.parseQueryValue("FieldValue.increment",t._operand),o=new ri(s);e.fieldTransforms.push(new Mn(e.path,o))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return _n.INSTANCE;if("number"==typeof t)return ar(t)?new Cn(t):new Tn(t);if("boolean"==typeof t)return wn.of(t);if("string"==typeof t)return new xn(t);if(t instanceof Date)return new In(wt.fromDate(t));if(t instanceof wt)return new In(new wt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof qr)return new On(t);if(t instanceof Z)return new An(t);if(t instanceof us)return new Dn(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new ls(os.Argument,t,at.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function hs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof qr||t instanceof Z||t instanceof us||t instanceof Yi)}function ds(t,e,n){if(!hs(n)||!U(n)){var r=B(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function ps(t,e){if(e instanceof qi)return e._internalPath;if("string"==typeof e)return fs(t,e);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function fs(t,e){try{return function(t){if(t.search(zi)>=0)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(qi.bind.apply(qi,[void 0].concat(t.split("."))))}catch(e){throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=ms(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function ms(t){return t instanceof Error?t.message:t.toString()}var gs="firestore.googleapis.com",ys=!0,vs=!0,bs=!1,_s=en.COLLECTION_DISABLED,ws=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gs,this.ssl=ys}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=T(t.ssl,ys);if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=T(t.timestampsInSnapshots,vs),L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=en.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==_s&&t.cacheSizeBytes<en.MINIMUM_CACHE_SIZE_BYTES)throw new E(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+en.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?bs:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Es=function(){return function(){}}(),Ss=function(){function t(e){var n=this;this._queue=new dt,this.INTERNAL={delete:function(){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),[2]}})})}};var r=new Es;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Wi(i)}else{var s=e;if(!s.projectId)throw new E(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new nt(s.projectId,s.database),r.persistenceKey="[DEFAULT]",r.credentials=new Hi}r.settings=new ws({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(D("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),C(t,"persistence"))throw new E(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new ws(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Hi;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Ki(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=T(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Vi(this._config.settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=cn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ut;return this._queue.enqueueAndForget(function(){return o.__awaiter(t,void 0,void 0,function(){var t;return o.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new E(w.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,cn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ui),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new tt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;v(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),v(!this._firestoreClient,"configureClient() called multiple times");var n=this.makeDatabaseInfo();return this._dataConverter=new cs(function(t){if(t instanceof xs){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new E(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new us(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Bi(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!C(e,"projectId"))throw new E(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new E(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new nt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new E(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return D("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Ns(st.fromString(t),this)},t.prototype.doc=function(t){return D("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),xs.forPath(st.fromString(t),this)},t.prototype.collectionGroup=function(t){if(D("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ds(new zr(st.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Cs(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Ts(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(D("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new E(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Cs=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=Ls("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof fe)return new ks(e._firestore,n._key,null,!1,!1);if(r instanceof pe)return new ks(e._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=Ls("Transaction.set",t,this._firestore),i=(n=Rs("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof qi?(O("Transaction.update",arguments,3),r=Ls("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,s)):(D("Transaction.update",arguments,2),r=Ls("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=Ls("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Ts=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Ls("WriteBatch.set",t,this._firestore),i=(n=Rs("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Vn.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.verifyNotCommitted(),"string"==typeof e||e instanceof qi?(O("WriteBatch.update",arguments,3),r=Ls("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,s)):(D("WriteBatch.update",arguments,2),r=Ls("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Vn.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Ls("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new zn(e._key,Vn.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),xs=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new lt(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ns(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new E(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=st.fromString(t);return new Ns(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2);var n=(e=Rs("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Vn.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof qi?(O("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Vn.exists(!0)))},t.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new zn(this._key,Vn.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Qi(t[i])||(q("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var s={includeMetadataChanges:r.includeMetadataChanges};return Qi(t[i])?n=t[i]:(R("DocumentReference.onSnapshot","function",i,t[i]),P("DocumentReference.onSnapshot","function",i+1,t[i+1]),P("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(s,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new ks(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),s=this._firestoreClient.listen(zr.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(s)}},t.prototype.get=function(t){var e=this;return N("DocumentReference.get",arguments,0,1),Ms("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new ks(e.firestore,e._key,t,!0,t instanceof pe&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new E(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Is=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ks=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return N("DocumentSnapshot.data",arguments,0,1),t=Ps("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,vn.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(N("DocumentSnapshot.get",arguments,1,2),e=Ps("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(ps("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,vn.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xs(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Is(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Nn)return this.convertObject(t,e);if(t instanceof Rn)return this.convertArray(t,e);if(t instanceof Dn){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new xs(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),As=function(t){function e(e,n,r,i,s){return t.call(this,e,n,r,i,s)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(ks),Ds=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){D("Query.where",arguments,3),j("Query.where",3,r),"in"!==n&&"array-contains-any"!==n&&function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new E(w.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function Query.where() for its "+$(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var i,s=ps("Query.where",e),o=Hr.fromString(n);if(s.isKeyField()){if(o===Hr.ARRAY_CONTAINS||o===Hr.ARRAY_CONTAINS_ANY||o===Hr.IN)throw new E(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if("string"==typeof r){if(""===r)throw new E(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var a=this._query.path.child(st.fromString(r));if(!lt.isDocumentKey(a))throw new E(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");i=new Dn(this.firestore._databaseId,new lt(a))}else{if(!(r instanceof xs))throw new E(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+B(r)+".");i=new Dn(this.firestore._databaseId,r._key)}}else{if(o===Hr.IN||o===Hr.ARRAY_CONTAINS_ANY){if(!Array.isArray(r)||0===r.length)throw new E(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+o.toString()+"' filters.");if(r.length>10)throw new E(w.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters support a maximum of 10 elements in the value array.")}i=this.firestore._dataConverter.parseQueryValue("Query.where",r)}var l=$r.create(s,o,i);return this.validateNewFilter(l),new t(this._query.addFilter(l),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Qr.ASCENDING;else{if("desc"!==n)throw new E(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Qr.DESCENDING}if(null!==this._query.startAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ps("Query.orderBy",e),s=new Xr(i,r);return this.validateNewOrderBy(s),new t(this._query.addOrderBy(s),this.firestore)},t.prototype.limit=function(e){if(D("Query.limit",arguments,1),R("Query.limit","number",1,e),e<=0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(j(t,1,e),e instanceof ks){if(n.length>0)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new E(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var s=[e].concat(n);return this.boundFromFields(t,s,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,s=this._query.orderBy;i<s.length;i++){var o=s[i];if(o.field.isKeyField())r.push(new Dn(this.firestore._databaseId,e.key));else{var a=e.field(o.field);if(a instanceof kn)throw new E(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===a){var l=o.field.canonicalString();throw new E(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Yr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],s=0;s<e.length;s++){var o=e[s];if(r[s].field.isKeyField()){if("string"!=typeof o)throw new E(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof o);if(!this._query.isCollectionGroupQuery()&&-1!==o.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+o+"' contains a slash.");var a=this._query.path.child(st.fromString(o));if(!lt.isDocumentKey(a))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new lt(a);i.push(new Dn(this.firestore._databaseId,l))}else{var u=this.firestore._dataConverter.parseQueryValue(t,o);i.push(u)}}return new Yr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Qi(t[i])||(q("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Qi(t[i])?n=t[i]:(R("Query.onSnapshot","function",i,t[i]),P("Query.onSnapshot","function",i+1,t[i+1]),P("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){e.next&&e.next(new Os(n.firestore,n._query,t))},error:r}),s=this.firestore.ensureClientConfigured(),o=s.listen(this._query,i,t);return function(){i.mute(),s.unlisten(o)}},t.prototype.get=function(t){var e=this;return N("Query.get",arguments,0,1),Ms("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Os(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Wr){var e=[Hr.ARRAY_CONTAINS,Hr.ARRAY_CONTAINS_ANY],n=[Hr.IN,Hr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var s=this._query.getInequalityFilterField();if(null!==s&&!s.isEqual(t.field))throw new E(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+t.field.toString()+"'");var o=this._query.getFirstOrderByField();null!==o&&this.validateOrderByAndInequalityMatch(t.field,o)}else if(i||r){var a=null;if(i&&(a=this._query.findRelationOpFilter(n)),null===a&&r&&(a=this._query.findRelationOpFilter(e)),null!=a)throw new E(w.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Os=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Is(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Ds(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new E(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var s=new As(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return v(e.type===xr.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:i++}})}var s=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==xr.Metadata}).map(function(e){var r=new As(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,o=-1;return e.type!==xr.Added&&(v((i=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),e.type!==xr.Removed&&(o=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:Fs(e.type),doc:r,oldIndex:i,newIndex:o}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new As(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Os.prototype.docChanges,t,{get:function(){return function(){throw new E(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Ns=function(t){function e(e,n){var r=t.call(this,zr.atPath(e),n)||this;if(e.length%2!=1)throw new E(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new xs(new lt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=W.newId()),R("CollectionReference.doc","non-empty string",1,t),""===t)throw new E(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=st.fromString(t);return xs.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Ds);function Rs(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+s+" was: "+B(r[s]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof qi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Ps(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ms(t,e){P(t,"object",1,e),e&&(q(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function Ls(t,e,n){if(e instanceof xs){if(e.firestore!==n)throw new E(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function Fs(t){switch(t){case xr.Added:return"added";case xr.Modified:case xr.Metadata:return"modified";case xr.Removed:return"removed";default:return y("Unknown change type: "+t)}}var Vs=S(Ss,"Use firebase.firestore() instead."),Us=S(Cs,"Use firebase.firestore().runTransaction() instead."),Bs=S(Ts,"Use firebase.firestore().batch() instead."),js=S(xs,"Use firebase.firestore().doc() instead."),qs=S(ks),zs=S(As),$s=S(Ds),Hs=S(Os),Ws=S(Ns,"Use firebase.firestore().collection() instead."),Gs={Firestore:Vs,GeoPoint:qr,Timestamp:wt,Blob:J,Transaction:Us,WriteBatch:Bs,DocumentReference:js,DocumentSnapshot:qs,Query:$s,QueryDocumentSnapshot:zs,QuerySnapshot:Hs,CollectionReference:Ws,FieldPath:qi,FieldValue:ns,setLogLevel:Ss.setLogLevel,CACHE_SIZE_UNLIMITED:_s},Ks=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),Qs=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ys=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),Xs="Connection",Zs={BatchGetDocuments:"batchGet",Commit:"commit"},Js="gl-js/ fire/"+u,to=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Js},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(s,o){var a=new l.XhrIo;a.listenOnce(l.EventType.COMPLETE,function(){try{switch(a.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var e=a.getResponseJson();f(Xs,"XHR received:",JSON.stringify(e)),s(e);break;case l.ErrorCode.TIMEOUT:f(Xs,'RPC "'+t+'" timed out'),o(new E(w.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=a.getStatus();f(Xs,'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0?o(new E(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+a.getStatusText())):(f(Xs,'RPC "'+t+'" failed'),o(new E(w.UNAVAILABLE,"Connection failed.")));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{f(Xs,'RPC "'+t+'" completed.')}});var u=JSON.stringify(e);f(Xs,"XHR sending: ",i+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),a.send(i,"POST",u,c,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=l.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),a.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");f(Xs,"Creating WebChannel: "+s+" "+i);var o=r.createWebChannel(s,i),u=!1,c=!1,h=new Ys({sendFn:function(t){c?f(Xs,"Not sending because WebChannel is closed:",t):(u||(f(Xs,"Opening WebChannel transport."),o.open(),u=!0),f(Xs,"WebChannel sending:",t),o.send(t))},closeFn:function(){return o.close()}}),d=function(t,e){o.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return d(l.WebChannel.EventType.OPEN,function(){c||f(Xs,"WebChannel transport opened.")}),d(l.WebChannel.EventType.CLOSE,function(){c||(c=!0,f(Xs,"WebChannel transport closed"),h.callOnClose())}),d(l.WebChannel.EventType.ERROR,function(t){c||(c=!0,f(Xs,"WebChannel transport errored:",t),h.callOnClose(new E(w.UNAVAILABLE,"The operation could not be completed")))}),d(l.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];v(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){f(Xs,"WebChannel received error:",n);var r=n.status,i=function(t){var e=wr[r];if(void 0!==e)return Sr(e)}(),s=n.message;void 0===i&&(i=w.INTERNAL,s="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new E(i,s)),o.close()}else f(Xs,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=Zs[t];v(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();function eo(t){t.INTERNAL.registerService("firestore",function(t){return new Ss(t)},function(t){v(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Gs))}b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new to(t))},t.prototype.newConnectivityMonitor=function(){return Qs.isAvailable()?new Qs:new Ks},t.prototype.newSerializer=function(t){return new pi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),eo(i),e.registerFirestore=eo},LvDl:function(t,e,n){(function(t){var r;(function(){var i,s=200,o="Expected a function",a="__lodash_placeholder__",l=1,u=2,c=4,h=1,d=2,p=1,f=2,m=4,g=8,y=16,v=32,b=64,_=128,w=256,E=512,S=800,C=16,T=1/0,x=9007199254740991,I=1.7976931348623157e308,k=NaN,A=4294967295,D=A-1,O=A>>>1,N=[["ary",_],["bind",p],["bindKey",f],["curry",g],["curryRight",y],["flip",E],["partial",v],["partialRight",b],["rearg",w]],R="[object Arguments]",P="[object Array]",M="[object AsyncFunction]",L="[object Boolean]",F="[object Date]",V="[object DOMException]",U="[object Error]",B="[object Function]",j="[object GeneratorFunction]",q="[object Map]",z="[object Number]",$="[object Null]",H="[object Object]",W="[object Proxy]",G="[object RegExp]",K="[object Set]",Q="[object String]",Y="[object Symbol]",X="[object Undefined]",Z="[object WeakMap]",J="[object ArrayBuffer]",tt="[object DataView]",et="[object Float32Array]",nt="[object Float64Array]",rt="[object Int8Array]",it="[object Int16Array]",st="[object Int32Array]",ot="[object Uint8Array]",at="[object Uint8ClampedArray]",lt="[object Uint16Array]",ut="[object Uint32Array]",ct=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39);/g,ft=/[&<>"']/g,mt=RegExp(pt.source),gt=RegExp(ft.source),yt=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,bt=/<%=([\s\S]+?)%>/g,_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wt=/^\w*$/,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,Ct=RegExp(St.source),Tt=/^\s+|\s+$/g,xt=/^\s+/,It=/\s+$/,kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,At=/\{\n\/\* \[wrapped with (.+)\] \*/,Dt=/,? & /,Ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pt=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,Bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jt=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ht="["+$t+"]",Wt="["+zt+"]",Gt="\\d+",Kt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Qt="[^\\ud800-\\udfff"+$t+Gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Yt="\\ud83c[\\udffb-\\udfff]",Xt="[^\\ud800-\\udfff]",Zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Jt="[\\ud800-\\udbff][\\udc00-\\udfff]",te="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ee="(?:"+Kt+"|"+Qt+")",ne="(?:"+te+"|"+Qt+")",re="(?:"+Wt+"|"+Yt+")?",ie="[\\ufe0e\\ufe0f]?"+re+"(?:\\u200d(?:"+[Xt,Zt,Jt].join("|")+")[\\ufe0e\\ufe0f]?"+re+")*",se="(?:"+["[\\u2700-\\u27bf]",Zt,Jt].join("|")+")"+ie,oe="(?:"+[Xt+Wt+"?",Wt,Zt,Jt,"[\\ud800-\\udfff]"].join("|")+")",ae=RegExp("['\u2019]","g"),le=RegExp(Wt,"g"),ue=RegExp(Yt+"(?="+Yt+")|"+oe+ie,"g"),ce=RegExp([te+"?"+Kt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Ht,te,"$"].join("|")+")",ne+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Ht,te+ee,"$"].join("|")+")",te+"?"+ee+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",te+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gt,se].join("|"),"g"),he=RegExp("[\\u200d\\ud800-\\udfff"+zt+"\\ufe0e\\ufe0f]"),de=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fe=-1,me={};me[et]=me[nt]=me[rt]=me[it]=me[st]=me[ot]=me[at]=me[lt]=me[ut]=!0,me[R]=me[P]=me[J]=me[L]=me[tt]=me[F]=me[U]=me[B]=me[q]=me[z]=me[H]=me[G]=me[K]=me[Q]=me[Z]=!1;var ge={};ge[R]=ge[P]=ge[J]=ge[tt]=ge[L]=ge[F]=ge[et]=ge[nt]=ge[rt]=ge[it]=ge[st]=ge[q]=ge[z]=ge[H]=ge[G]=ge[K]=ge[Q]=ge[Y]=ge[ot]=ge[at]=ge[lt]=ge[ut]=!0,ge[U]=ge[B]=ge[Z]=!1;var ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ve=parseFloat,be=parseInt,_e="object"==typeof global&&global&&global.Object===Object&&global,we="object"==typeof self&&self&&self.Object===Object&&self,Ee=_e||we||Function("return this")(),Se=e&&!e.nodeType&&e,Ce=Se&&"object"==typeof t&&t&&!t.nodeType&&t,Te=Ce&&Ce.exports===Se,xe=Te&&_e.process,Ie=function(){try{return Ce&&Ce.require&&Ce.require("util").types||xe&&xe.binding&&xe.binding("util")}catch(t){}}(),ke=Ie&&Ie.isArrayBuffer,Ae=Ie&&Ie.isDate,De=Ie&&Ie.isMap,Oe=Ie&&Ie.isRegExp,Ne=Ie&&Ie.isSet,Re=Ie&&Ie.isTypedArray;function Pe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Me(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function Le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Fe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ve(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ue(t,e){return!(null==t||!t.length)&&Qe(t,e,0)>-1}function Be(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function je(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function qe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ze(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function $e(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function He(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var We=Je("length");function Ge(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function Ke(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Qe(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ke(t,Xe,n)}function Ye(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function Xe(t){return t!=t}function Ze(t,e){var n=null==t?0:t.length;return n?nn(t,e)/n:k}function Je(t){return function(e){return null==e?i:e[t]}}function tn(t){return function(e){return null==t?i:t[e]}}function en(t,e,n,r,i){return i(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}function nn(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function rn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function sn(t){return function(e){return t(e)}}function on(t,e){return je(e,function(e){return t[e]})}function an(t,e){return t.has(e)}function ln(t,e){for(var n=-1,r=t.length;++n<r&&Qe(e,t[n],0)>-1;);return n}function un(t,e){for(var n=t.length;n--&&Qe(e,t[n],0)>-1;);return n}var cn=tn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),hn=tn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dn(t){return"\\"+ye[t]}function pn(t){return he.test(t)}function fn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function mn(t,e){return function(n){return t(e(n))}}function gn(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];o!==e&&o!==a||(t[n]=a,s[i++]=n)}return s}function yn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function vn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function bn(t){return pn(t)?function(t){for(var e=ue.lastIndex=0;ue.test(t);)++e;return e}(t):We(t)}function _n(t){return pn(t)?function(t){return t.match(ue)||[]}(t):function(t){return t.split("")}(t)}var wn=tn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),En=function t(e){var n,r=(e=null==e?Ee:En.defaults(Ee.Object(),e,En.pick(Ee,pe))).Array,zt=e.Date,$t=e.Error,Ht=e.Function,Wt=e.Math,Gt=e.Object,Kt=e.RegExp,Qt=e.String,Yt=e.TypeError,Xt=r.prototype,Zt=Gt.prototype,Jt=e["__core-js_shared__"],te=Ht.prototype.toString,ee=Zt.hasOwnProperty,ne=0,re=(n=/[^.]+$/.exec(Jt&&Jt.keys&&Jt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ie=Zt.toString,se=te.call(Gt),oe=Ee._,ue=Kt("^"+te.call(ee).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=Te?e.Buffer:i,ye=e.Symbol,_e=e.Uint8Array,we=he?he.allocUnsafe:i,Se=mn(Gt.getPrototypeOf,Gt),Ce=Gt.create,xe=Zt.propertyIsEnumerable,Ie=Xt.splice,We=ye?ye.isConcatSpreadable:i,tn=ye?ye.iterator:i,Sn=ye?ye.toStringTag:i,Cn=function(){try{var t=Es(Gt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Tn=e.clearTimeout!==Ee.clearTimeout&&e.clearTimeout,xn=zt&&zt.now!==Ee.Date.now&&zt.now,In=e.setTimeout!==Ee.setTimeout&&e.setTimeout,kn=Wt.ceil,An=Wt.floor,Dn=Gt.getOwnPropertySymbols,On=he?he.isBuffer:i,Nn=e.isFinite,Rn=Xt.join,Pn=mn(Gt.keys,Gt),Mn=Wt.max,Ln=Wt.min,Fn=zt.now,Vn=e.parseInt,Un=Wt.random,Bn=Xt.reverse,jn=Es(e,"DataView"),qn=Es(e,"Map"),zn=Es(e,"Promise"),$n=Es(e,"Set"),Hn=Es(e,"WeakMap"),Wn=Es(Gt,"create"),Gn=Hn&&new Hn,Kn={},Qn=Ks(jn),Yn=Ks(qn),Xn=Ks(zn),Zn=Ks($n),Jn=Ks(Hn),tr=ye?ye.prototype:i,er=tr?tr.valueOf:i,nr=tr?tr.toString:i;function rr(t){if(da(t)&&!ea(t)&&!(t instanceof ar)){if(t instanceof or)return t;if(ee.call(t,"__wrapped__"))return Qs(t)}return new or(t)}var ir=function(){function t(){}return function(e){if(!ha(e))return{};if(Ce)return Ce(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function sr(){}function or(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function ar(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function lr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ur(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function hr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new cr;++e<n;)this.add(t[e])}function dr(t){var e=this.__data__=new ur(t);this.size=e.size}function pr(t,e){var n=ea(t),r=!n&&ta(t),i=!n&&!r&&sa(t),s=!n&&!r&&!i&&_a(t),o=n||r||i||s,a=o?rn(t.length,Qt):[],l=a.length;for(var u in t)!e&&!ee.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||As(u,l))||a.push(u);return a}function fr(t){var e=t.length;return e?t[li(0,e-1)]:i}function mr(t,e,n){(n===i||Xo(t[e],n))&&(n!==i||e in t)||_r(t,e,n)}function gr(t,e,n){var r=t[e];ee.call(t,e)&&Xo(r,n)&&(n!==i||e in t)||_r(t,e,n)}function yr(t,e){for(var n=t.length;n--;)if(Xo(t[n][0],e))return n;return-1}function vr(t,e,n,r){return Ir(t,function(t,i,s){e(r,t,n(t),s)}),r}function br(t,e){return t&&ji(e,qa(e),t)}function _r(t,e,n){"__proto__"==e&&Cn?Cn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function wr(t,e){for(var n=-1,s=e.length,o=r(s),a=null==t;++n<s;)o[n]=a?i:Fa(t,e[n]);return o}function Er(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function Sr(t,e,n,r,s,o){var a,h=e&l,d=e&u,p=e&c;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!ha(t))return t;var f=ea(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ee.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!h)return Bi(t,a)}else{var m=Ts(t),g=m==B||m==j;if(sa(t))return Pi(t,h);if(m==H||m==R||g&&!s){if(a=d||g?{}:Is(t),!h)return d?function(t,e){return ji(t,Cs(t),e)}(t,function(e,n){return e&&ji(t,za(t),e)}(a)):function(t,e){return ji(t,Ss(t),e)}(t,br(a,t))}else{if(!ge[m])return s?t:{};a=function(t,e,n){var r,i,s=t.constructor;switch(e){case J:return Mi(t);case L:case F:return new s(+t);case tt:return function(t,e){var n=e?Mi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case et:case nt:case rt:case it:case st:case ot:case at:case lt:case ut:return Li(t,n);case q:return new s;case z:case Q:return new s(t);case G:return(i=new(r=t).constructor(r.source,Pt.exec(r))).lastIndex=r.lastIndex,i;case K:return new s;case Y:return er?Gt(er.call(t)):{}}}(t,m,h)}}o||(o=new dr);var y=o.get(t);if(y)return y;if(o.set(t,a),ya(t))return t.forEach(function(r){a.add(Sr(r,e,n,r,t,o))}),a;if(pa(t))return t.forEach(function(r,i){a.set(i,Sr(r,e,n,i,t,o))}),a;var v=f?i:(p?d?ms:fs:d?za:qa)(t);return Le(v||t,function(r,i){v&&(r=t[i=r]),gr(a,i,Sr(r,e,n,i,t,o))}),a}function Cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Gt(t);r--;){var s=n[r],o=t[s];if(o===i&&!(s in t)||!(0,e[s])(o))return!1}return!0}function Tr(t,e,n){if("function"!=typeof t)throw new Yt(o);return js(function(){t.apply(i,n)},e)}function xr(t,e,n,r){var i=-1,o=Ue,a=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=je(e,sn(n))),r?(o=Be,a=!1):e.length>=s&&(o=an,a=!1,e=new hr(e));t:for(;++i<l;){var h=t[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,a&&d==d){for(var p=c;p--;)if(e[p]===d)continue t;u.push(h)}else o(e,d,r)||u.push(h)}return u}rr.templateSettings={escape:yt,evaluate:vt,interpolate:bt,variable:"",imports:{_:rr}},(rr.prototype=sr.prototype).constructor=rr,(or.prototype=ir(sr.prototype)).constructor=or,(ar.prototype=ir(sr.prototype)).constructor=ar,lr.prototype.clear=function(){this.__data__=Wn?Wn(null):{},this.size=0},lr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},lr.prototype.get=function(t){var e=this.__data__;if(Wn){var n=e[t];return"__lodash_hash_undefined__"===n?i:n}return ee.call(e,t)?e[t]:i},lr.prototype.has=function(t){var e=this.__data__;return Wn?e[t]!==i:ee.call(e,t)},lr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wn&&e===i?"__lodash_hash_undefined__":e,this},ur.prototype.clear=function(){this.__data__=[],this.size=0},ur.prototype.delete=function(t){var e=this.__data__,n=yr(e,t);return!(n<0||(n==e.length-1?e.pop():Ie.call(e,n,1),--this.size,0))},ur.prototype.get=function(t){var e=this.__data__,n=yr(e,t);return n<0?i:e[n][1]},ur.prototype.has=function(t){return yr(this.__data__,t)>-1},ur.prototype.set=function(t,e){var n=this.__data__,r=yr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},cr.prototype.clear=function(){this.size=0,this.__data__={hash:new lr,map:new(qn||ur),string:new lr}},cr.prototype.delete=function(t){var e=_s(this,t).delete(t);return this.size-=e?1:0,e},cr.prototype.get=function(t){return _s(this,t).get(t)},cr.prototype.has=function(t){return _s(this,t).has(t)},cr.prototype.set=function(t,e){var n=_s(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},hr.prototype.add=hr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},hr.prototype.has=function(t){return this.__data__.has(t)},dr.prototype.clear=function(){this.__data__=new ur,this.size=0},dr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},dr.prototype.get=function(t){return this.__data__.get(t)},dr.prototype.has=function(t){return this.__data__.has(t)},dr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ur){var r=n.__data__;if(!qn||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cr(r)}return n.set(t,e),this.size=n.size,this};var Ir=$i(Mr),kr=$i(Lr,!0);function Ar(t,e){var n=!0;return Ir(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Dr(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(null!=a&&(l===i?a==a&&!ba(a):n(a,l)))var l=a,u=o}return u}function Or(t,e){var n=[];return Ir(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Nr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ks),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?Nr(a,e-1,n,r,i):qe(i,a):r||(i[i.length]=a)}return i}var Rr=Hi(),Pr=Hi(!0);function Mr(t,e){return t&&Rr(t,e,qa)}function Lr(t,e){return t&&Pr(t,e,qa)}function Fr(t,e){return Ve(e,function(e){return la(t[e])})}function Vr(t,e){for(var n=0,r=(e=Di(e,t)).length;null!=t&&n<r;)t=t[Gs(e[n++])];return n&&n==r?t:i}function Ur(t,e,n){var r=e(t);return ea(t)?r:qe(r,n(t))}function Br(t){return null==t?t===i?X:$:Sn&&Sn in Gt(t)?function(t){var e=ee.call(t,Sn),n=t[Sn];try{t[Sn]=i;var r=!0}catch(o){}var s=ie.call(t);return r&&(e?t[Sn]=n:delete t[Sn]),s}(t):function(t){return ie.call(t)}(t)}function jr(t,e){return t>e}function qr(t,e){return null!=t&&ee.call(t,e)}function zr(t,e){return null!=t&&e in Gt(t)}function $r(t,e,n){for(var s=n?Be:Ue,o=t[0].length,a=t.length,l=a,u=r(a),c=1/0,h=[];l--;){var d=t[l];l&&e&&(d=je(d,sn(e))),c=Ln(d.length,c),u[l]=!n&&(e||o>=120&&d.length>=120)?new hr(l&&d):i}d=t[0];var p=-1,f=u[0];t:for(;++p<o&&h.length<c;){var m=d[p],g=e?e(m):m;if(m=n||0!==m?m:0,!(f?an(f,g):s(h,g,n))){for(l=a;--l;){var y=u[l];if(!(y?an(y,g):s(t[l],g,n)))continue t}f&&f.push(g),h.push(m)}}return h}function Hr(t,e,n){var r=null==(t=Vs(t,e=Di(e,t)))?t:t[Gs(oo(e))];return null==r?i:Pe(r,t,n)}function Wr(t){return da(t)&&Br(t)==R}function Gr(t,e,n,r,s){return t===e||(null==t||null==e||!da(t)&&!da(e)?t!=t&&e!=e:function(t,e,n,r,s,o){var a=ea(t),l=ea(e),u=a?P:Ts(t),c=l?P:Ts(e),p=(u=u==R?H:u)==H,f=(c=c==R?H:c)==H,m=u==c;if(m&&sa(t)){if(!sa(e))return!1;a=!0,p=!1}if(m&&!p)return o||(o=new dr),a||_a(t)?ds(t,e,n,r,s,o):function(t,e,n,r,i,s,o){switch(u){case tt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case J:return!(t.byteLength!=e.byteLength||!s(new _e(t),new _e(e)));case L:case F:case z:return Xo(+t,+e);case U:return t.name==e.name&&t.message==e.message;case G:case Q:return t==e+"";case q:var a=fn;case K:if(a||(a=yn),t.size!=e.size&&!(r&h))return!1;var l=o.get(t);if(l)return l==e;r|=d,o.set(t,e);var c=ds(a(t),a(e),r,i,s,o);return o.delete(t),c;case Y:if(er)return er.call(t)==er.call(e)}return!1}(t,e,0,n,r,s,o);if(!(n&h)){var g=p&&ee.call(t,"__wrapped__"),y=f&&ee.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,b=y?e.value():e;return o||(o=new dr),s(v,b,n,r,o)}}return!!m&&(o||(o=new dr),function(t,e,n,r,s,o){var a=n&h,l=fs(t),u=l.length;if(u!=fs(e).length&&!a)return!1;for(var c=u;c--;){var d=l[c];if(!(a?d in e:ee.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var m=a;++c<u;){var g=t[d=l[c]],y=e[d];if(r)var v=a?r(y,g,d,e,t,o):r(g,y,d,t,e,o);if(!(v===i?g===y||s(g,y,n,r,o):v)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,s,o))}(t,e,n,r,Gr,s))}function Kr(t,e,n,r){var s=n.length,o=s,a=!r;if(null==t)return!o;for(t=Gt(t);s--;){var l=n[s];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<o;){var u=(l=n[s])[0],c=t[u],p=l[1];if(a&&l[2]){if(c===i&&!(u in t))return!1}else{var f=new dr;if(r)var m=r(c,p,u,t,e,f);if(!(m===i?Gr(p,c,h|d,r,f):m))return!1}}return!0}function Qr(t){return!(!ha(t)||(e=t,re&&re in e))&&(la(t)?ue:Ft).test(Ks(t));var e}function Yr(t){return"function"==typeof t?t:null==t?fl:"object"==typeof t?ea(t)?ei(t[0],t[1]):ti(t):Sl(t)}function Xr(t){if(!Ps(t))return Pn(t);var e=[];for(var n in Gt(t))ee.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Zr(t,e){return t<e}function Jr(t,e){var n=-1,i=ra(t)?r(t.length):[];return Ir(t,function(t,r,s){i[++n]=e(t,r,s)}),i}function ti(t){var e=ws(t);return 1==e.length&&e[0][2]?Ls(e[0][0],e[0][1]):function(n){return n===t||Kr(n,t,e)}}function ei(t,e){return Os(t)&&Ms(e)?Ls(Gs(t),e):function(n){var r=Fa(n,t);return r===i&&r===e?Va(n,t):Gr(e,r,h|d)}}function ni(t,e,n,r,s){t!==e&&Rr(e,function(o,a){if(ha(o))s||(s=new dr),function(t,e,n,r,s,o,a){var l=Us(t,n),u=Us(e,n),c=a.get(u);if(c)mr(t,n,c);else{var h=o?o(l,u,n+"",t,e,a):i,d=h===i;if(d){var p=ea(u),f=!p&&sa(u),m=!p&&!f&&_a(u);h=u,p||f||m?ea(l)?h=l:ia(l)?h=Bi(l):f?(d=!1,h=Pi(u,!0)):m?(d=!1,h=Li(u,!0)):h=[]:ma(u)||ta(u)?(h=l,ta(l)?h=ka(l):ha(l)&&!la(l)||(h=Is(u))):d=!1}d&&(a.set(u,h),s(h,u,r,o,a),a.delete(u)),mr(t,n,h)}}(t,e,a,n,ni,r,s);else{var l=r?r(Us(t,a),o,a+"",t,e,s):i;l===i&&(l=o),mr(t,a,l)}},za)}function ri(t,e){var n=t.length;if(n)return As(e+=e<0?n:0,n)?t[e]:i}function ii(t,e,n){var r=-1;return e=je(e.length?e:[fl],sn(bs())),function(t,e){var r=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=Fi(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)});r--;)t[r]=t[r].value;return t}(Jr(t,function(t,n,i){return{criteria:je(e,function(e){return e(t)}),index:++r,value:t}}))}function si(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=Vr(t,o);n(a,o)&&hi(s,Di(o,t),a)}return s}function oi(t,e,n,r){var i=r?Ye:Qe,s=-1,o=e.length,a=t;for(t===e&&(e=Bi(e)),n&&(a=je(t,sn(n)));++s<o;)for(var l=0,u=e[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==t&&Ie.call(a,l,1),Ie.call(t,l,1);return t}function ai(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;As(i)?Ie.call(t,i,1):Ei(t,i)}}return t}function li(t,e){return t+An(Un()*(e-t+1))}function ui(t,e){var n="";if(!t||e<1||e>x)return n;do{e%2&&(n+=t),(e=An(e/2))&&(t+=t)}while(e);return n}function ci(t,e){return qs(Fs(t,e,fl),t+"")}function hi(t,e,n,r){if(!ha(t))return t;for(var s=-1,o=(e=Di(e,t)).length,a=o-1,l=t;null!=l&&++s<o;){var u=Gs(e[s]),c=n;if(s!=a){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=ha(h)?h:As(e[s+1])?[]:{})}gr(l,u,c),l=l[u]}return t}var di=Gn?function(t,e){return Gn.set(t,e),t}:fl,pi=Cn?function(t,e){return Cn(t,"toString",{configurable:!0,enumerable:!1,value:hl(e),writable:!0})}:fl;function fi(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=r(s);++i<s;)o[i]=t[i+e];return o}function mi(t,e){var n;return Ir(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function gi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=O){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!ba(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return yi(t,e,fl,n)}function yi(t,e,n,r){e=n(e);for(var s=0,o=null==t?0:t.length,a=e!=e,l=null===e,u=ba(e),c=e===i;s<o;){var h=An((s+o)/2),d=n(t[h]),p=d!==i,f=null===d,m=d==d,g=ba(d);if(a)var y=r||m;else y=c?m&&(r||p):l?m&&p&&(r||!f):u?m&&p&&!f&&(r||!g):!f&&!g&&(r?d<=e:d<e);y?s=h+1:o=h}return Ln(o,D)}function vi(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!Xo(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function bi(t){return"number"==typeof t?t:ba(t)?k:+t}function _i(t){if("string"==typeof t)return t;if(ea(t))return je(t,_i)+"";if(ba(t))return nr?nr.call(t):"";var e=t+"";return"0"==e&&1/t==-T?"-0":e}function wi(t,e,n){var r=-1,i=Ue,o=t.length,a=!0,l=[],u=l;if(n)a=!1,i=Be;else if(o>=s){var c=e?null:os(t);if(c)return yn(c);a=!1,i=an,u=new hr}else u=e?[]:l;t:for(;++r<o;){var h=t[r],d=e?e(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),l.push(h)}else i(u,d,n)||(u!==l&&u.push(d),l.push(h))}return l}function Ei(t,e){return null==(t=Vs(t,e=Di(e,t)))||delete t[Gs(oo(e))]}function Si(t,e,n,r){return hi(t,e,n(Vr(t,e)),r)}function Ci(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?fi(t,r?0:s,r?s+1:i):fi(t,r?s+1:0,r?i:s)}function Ti(t,e){var n=t;return n instanceof ar&&(n=n.value()),ze(e,function(t,e){return e.func.apply(e.thisArg,qe([t],e.args))},n)}function xi(t,e,n){var i=t.length;if(i<2)return i?wi(t[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=t[s],l=-1;++l<i;)l!=s&&(o[s]=xr(o[s]||a,t[l],e,n));return wi(Nr(o,1),e,n)}function Ii(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;)n(a,t[r],r<o?e[r]:i);return a}function ki(t){return ia(t)?t:[]}function Ai(t){return"function"==typeof t?t:fl}function Di(t,e){return ea(t)?t:Os(t,e)?[t]:Ws(Aa(t))}var Oi=ci;function Ni(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:fi(t,e,n)}var Ri=Tn||function(t){return Ee.clearTimeout(t)};function Pi(t,e){if(e)return t.slice();var n=t.length,r=we?we(n):new t.constructor(n);return t.copy(r),r}function Mi(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Li(t,e){var n=e?Mi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Fi(t,e){if(t!==e){var n=t!==i,r=null===t,s=t==t,o=ba(t),a=e!==i,l=null===e,u=e==e,c=ba(e);if(!l&&!c&&!o&&t>e||o&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!s)return 1;if(!r&&!o&&!c&&t<e||c&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!u)return-1}return 0}function Vi(t,e,n,i){for(var s=-1,o=t.length,a=n.length,l=-1,u=e.length,c=Mn(o-a,0),h=r(u+c),d=!i;++l<u;)h[l]=e[l];for(;++s<a;)(d||s<o)&&(h[n[s]]=t[s]);for(;c--;)h[l++]=t[s++];return h}function Ui(t,e,n,i){for(var s=-1,o=t.length,a=-1,l=n.length,u=-1,c=e.length,h=Mn(o-l,0),d=r(h+c),p=!i;++s<h;)d[s]=t[s];for(var f=s;++u<c;)d[f+u]=e[u];for(;++a<l;)(p||s<o)&&(d[f+n[a]]=t[s++]);return d}function Bi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ji(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var l=e[o],u=r?r(n[l],t[l],l,n,t):i;u===i&&(u=t[l]),s?_r(n,l,u):gr(n,l,u)}return n}function qi(t,e){return function(n,r){var i=ea(n)?Me:vr,s=e?e():{};return i(n,t,bs(r,2),s)}}function zi(t){return ci(function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&Ds(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=Gt(e);++r<s;){var l=n[r];l&&t(e,l,r,o)}return e})}function $i(t,e){return function(n,r){if(null==n)return n;if(!ra(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Gt(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Hi(t){return function(e,n,r){for(var i=-1,s=Gt(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(!1===n(s[l],l,s))break}return e}}function Wi(t){return function(e){var n=pn(e=Aa(e))?_n(e):i,r=n?n[0]:e.charAt(0),s=n?Ni(n,1).join(""):e.slice(1);return r[t]()+s}}function Gi(t){return function(e){return ze(ll(tl(e).replace(ae,"")),t,"")}}function Ki(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ir(t.prototype),r=t.apply(n,e);return ha(r)?r:n}}function Qi(t){return function(e,n,r){var s=Gt(e);if(!ra(e)){var o=bs(n,3);e=qa(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Yi(t){return ps(function(e){var n=e.length,r=n,s=or.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Yt(o);if(s&&!l&&"wrapper"==ys(a))var l=new or([],!0)}for(r=l?r:n;++r<n;){var u=ys(a=e[r]),c="wrapper"==u?gs(a):i;l=c&&Ns(c[0])&&c[1]==(_|g|v|w)&&!c[4].length&&1==c[9]?l[ys(c[0])].apply(l,c[3]):1==a.length&&Ns(a)?l[u]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&ea(r))return l.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}})}function Xi(t,e,n,s,o,a,l,u,c,h){var d=e&_,m=e&p,v=e&f,b=e&(g|y),w=e&E,S=v?i:Ki(t);return function p(){for(var f=arguments.length,g=r(f),y=f;y--;)g[y]=arguments[y];if(b)var _=vs(p),E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(g,_);if(s&&(g=Vi(g,s,o,b)),a&&(g=Ui(g,a,l,b)),f-=E,b&&f<h){var C=gn(g,_);return is(t,e,Xi,p.placeholder,n,g,C,u,c,h-f)}var T=m?n:this,x=v?T[t]:t;return f=g.length,u?g=function(t,e){for(var n=t.length,r=Ln(e.length,n),s=Bi(t);r--;){var o=e[r];t[r]=As(o,n)?s[o]:i}return t}(g,u):w&&f>1&&g.reverse(),d&&c<f&&(g.length=c),this&&this!==Ee&&this instanceof p&&(x=S||Ki(x)),x.apply(T,g)}}function Zi(t,e){return function(n,r){return function(t,e,n,r){return Mr(t,function(t,i,s){e(r,n(t),i,s)}),r}(n,t,e(r),{})}}function Ji(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=_i(n),r=_i(r)):(n=bi(n),r=bi(r)),s=t(n,r)}return s}}function ts(t){return ps(function(e){return e=je(e,sn(bs())),ci(function(n){var r=this;return t(e,function(t){return Pe(t,r,n)})})})}function es(t,e){var n=(e=e===i?" ":_i(e)).length;if(n<2)return n?ui(e,t):e;var r=ui(e,kn(t/bn(e)));return pn(e)?Ni(_n(r),0,t).join(""):r.slice(0,t)}function ns(t){return function(e,n,s){return s&&"number"!=typeof s&&Ds(e,n,s)&&(n=s=i),e=Ca(e),n===i?(n=e,e=0):n=Ca(n),function(t,e,n,i){for(var s=-1,o=Mn(kn((e-t)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=t,t+=n;return a}(e,n,s=s===i?e<n?1:-1:Ca(s),t)}}function rs(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ia(e),n=Ia(n)),t(e,n)}}function is(t,e,n,r,s,o,a,l,u,c){var h=e&g;e|=h?v:b,(e&=~(h?b:v))&m||(e&=~(p|f));var d=[t,e,s,h?o:i,h?a:i,h?i:o,h?i:a,l,u,c],y=n.apply(i,d);return Ns(t)&&Bs(y,d),y.placeholder=r,zs(y,t,e)}function ss(t){var e=Wt[t];return function(t,n){if(t=Ia(t),n=null==n?0:Ln(Ta(n),292)){var r=(Aa(t)+"e").split("e");return+((r=(Aa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var os=$n&&1/yn(new $n([,-0]))[1]==T?function(t){return new $n(t)}:bl;function as(t){return function(e){var n=Ts(e);return n==q?fn(e):n==K?vn(e):function(t,e){return je(e,function(e){return[e,t[e]]})}(e,t(e))}}function ls(t,e,n,s,l,u,c,h){var d=e&f;if(!d&&"function"!=typeof t)throw new Yt(o);var E=s?s.length:0;if(E||(e&=~(v|b),s=l=i),c=c===i?c:Mn(Ta(c),0),h=h===i?h:Ta(h),E-=l?l.length:0,e&b){var S=s,C=l;s=l=i}var T=d?i:gs(t),x=[t,e,n,s,l,S,C,u,c,h];if(T&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<(p|f|_)||r==_&&n==g||r==_&&n==w&&t[7].length<=e[8]||r==(_|w)&&e[7].length<=e[8]&&n==g))return t;r&p&&(t[2]=e[2],i|=n&p?0:m);var s=e[3];if(s){var o=t[3];t[3]=o?Vi(o,s,e[4]):s,t[4]=o?gn(t[3],a):e[4]}(s=e[5])&&(t[5]=(o=t[5])?Ui(o,s,e[6]):s,t[6]=o?gn(t[5],a):e[6]),(s=e[7])&&(t[7]=s),r&_&&(t[8]=null==t[8]?e[8]:Ln(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(x,T),t=x[0],e=x[1],n=x[2],s=x[3],l=x[4],!(h=x[9]=x[9]===i?d?0:t.length:Mn(x[9]-E,0))&&e&(g|y)&&(e&=~(g|y)),e&&e!=p)I=e==g||e==y?function(t,e,n){var s=Ki(t);return function o(){for(var a=arguments.length,l=r(a),u=a,c=vs(o);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:gn(l,c);return(a-=h.length)<n?is(t,e,Xi,o.placeholder,i,l,h,i,i,n-a):Pe(this&&this!==Ee&&this instanceof o?s:t,this,l)}}(t,e,h):e!=v&&e!=(p|v)||l.length?Xi.apply(i,x):function(t,e,n,i){var s=e&p,o=Ki(t);return function e(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),d=this&&this!==Ee&&this instanceof e?o:t;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return Pe(d,s?n:this,h)}}(t,e,n,s);else var I=function(t,e,n){var r=e&p,i=Ki(t);return function e(){return(this&&this!==Ee&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return zs((T?di:Bs)(I,x),t,e)}function us(t,e,n,r){return t===i||Xo(t,Zt[n])&&!ee.call(r,n)?e:t}function cs(t,e,n,r,s,o){return ha(t)&&ha(e)&&(o.set(e,t),ni(t,e,i,cs,o),o.delete(e)),t}function hs(t){return ma(t)?i:t}function ds(t,e,n,r,s,o){var a=n&h,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var p=-1,f=!0,m=n&d?new hr:i;for(o.set(t,e),o.set(e,t);++p<l;){var g=t[p],y=e[p];if(r)var v=a?r(y,g,p,e,t,o):r(g,y,p,t,e,o);if(v!==i){if(v)continue;f=!1;break}if(m){if(!He(e,function(t,e){if(!an(m,e)&&(g===t||s(g,t,n,r,o)))return m.push(e)})){f=!1;break}}else if(g!==y&&!s(g,y,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function ps(t){return qs(Fs(t,i,eo),t+"")}function fs(t){return Ur(t,qa,Ss)}function ms(t){return Ur(t,za,Cs)}var gs=Gn?function(t){return Gn.get(t)}:bl;function ys(t){for(var e=t.name+"",n=Kn[e],r=ee.call(Kn,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function vs(t){return(ee.call(rr,"placeholder")?rr:t).placeholder}function bs(){var t=rr.iteratee||ml;return t=t===ml?Yr:t,arguments.length?t(arguments[0],arguments[1]):t}function _s(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ws(t){for(var e=qa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ms(i)]}return e}function Es(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Qr(n)?n:i}var Ss=Dn?function(t){return null==t?[]:(t=Gt(t),Ve(Dn(t),function(e){return xe.call(t,e)}))}:xl,Cs=Dn?function(t){for(var e=[];t;)qe(e,Ss(t)),t=Se(t);return e}:xl,Ts=Br;function xs(t,e,n){for(var r=-1,i=(e=Di(e,t)).length,s=!1;++r<i;){var o=Gs(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&ca(i)&&As(o,i)&&(ea(t)||ta(t))}function Is(t){return"function"!=typeof t.constructor||Ps(t)?{}:ir(Se(t))}function ks(t){return ea(t)||ta(t)||!!(We&&t&&t[We])}function As(t,e){var n=typeof t;return!!(e=null==e?x:e)&&("number"==n||"symbol"!=n&&Ut.test(t))&&t>-1&&t%1==0&&t<e}function Ds(t,e,n){if(!ha(n))return!1;var r=typeof e;return!!("number"==r?ra(n)&&As(e,n.length):"string"==r&&e in n)&&Xo(n[e],t)}function Os(t,e){if(ea(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ba(t))||wt.test(t)||!_t.test(t)||null!=e&&t in Gt(e)}function Ns(t){var e=ys(t),n=rr[e];if("function"!=typeof n||!(e in ar.prototype))return!1;if(t===n)return!0;var r=gs(n);return!!r&&t===r[0]}(jn&&Ts(new jn(new ArrayBuffer(1)))!=tt||qn&&Ts(new qn)!=q||zn&&"[object Promise]"!=Ts(zn.resolve())||$n&&Ts(new $n)!=K||Hn&&Ts(new Hn)!=Z)&&(Ts=function(t){var e=Br(t),n=e==H?t.constructor:i,r=n?Ks(n):"";if(r)switch(r){case Qn:return tt;case Yn:return q;case Xn:return"[object Promise]";case Zn:return K;case Jn:return Z}return e});var Rs=Jt?la:Il;function Ps(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Zt)}function Ms(t){return t==t&&!ha(t)}function Ls(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Gt(n))}}function Fs(t,e,n){return e=Mn(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=Mn(i.length-e,0),a=r(o);++s<o;)a[s]=i[e+s];s=-1;for(var l=r(e+1);++s<e;)l[s]=i[s];return l[e]=n(a),Pe(t,this,l)}}function Vs(t,e){return e.length<2?t:Vr(t,fi(e,0,-1))}function Us(t,e){if("__proto__"!=e)return t[e]}var Bs=$s(di),js=In||function(t,e){return Ee.setTimeout(t,e)},qs=$s(pi);function zs(t,e,n){var r=e+"";return qs(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(kt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Le(N,function(n){var r="_."+n[0];e&n[1]&&!Ue(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(At);return e?e[1].split(Dt):[]}(r),n)))}function $s(t){var e=0,n=0;return function(){var r=Fn(),s=C-(r-n);if(n=r,s>0){if(++e>=S)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Hs(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=li(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Ws=function(t){var e=Ho(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Et,function(t,n,r,i){e.push(r?i.replace(Nt,"$1"):n||t)}),e},function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}();function Gs(t){if("string"==typeof t||ba(t))return t;var e=t+"";return"0"==e&&1/t==-T?"-0":e}function Ks(t){if(null!=t){try{return te.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qs(t){if(t instanceof ar)return t.clone();var e=new or(t.__wrapped__,t.__chain__);return e.__actions__=Bi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ys=ci(function(t,e){return ia(t)?xr(t,Nr(e,1,ia,!0)):[]}),Xs=ci(function(t,e){var n=oo(e);return ia(n)&&(n=i),ia(t)?xr(t,Nr(e,1,ia,!0),bs(n,2)):[]}),Zs=ci(function(t,e){var n=oo(e);return ia(n)&&(n=i),ia(t)?xr(t,Nr(e,1,ia,!0),i,n):[]});function Js(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ta(n);return i<0&&(i=Mn(r+i,0)),Ke(t,bs(e,3),i)}function to(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=Ta(n),s=n<0?Mn(r+s,0):Ln(s,r-1)),Ke(t,bs(e,3),s,!0)}function eo(t){return null!=t&&t.length?Nr(t,1):[]}function no(t){return t&&t.length?t[0]:i}var ro=ci(function(t){var e=je(t,ki);return e.length&&e[0]===t[0]?$r(e):[]}),io=ci(function(t){var e=oo(t),n=je(t,ki);return e===oo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?$r(n,bs(e,2)):[]}),so=ci(function(t){var e=oo(t),n=je(t,ki);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?$r(n,i,e):[]});function oo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var ao=ci(lo);function lo(t,e){return t&&t.length&&e&&e.length?oi(t,e):t}var uo=ps(function(t,e){var n=null==t?0:t.length,r=wr(t,e);return ai(t,je(e,function(t){return As(t,n)?+t:t}).sort(Fi)),r});function co(t){return null==t?t:Bn.call(t)}var ho=ci(function(t){return wi(Nr(t,1,ia,!0))}),po=ci(function(t){var e=oo(t);return ia(e)&&(e=i),wi(Nr(t,1,ia,!0),bs(e,2))}),fo=ci(function(t){var e=oo(t);return e="function"==typeof e?e:i,wi(Nr(t,1,ia,!0),i,e)});function mo(t){if(!t||!t.length)return[];var e=0;return t=Ve(t,function(t){if(ia(t))return e=Mn(t.length,e),!0}),rn(e,function(e){return je(t,Je(e))})}function go(t,e){if(!t||!t.length)return[];var n=mo(t);return null==e?n:je(n,function(t){return Pe(e,i,t)})}var yo=ci(function(t,e){return ia(t)?xr(t,e):[]}),vo=ci(function(t){return xi(Ve(t,ia))}),bo=ci(function(t){var e=oo(t);return ia(e)&&(e=i),xi(Ve(t,ia),bs(e,2))}),_o=ci(function(t){var e=oo(t);return e="function"==typeof e?e:i,xi(Ve(t,ia),i,e)}),wo=ci(mo),Eo=ci(function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,go(t,n)});function So(t){var e=rr(t);return e.__chain__=!0,e}function Co(t,e){return e(t)}var To=ps(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(e){return wr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof ar&&As(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Co,args:[s],thisArg:i}),new or(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(s)}),xo=qi(function(t,e,n){ee.call(t,n)?++t[n]:_r(t,n,1)}),Io=Qi(Js),ko=Qi(to);function Ao(t,e){return(ea(t)?Le:Ir)(t,bs(e,3))}function Do(t,e){return(ea(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:kr)(t,bs(e,3))}var Oo=qi(function(t,e,n){ee.call(t,n)?t[n].push(e):_r(t,n,[e])}),No=ci(function(t,e,n){var i=-1,s="function"==typeof e,o=ra(t)?r(t.length):[];return Ir(t,function(t){o[++i]=s?Pe(e,t,n):Hr(t,e,n)}),o}),Ro=qi(function(t,e,n){_r(t,n,e)});function Po(t,e){return(ea(t)?je:Jr)(t,bs(e,3))}var Mo=qi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Lo=ci(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ds(t,e[0],e[1])?e=[]:n>2&&Ds(e[0],e[1],e[2])&&(e=[e[0]]),ii(t,Nr(e,1),[])}),Fo=xn||function(){return Ee.Date.now()};function Vo(t,e,n){return e=n?i:e,ls(t,_,i,i,i,i,e=t&&null==e?t.length:e)}function Uo(t,e){var n;if("function"!=typeof e)throw new Yt(o);return t=Ta(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Bo=ci(function(t,e,n){var r=p;if(n.length){var i=gn(n,vs(Bo));r|=v}return ls(t,r,e,n,i)}),jo=ci(function(t,e,n){var r=p|f;if(n.length){var i=gn(n,vs(jo));r|=v}return ls(e,r,t,n,i)});function qo(t,e,n){var r,s,a,l,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new Yt(o);function m(e){var n=r,o=s;return r=s=i,h=e,l=t.apply(o,n)}function g(t){var n=t-c;return c===i||n>=e||n<0||p&&t-h>=a}function y(){var t=Fo();if(g(t))return v(t);u=js(y,function(t){var n=e-(t-c);return p?Ln(n,a-(t-h)):n}(t))}function v(t){return u=i,f&&r?m(t):(r=s=i,l)}function b(){var t=Fo(),n=g(t);if(r=arguments,s=this,c=t,n){if(u===i)return function(t){return h=t,u=js(y,e),d?m(t):l}(c);if(p)return u=js(y,e),m(c)}return u===i&&(u=js(y,e)),l}return e=Ia(e)||0,ha(n)&&(d=!!n.leading,a=(p="maxWait"in n)?Mn(Ia(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){u!==i&&Ri(u),h=0,r=c=s=u=i},b.flush=function(){return u===i?l:v(Fo())},b}var zo=ci(function(t,e){return Tr(t,1,e)}),$o=ci(function(t,e,n){return Tr(t,Ia(e)||0,n)});function Ho(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Yt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Ho.Cache||cr),n}function Wo(t){if("function"!=typeof t)throw new Yt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ho.Cache=cr;var Go=Oi(function(t,e){var n=(e=1==e.length&&ea(e[0])?je(e[0],sn(bs())):je(Nr(e,1),sn(bs()))).length;return ci(function(r){for(var i=-1,s=Ln(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return Pe(t,this,r)})}),Ko=ci(function(t,e){var n=gn(e,vs(Ko));return ls(t,v,i,e,n)}),Qo=ci(function(t,e){var n=gn(e,vs(Qo));return ls(t,b,i,e,n)}),Yo=ps(function(t,e){return ls(t,w,i,i,i,e)});function Xo(t,e){return t===e||t!=t&&e!=e}var Zo=rs(jr),Jo=rs(function(t,e){return t>=e}),ta=Wr(function(){return arguments}())?Wr:function(t){return da(t)&&ee.call(t,"callee")&&!xe.call(t,"callee")},ea=r.isArray,na=ke?sn(ke):function(t){return da(t)&&Br(t)==J};function ra(t){return null!=t&&ca(t.length)&&!la(t)}function ia(t){return da(t)&&ra(t)}var sa=On||Il,oa=Ae?sn(Ae):function(t){return da(t)&&Br(t)==F};function aa(t){if(!da(t))return!1;var e=Br(t);return e==U||e==V||"string"==typeof t.message&&"string"==typeof t.name&&!ma(t)}function la(t){if(!ha(t))return!1;var e=Br(t);return e==B||e==j||e==M||e==W}function ua(t){return"number"==typeof t&&t==Ta(t)}function ca(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=x}function ha(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function da(t){return null!=t&&"object"==typeof t}var pa=De?sn(De):function(t){return da(t)&&Ts(t)==q};function fa(t){return"number"==typeof t||da(t)&&Br(t)==z}function ma(t){if(!da(t)||Br(t)!=H)return!1;var e=Se(t);if(null===e)return!0;var n=ee.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&te.call(n)==se}var ga=Oe?sn(Oe):function(t){return da(t)&&Br(t)==G},ya=Ne?sn(Ne):function(t){return da(t)&&Ts(t)==K};function va(t){return"string"==typeof t||!ea(t)&&da(t)&&Br(t)==Q}function ba(t){return"symbol"==typeof t||da(t)&&Br(t)==Y}var _a=Re?sn(Re):function(t){return da(t)&&ca(t.length)&&!!me[Br(t)]},wa=rs(Zr),Ea=rs(function(t,e){return t<=e});function Sa(t){if(!t)return[];if(ra(t))return va(t)?_n(t):Bi(t);if(tn&&t[tn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[tn]());var e=Ts(t);return(e==q?fn:e==K?yn:Xa)(t)}function Ca(t){return t?(t=Ia(t))===T||t===-T?(t<0?-1:1)*I:t==t?t:0:0===t?t:0}function Ta(t){var e=Ca(t),n=e%1;return e==e?n?e-n:e:0}function xa(t){return t?Er(Ta(t),0,A):0}function Ia(t){if("number"==typeof t)return t;if(ba(t))return k;if(ha(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ha(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Tt,"");var n=Lt.test(t);return n||Vt.test(t)?be(t.slice(2),n?2:8):Mt.test(t)?k:+t}function ka(t){return ji(t,za(t))}function Aa(t){return null==t?"":_i(t)}var Da=zi(function(t,e){if(Ps(e)||ra(e))ji(e,qa(e),t);else for(var n in e)ee.call(e,n)&&gr(t,n,e[n])}),Oa=zi(function(t,e){ji(e,za(e),t)}),Na=zi(function(t,e,n,r){ji(e,za(e),t,r)}),Ra=zi(function(t,e,n,r){ji(e,qa(e),t,r)}),Pa=ps(wr),Ma=ci(function(t,e){t=Gt(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&Ds(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=za(o),l=-1,u=a.length;++l<u;){var c=a[l],h=t[c];(h===i||Xo(h,Zt[c])&&!ee.call(t,c))&&(t[c]=o[c])}return t}),La=ci(function(t){return t.push(i,cs),Pe(Ha,i,t)});function Fa(t,e,n){var r=null==t?i:Vr(t,e);return r===i?n:r}function Va(t,e){return null!=t&&xs(t,e,zr)}var Ua=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ie.call(e)),t[e]=n},hl(fl)),Ba=Zi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ie.call(e)),ee.call(t,e)?t[e].push(n):t[e]=[n]},bs),ja=ci(Hr);function qa(t){return ra(t)?pr(t):Xr(t)}function za(t){return ra(t)?pr(t,!0):function(t){if(!ha(t))return function(t){var e=[];if(null!=t)for(var n in Gt(t))e.push(n);return e}(t);var e=Ps(t),n=[];for(var r in t)("constructor"!=r||!e&&ee.call(t,r))&&n.push(r);return n}(t)}var $a=zi(function(t,e,n){ni(t,e,n)}),Ha=zi(function(t,e,n,r){ni(t,e,n,r)}),Wa=ps(function(t,e){var n={};if(null==t)return n;var r=!1;e=je(e,function(e){return e=Di(e,t),r||(r=e.length>1),e}),ji(t,ms(t),n),r&&(n=Sr(n,l|u|c,hs));for(var i=e.length;i--;)Ei(n,e[i]);return n}),Ga=ps(function(t,e){return null==t?{}:function(t,e){return si(t,e,function(e,n){return Va(t,n)})}(t,e)});function Ka(t,e){if(null==t)return{};var n=je(ms(t),function(t){return[t]});return e=bs(e),si(t,n,function(t,n){return e(t,n[0])})}var Qa=as(qa),Ya=as(za);function Xa(t){return null==t?[]:on(t,qa(t))}var Za=Gi(function(t,e,n){return e=e.toLowerCase(),t+(n?Ja(e):e)});function Ja(t){return al(Aa(t).toLowerCase())}function tl(t){return(t=Aa(t))&&t.replace(Bt,cn).replace(le,"")}var el=Gi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),nl=Gi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),rl=Wi("toLowerCase"),il=Gi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),sl=Gi(function(t,e,n){return t+(n?" ":"")+al(e)}),ol=Gi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),al=Wi("toUpperCase");function ll(t,e,n){return t=Aa(t),(e=n?i:e)===i?function(t){return de.test(t)}(t)?function(t){return t.match(ce)||[]}(t):function(t){return t.match(Ot)||[]}(t):t.match(e)||[]}var ul=ci(function(t,e){try{return Pe(t,i,e)}catch(n){return aa(n)?n:new $t(n)}}),cl=ps(function(t,e){return Le(e,function(e){e=Gs(e),_r(t,e,Bo(t[e],t))}),t});function hl(t){return function(){return t}}var dl=Yi(),pl=Yi(!0);function fl(t){return t}function ml(t){return Yr("function"==typeof t?t:Sr(t,l))}var gl=ci(function(t,e){return function(n){return Hr(n,t,e)}}),yl=ci(function(t,e){return function(n){return Hr(t,n,e)}});function vl(t,e,n){var r=qa(e),i=Fr(e,r);null!=n||ha(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Fr(e,qa(e)));var s=!(ha(n)&&"chain"in n&&!n.chain),o=la(t);return Le(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=Bi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,qe([this.value()],arguments))})}),t}function bl(){}var _l=ts(je),wl=ts(Fe),El=ts(He);function Sl(t){return Os(t)?Je(Gs(t)):function(t){return function(e){return Vr(e,t)}}(t)}var Cl=ns(),Tl=ns(!0);function xl(){return[]}function Il(){return!1}var kl,Al=Ji(function(t,e){return t+e},0),Dl=ss("ceil"),Ol=Ji(function(t,e){return t/e},1),Nl=ss("floor"),Rl=Ji(function(t,e){return t*e},1),Pl=ss("round"),Ml=Ji(function(t,e){return t-e},0);return rr.after=function(t,e){if("function"!=typeof e)throw new Yt(o);return t=Ta(t),function(){if(--t<1)return e.apply(this,arguments)}},rr.ary=Vo,rr.assign=Da,rr.assignIn=Oa,rr.assignInWith=Na,rr.assignWith=Ra,rr.at=Pa,rr.before=Uo,rr.bind=Bo,rr.bindAll=cl,rr.bindKey=jo,rr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ea(t)?t:[t]},rr.chain=So,rr.chunk=function(t,e,n){e=(n?Ds(t,e,n):e===i)?1:Mn(Ta(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,l=r(kn(s/e));o<s;)l[a++]=fi(t,o,o+=e);return l},rr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},rr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return qe(ea(n)?Bi(n):[n],Nr(e,1))},rr.cond=function(t){var e=null==t?0:t.length,n=bs();return t=e?je(t,function(t){if("function"!=typeof t[1])throw new Yt(o);return[n(t[0]),t[1]]}):[],ci(function(n){for(var r=-1;++r<e;){var i=t[r];if(Pe(i[0],this,n))return Pe(i[1],this,n)}})},rr.conforms=function(t){return function(t){var e=qa(t);return function(n){return Cr(n,t,e)}}(Sr(t,l))},rr.constant=hl,rr.countBy=xo,rr.create=function(t,e){var n=ir(t);return null==e?n:br(n,e)},rr.curry=function t(e,n,r){var s=ls(e,g,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},rr.curryRight=function t(e,n,r){var s=ls(e,y,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},rr.debounce=qo,rr.defaults=Ma,rr.defaultsDeep=La,rr.defer=zo,rr.delay=$o,rr.difference=Ys,rr.differenceBy=Xs,rr.differenceWith=Zs,rr.drop=function(t,e,n){var r=null==t?0:t.length;return r?fi(t,(e=n||e===i?1:Ta(e))<0?0:e,r):[]},rr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?fi(t,0,(e=r-(e=n||e===i?1:Ta(e)))<0?0:e):[]},rr.dropRightWhile=function(t,e){return t&&t.length?Ci(t,bs(e,3),!0,!0):[]},rr.dropWhile=function(t,e){return t&&t.length?Ci(t,bs(e,3),!0):[]},rr.fill=function(t,e,n,r){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&Ds(t,e,n)&&(n=0,r=s),function(t,e,n,r){var s=t.length;for((n=Ta(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:Ta(r))<0&&(r+=s),r=n>r?0:xa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},rr.filter=function(t,e){return(ea(t)?Ve:Or)(t,bs(e,3))},rr.flatMap=function(t,e){return Nr(Po(t,e),1)},rr.flatMapDeep=function(t,e){return Nr(Po(t,e),T)},rr.flatMapDepth=function(t,e,n){return n=n===i?1:Ta(n),Nr(Po(t,e),n)},rr.flatten=eo,rr.flattenDeep=function(t){return null!=t&&t.length?Nr(t,T):[]},rr.flattenDepth=function(t,e){return null!=t&&t.length?Nr(t,e=e===i?1:Ta(e)):[]},rr.flip=function(t){return ls(t,E)},rr.flow=dl,rr.flowRight=pl,rr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},rr.functions=function(t){return null==t?[]:Fr(t,qa(t))},rr.functionsIn=function(t){return null==t?[]:Fr(t,za(t))},rr.groupBy=Oo,rr.initial=function(t){return null!=t&&t.length?fi(t,0,-1):[]},rr.intersection=ro,rr.intersectionBy=io,rr.intersectionWith=so,rr.invert=Ua,rr.invertBy=Ba,rr.invokeMap=No,rr.iteratee=ml,rr.keyBy=Ro,rr.keys=qa,rr.keysIn=za,rr.map=Po,rr.mapKeys=function(t,e){var n={};return e=bs(e,3),Mr(t,function(t,r,i){_r(n,e(t,r,i),t)}),n},rr.mapValues=function(t,e){var n={};return e=bs(e,3),Mr(t,function(t,r,i){_r(n,r,e(t,r,i))}),n},rr.matches=function(t){return ti(Sr(t,l))},rr.matchesProperty=function(t,e){return ei(t,Sr(e,l))},rr.memoize=Ho,rr.merge=$a,rr.mergeWith=Ha,rr.method=gl,rr.methodOf=yl,rr.mixin=vl,rr.negate=Wo,rr.nthArg=function(t){return t=Ta(t),ci(function(e){return ri(e,t)})},rr.omit=Wa,rr.omitBy=function(t,e){return Ka(t,Wo(bs(e)))},rr.once=function(t){return Uo(2,t)},rr.orderBy=function(t,e,n,r){return null==t?[]:(ea(e)||(e=null==e?[]:[e]),ea(n=r?i:n)||(n=null==n?[]:[n]),ii(t,e,n))},rr.over=_l,rr.overArgs=Go,rr.overEvery=wl,rr.overSome=El,rr.partial=Ko,rr.partialRight=Qo,rr.partition=Mo,rr.pick=Ga,rr.pickBy=Ka,rr.property=Sl,rr.propertyOf=function(t){return function(e){return null==t?i:Vr(t,e)}},rr.pull=ao,rr.pullAll=lo,rr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?oi(t,e,bs(n,2)):t},rr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?oi(t,e,i,n):t},rr.pullAt=uo,rr.range=Cl,rr.rangeRight=Tl,rr.rearg=Yo,rr.reject=function(t,e){return(ea(t)?Ve:Or)(t,Wo(bs(e,3)))},rr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=bs(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return ai(t,i),n},rr.rest=function(t,e){if("function"!=typeof t)throw new Yt(o);return ci(t,e=e===i?e:Ta(e))},rr.reverse=co,rr.sampleSize=function(t,e,n){return e=(n?Ds(t,e,n):e===i)?1:Ta(e),(ea(t)?function(t,e){return Hs(Bi(t),Er(e,0,t.length))}:function(t,e){var n=Xa(t);return Hs(n,Er(e,0,n.length))})(t,e)},rr.set=function(t,e,n){return null==t?t:hi(t,e,n)},rr.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:hi(t,e,n,r)},rr.shuffle=function(t){return(ea(t)?function(t){return Hs(Bi(t))}:function(t){return Hs(Xa(t))})(t)},rr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ds(t,e,n)?(e=0,n=r):(e=null==e?0:Ta(e),n=n===i?r:Ta(n)),fi(t,e,n)):[]},rr.sortBy=Lo,rr.sortedUniq=function(t){return t&&t.length?vi(t):[]},rr.sortedUniqBy=function(t,e){return t&&t.length?vi(t,bs(e,2)):[]},rr.split=function(t,e,n){return n&&"number"!=typeof n&&Ds(t,e,n)&&(e=n=i),(n=n===i?A:n>>>0)?(t=Aa(t))&&("string"==typeof e||null!=e&&!ga(e))&&!(e=_i(e))&&pn(t)?Ni(_n(t),0,n):t.split(e,n):[]},rr.spread=function(t,e){if("function"!=typeof t)throw new Yt(o);return e=null==e?0:Mn(Ta(e),0),ci(function(n){var r=n[e],i=Ni(n,0,e);return r&&qe(i,r),Pe(t,this,i)})},rr.tail=function(t){var e=null==t?0:t.length;return e?fi(t,1,e):[]},rr.take=function(t,e,n){return t&&t.length?fi(t,0,(e=n||e===i?1:Ta(e))<0?0:e):[]},rr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?fi(t,(e=r-(e=n||e===i?1:Ta(e)))<0?0:e,r):[]},rr.takeRightWhile=function(t,e){return t&&t.length?Ci(t,bs(e,3),!1,!0):[]},rr.takeWhile=function(t,e){return t&&t.length?Ci(t,bs(e,3)):[]},rr.tap=function(t,e){return e(t),t},rr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Yt(o);return ha(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qo(t,e,{leading:r,maxWait:e,trailing:i})},rr.thru=Co,rr.toArray=Sa,rr.toPairs=Qa,rr.toPairsIn=Ya,rr.toPath=function(t){return ea(t)?je(t,Gs):ba(t)?[t]:Bi(Ws(Aa(t)))},rr.toPlainObject=ka,rr.transform=function(t,e,n){var r=ea(t),i=r||sa(t)||_a(t);if(e=bs(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:ha(t)&&la(s)?ir(Se(t)):{}}return(i?Le:Mr)(t,function(t,r,i){return e(n,t,r,i)}),n},rr.unary=function(t){return Vo(t,1)},rr.union=ho,rr.unionBy=po,rr.unionWith=fo,rr.uniq=function(t){return t&&t.length?wi(t):[]},rr.uniqBy=function(t,e){return t&&t.length?wi(t,bs(e,2)):[]},rr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?wi(t,i,e):[]},rr.unset=function(t,e){return null==t||Ei(t,e)},rr.unzip=mo,rr.unzipWith=go,rr.update=function(t,e,n){return null==t?t:Si(t,e,Ai(n))},rr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Si(t,e,Ai(n),r)},rr.values=Xa,rr.valuesIn=function(t){return null==t?[]:on(t,za(t))},rr.without=yo,rr.words=ll,rr.wrap=function(t,e){return Ko(Ai(e),t)},rr.xor=vo,rr.xorBy=bo,rr.xorWith=_o,rr.zip=wo,rr.zipObject=function(t,e){return Ii(t||[],e||[],gr)},rr.zipObjectDeep=function(t,e){return Ii(t||[],e||[],hi)},rr.zipWith=Eo,rr.entries=Qa,rr.entriesIn=Ya,rr.extend=Oa,rr.extendWith=Na,vl(rr,rr),rr.add=Al,rr.attempt=ul,rr.camelCase=Za,rr.capitalize=Ja,rr.ceil=Dl,rr.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=Ia(n))==n?n:0),e!==i&&(e=(e=Ia(e))==e?e:0),Er(Ia(t),e,n)},rr.clone=function(t){return Sr(t,c)},rr.cloneDeep=function(t){return Sr(t,l|c)},rr.cloneDeepWith=function(t,e){return Sr(t,l|c,e="function"==typeof e?e:i)},rr.cloneWith=function(t,e){return Sr(t,c,e="function"==typeof e?e:i)},rr.conformsTo=function(t,e){return null==e||Cr(t,e,qa(e))},rr.deburr=tl,rr.defaultTo=function(t,e){return null==t||t!=t?e:t},rr.divide=Ol,rr.endsWith=function(t,e,n){t=Aa(t),e=_i(e);var r=t.length,s=n=n===i?r:Er(Ta(n),0,r);return(n-=e.length)>=0&&t.slice(n,s)==e},rr.eq=Xo,rr.escape=function(t){return(t=Aa(t))&&gt.test(t)?t.replace(ft,hn):t},rr.escapeRegExp=function(t){return(t=Aa(t))&&Ct.test(t)?t.replace(St,"\\$&"):t},rr.every=function(t,e,n){var r=ea(t)?Fe:Ar;return n&&Ds(t,e,n)&&(e=i),r(t,bs(e,3))},rr.find=Io,rr.findIndex=Js,rr.findKey=function(t,e){return Ge(t,bs(e,3),Mr)},rr.findLast=ko,rr.findLastIndex=to,rr.findLastKey=function(t,e){return Ge(t,bs(e,3),Lr)},rr.floor=Nl,rr.forEach=Ao,rr.forEachRight=Do,rr.forIn=function(t,e){return null==t?t:Rr(t,bs(e,3),za)},rr.forInRight=function(t,e){return null==t?t:Pr(t,bs(e,3),za)},rr.forOwn=function(t,e){return t&&Mr(t,bs(e,3))},rr.forOwnRight=function(t,e){return t&&Lr(t,bs(e,3))},rr.get=Fa,rr.gt=Zo,rr.gte=Jo,rr.has=function(t,e){return null!=t&&xs(t,e,qr)},rr.hasIn=Va,rr.head=no,rr.identity=fl,rr.includes=function(t,e,n,r){t=ra(t)?t:Xa(t),n=n&&!r?Ta(n):0;var i=t.length;return n<0&&(n=Mn(i+n,0)),va(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Qe(t,e,n)>-1},rr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ta(n);return i<0&&(i=Mn(r+i,0)),Qe(t,e,i)},rr.inRange=function(t,e,n){return e=Ca(e),n===i?(n=e,e=0):n=Ca(n),function(t,e,n){return t>=Ln(e,n)&&t<Mn(e,n)}(t=Ia(t),e,n)},rr.invoke=ja,rr.isArguments=ta,rr.isArray=ea,rr.isArrayBuffer=na,rr.isArrayLike=ra,rr.isArrayLikeObject=ia,rr.isBoolean=function(t){return!0===t||!1===t||da(t)&&Br(t)==L},rr.isBuffer=sa,rr.isDate=oa,rr.isElement=function(t){return da(t)&&1===t.nodeType&&!ma(t)},rr.isEmpty=function(t){if(null==t)return!0;if(ra(t)&&(ea(t)||"string"==typeof t||"function"==typeof t.splice||sa(t)||_a(t)||ta(t)))return!t.length;var e=Ts(t);if(e==q||e==K)return!t.size;if(Ps(t))return!Xr(t).length;for(var n in t)if(ee.call(t,n))return!1;return!0},rr.isEqual=function(t,e){return Gr(t,e)},rr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Gr(t,e,i,n):!!r},rr.isError=aa,rr.isFinite=function(t){return"number"==typeof t&&Nn(t)},rr.isFunction=la,rr.isInteger=ua,rr.isLength=ca,rr.isMap=pa,rr.isMatch=function(t,e){return t===e||Kr(t,e,ws(e))},rr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Kr(t,e,ws(e),n)},rr.isNaN=function(t){return fa(t)&&t!=+t},rr.isNative=function(t){if(Rs(t))throw new $t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Qr(t)},rr.isNil=function(t){return null==t},rr.isNull=function(t){return null===t},rr.isNumber=fa,rr.isObject=ha,rr.isObjectLike=da,rr.isPlainObject=ma,rr.isRegExp=ga,rr.isSafeInteger=function(t){return ua(t)&&t>=-x&&t<=x},rr.isSet=ya,rr.isString=va,rr.isSymbol=ba,rr.isTypedArray=_a,rr.isUndefined=function(t){return t===i},rr.isWeakMap=function(t){return da(t)&&Ts(t)==Z},rr.isWeakSet=function(t){return da(t)&&"[object WeakSet]"==Br(t)},rr.join=function(t,e){return null==t?"":Rn.call(t,e)},rr.kebabCase=el,rr.last=oo,rr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=Ta(n))<0?Mn(r+s,0):Ln(s,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):Ke(t,Xe,s,!0)},rr.lowerCase=nl,rr.lowerFirst=rl,rr.lt=wa,rr.lte=Ea,rr.max=function(t){return t&&t.length?Dr(t,fl,jr):i},rr.maxBy=function(t,e){return t&&t.length?Dr(t,bs(e,2),jr):i},rr.mean=function(t){return Ze(t,fl)},rr.meanBy=function(t,e){return Ze(t,bs(e,2))},rr.min=function(t){return t&&t.length?Dr(t,fl,Zr):i},rr.minBy=function(t,e){return t&&t.length?Dr(t,bs(e,2),Zr):i},rr.stubArray=xl,rr.stubFalse=Il,rr.stubObject=function(){return{}},rr.stubString=function(){return""},rr.stubTrue=function(){return!0},rr.multiply=Rl,rr.nth=function(t,e){return t&&t.length?ri(t,Ta(e)):i},rr.noConflict=function(){return Ee._===this&&(Ee._=oe),this},rr.noop=bl,rr.now=Fo,rr.pad=function(t,e,n){t=Aa(t);var r=(e=Ta(e))?bn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return es(An(i),n)+t+es(kn(i),n)},rr.padEnd=function(t,e,n){t=Aa(t);var r=(e=Ta(e))?bn(t):0;return e&&r<e?t+es(e-r,n):t},rr.padStart=function(t,e,n){t=Aa(t);var r=(e=Ta(e))?bn(t):0;return e&&r<e?es(e-r,n)+t:t},rr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Vn(Aa(t).replace(xt,""),e||0)},rr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ds(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Ca(t),e===i?(e=t,t=0):e=Ca(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=Un();return Ln(t+s*(e-t+ve("1e-"+((s+"").length-1))),e)}return li(t,e)},rr.reduce=function(t,e,n){var r=ea(t)?ze:en,i=arguments.length<3;return r(t,bs(e,4),n,i,Ir)},rr.reduceRight=function(t,e,n){var r=ea(t)?$e:en,i=arguments.length<3;return r(t,bs(e,4),n,i,kr)},rr.repeat=function(t,e,n){return e=(n?Ds(t,e,n):e===i)?1:Ta(e),ui(Aa(t),e)},rr.replace=function(){var t=arguments,e=Aa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},rr.result=function(t,e,n){var r=-1,s=(e=Di(e,t)).length;for(s||(s=1,t=i);++r<s;){var o=null==t?i:t[Gs(e[r])];o===i&&(r=s,o=n),t=la(o)?o.call(t):o}return t},rr.round=Pl,rr.runInContext=t,rr.sample=function(t){return(ea(t)?fr:function(t){return fr(Xa(t))})(t)},rr.size=function(t){if(null==t)return 0;if(ra(t))return va(t)?bn(t):t.length;var e=Ts(t);return e==q||e==K?t.size:Xr(t).length},rr.snakeCase=il,rr.some=function(t,e,n){var r=ea(t)?He:mi;return n&&Ds(t,e,n)&&(e=i),r(t,bs(e,3))},rr.sortedIndex=function(t,e){return gi(t,e)},rr.sortedIndexBy=function(t,e,n){return yi(t,e,bs(n,2))},rr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=gi(t,e);if(r<n&&Xo(t[r],e))return r}return-1},rr.sortedLastIndex=function(t,e){return gi(t,e,!0)},rr.sortedLastIndexBy=function(t,e,n){return yi(t,e,bs(n,2),!0)},rr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=gi(t,e,!0)-1;if(Xo(t[n],e))return n}return-1},rr.startCase=sl,rr.startsWith=function(t,e,n){return t=Aa(t),n=null==n?0:Er(Ta(n),0,t.length),e=_i(e),t.slice(n,n+e.length)==e},rr.subtract=Ml,rr.sum=function(t){return t&&t.length?nn(t,fl):0},rr.sumBy=function(t,e){return t&&t.length?nn(t,bs(e,2)):0},rr.template=function(t,e,n){var r=rr.templateSettings;n&&Ds(t,e,n)&&(e=i),t=Aa(t),e=Na({},e,r,us);var s,o,a=Na({},e.imports,r.imports,us),l=qa(a),u=on(a,l),c=0,h=e.interpolate||jt,d="__p += '",p=Kt((e.escape||jt).source+"|"+h.source+"|"+(h===bt?Rt:jt).source+"|"+(e.evaluate||jt).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++fe+"]")+"\n";t.replace(p,function(e,n,r,i,a,l){return r||(r=i),d+=t.slice(c,l).replace(qt,dn),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),d+="';\n";var m=e.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(ct,""):d).replace(ht,"$1").replace(dt,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=ul(function(){return Ht(l,f+"return "+d).apply(i,u)});if(g.source=d,aa(g))throw g;return g},rr.times=function(t,e){if((t=Ta(t))<1||t>x)return[];var n=A,r=Ln(t,A);e=bs(e),t-=A;for(var i=rn(r,e);++n<t;)e(n);return i},rr.toFinite=Ca,rr.toInteger=Ta,rr.toLength=xa,rr.toLower=function(t){return Aa(t).toLowerCase()},rr.toNumber=Ia,rr.toSafeInteger=function(t){return t?Er(Ta(t),-x,x):0===t?t:0},rr.toString=Aa,rr.toUpper=function(t){return Aa(t).toUpperCase()},rr.trim=function(t,e,n){if((t=Aa(t))&&(n||e===i))return t.replace(Tt,"");if(!t||!(e=_i(e)))return t;var r=_n(t),s=_n(e);return Ni(r,ln(r,s),un(r,s)+1).join("")},rr.trimEnd=function(t,e,n){if((t=Aa(t))&&(n||e===i))return t.replace(It,"");if(!t||!(e=_i(e)))return t;var r=_n(t);return Ni(r,0,un(r,_n(e))+1).join("")},rr.trimStart=function(t,e,n){if((t=Aa(t))&&(n||e===i))return t.replace(xt,"");if(!t||!(e=_i(e)))return t;var r=_n(t);return Ni(r,ln(r,_n(e))).join("")},rr.truncate=function(t,e){var n=30,r="...";if(ha(e)){var s="separator"in e?e.separator:s;n="length"in e?Ta(e.length):n,r="omission"in e?_i(e.omission):r}var o=(t=Aa(t)).length;if(pn(t)){var a=_n(t);o=a.length}if(n>=o)return t;var l=n-bn(r);if(l<1)return r;var u=a?Ni(a,0,l).join(""):t.slice(0,l);if(s===i)return u+r;if(a&&(l+=u.length-l),ga(s)){if(t.slice(l).search(s)){var c,h=u;for(s.global||(s=Kt(s.source,Aa(Pt.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var d=c.index;u=u.slice(0,d===i?l:d)}}else if(t.indexOf(_i(s),l)!=l){var p=u.lastIndexOf(s);p>-1&&(u=u.slice(0,p))}return u+r},rr.unescape=function(t){return(t=Aa(t))&&mt.test(t)?t.replace(pt,wn):t},rr.uniqueId=function(t){var e=++ne;return Aa(t)+e},rr.upperCase=ol,rr.upperFirst=al,rr.each=Ao,rr.eachRight=Do,rr.first=no,vl(rr,(kl={},Mr(rr,function(t,e){ee.call(rr.prototype,e)||(kl[e]=t)}),kl),{chain:!1}),rr.VERSION="4.17.11",Le(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){rr[t].placeholder=rr}),Le(["drop","take"],function(t,e){ar.prototype[t]=function(n){n=n===i?1:Mn(Ta(n),0);var r=this.__filtered__&&!e?new ar(this):this.clone();return r.__filtered__?r.__takeCount__=Ln(n,r.__takeCount__):r.__views__.push({size:Ln(n,A),type:t+(r.__dir__<0?"Right":"")}),r},ar.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Le(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;ar.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:bs(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Le(["head","last"],function(t,e){var n="take"+(e?"Right":"");ar.prototype[t]=function(){return this[n](1).value()[0]}}),Le(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");ar.prototype[t]=function(){return this.__filtered__?new ar(this):this[n](1)}}),ar.prototype.compact=function(){return this.filter(fl)},ar.prototype.find=function(t){return this.filter(t).head()},ar.prototype.findLast=function(t){return this.reverse().find(t)},ar.prototype.invokeMap=ci(function(t,e){return"function"==typeof t?new ar(this):this.map(function(n){return Hr(n,t,e)})}),ar.prototype.reject=function(t){return this.filter(Wo(bs(t)))},ar.prototype.slice=function(t,e){t=Ta(t);var n=this;return n.__filtered__&&(t>0||e<0)?new ar(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=Ta(e))<0?n.dropRight(-e):n.take(e-t)),n)},ar.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ar.prototype.toArray=function(){return this.take(A)},Mr(ar.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=rr[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);s&&(rr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof ar,u=a[0],c=l||ea(e),h=function(t){var e=s.apply(rr,qe([t],a));return r&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=o&&!d,f=l&&!this.__actions__.length;if(!o&&c){e=f?e:new ar(this);var m=t.apply(e,a);return m.__actions__.push({func:Co,args:[h],thisArg:i}),new or(m,d)}return p&&f?t.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})}),Le(["pop","push","shift","sort","splice","unshift"],function(t){var e=Xt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);rr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ea(i)?i:[],t)}return this[n](function(n){return e.apply(ea(n)?n:[],t)})}}),Mr(ar.prototype,function(t,e){var n=rr[e];if(n){var r=n.name+"";(Kn[r]||(Kn[r]=[])).push({name:e,func:n})}}),Kn[Xi(i,f).name]=[{name:"wrapper",func:i}],ar.prototype.clone=function(){var t=new ar(this.__wrapped__);return t.__actions__=Bi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Bi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Bi(this.__views__),t},ar.prototype.reverse=function(){if(this.__filtered__){var t=new ar(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ar.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ea(t),r=e<0,i=n?t.length:0,s=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Ln(e,t+o);break;case"takeRight":t=Mn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,h=c.length,d=0,p=Ln(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return Ti(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var m=-1,g=t[u+=e];++m<h;){var y=c[m],v=y.type,b=(0,y.iteratee)(g);if(2==v)g=b;else if(!b){if(1==v)continue t;break t}}f[d++]=g}return f},rr.prototype.at=To,rr.prototype.chain=function(){return So(this)},rr.prototype.commit=function(){return new or(this.value(),this.__chain__)},rr.prototype.next=function(){this.__values__===i&&(this.__values__=Sa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},rr.prototype.plant=function(t){for(var e,n=this;n instanceof sr;){var r=Qs(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e},rr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof ar){var e=t;return this.__actions__.length&&(e=new ar(this)),(e=e.reverse()).__actions__.push({func:Co,args:[co],thisArg:i}),new or(e,this.__chain__)}return this.thru(co)},rr.prototype.toJSON=rr.prototype.valueOf=rr.prototype.value=function(){return Ti(this.__wrapped__,this.__actions__)},rr.prototype.first=rr.prototype.head,tn&&(rr.prototype[tn]=function(){return this}),rr}();Ee._=En,(r=(function(){return En}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,a)}l((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(l,u):c(s[0][2],n)}catch(r){c(s[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"Logger",function(){return a}),n.d(e,"setLogLevel",function(){return l});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=i.INFO,o=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},a=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=o,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function l(t){r.forEach(function(e){e.logLevel=t})}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("30Go"),s=n("zVF4"),o=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),l=new s.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){c.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){c=c.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],s=0,o=Object.keys(t.services_[i]);s<o.length;s++)e.push(t.services_[i][o[s]]);return Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;s.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(c.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),c=[])},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{name:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d=new o.Logger("@firebase/app");if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),("object"!=typeof r||null===r)&&(r={name:r});var o=r;void 0===o.name&&(o.name=u);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{name:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{name:a});var h=new t(n,o,i);return e[a]=h,c(h,"create"),h},app:o,apps:null,SDK_VERSION:"6.2.3",INTERNAL:{registerService:function(e,u,c,h,d){if(void 0===d&&(d=!1),n[e])throw l.create("duplicate-service",{name:e});function p(t){if(void 0===t&&(t=o()),"function"!=typeof t[e])throw l.create("invalid-app-argument",{name:e});return t[e]()}return n[e]=u,h&&(r[e]=h,a().forEach(function(t){h("create",t)})),void 0!==c&&s.deepExtend(p,c),i[e]=p,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,d?t:[])},p},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:h}};function o(t){if(!s.contains(e,t=t||u))throw l.create("no-app",{name:t});return e[t]}function a(){return Object.keys(e).map(function(t){return e[t]})}function c(t,e){for(var i=0,s=Object.keys(n);i<s.length;i++){var o=h(0,s[i]);if(null===o)return;r[o]&&r[o](e,t)}}function h(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:a}),o.App=t,i}(h);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=f.initializeApp;f.initializeApp=function(){return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,arguments)};var g=f;e.default=g,e.firebase=g},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return ar}),n.d(e,"EventType",function(){return lr}),n.d(e,"WebChannel",function(){return ur}),n.d(e,"XhrIo",function(){return cr}),n.d(e,"createWebChannelTransport",function(){return or});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},o=i;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function x(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var A,D=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var R=o.navigator;if(R){var P=R.userAgent;if(P){A=P;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<F.length;s++)n=F[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=c;var B,j,q=O(A,"Opera"),z=O(A,"Trident")||O(A,"MSIE"),$=O(A,"Edge"),H=$||z,W=O(A,"Gecko")&&!(O(A.toLowerCase(),"webkit")&&!O(A,"Edge"))&&!(O(A,"Trident")||O(A,"MSIE"))&&!O(A,"Edge"),G=O(A.toLowerCase(),"webkit")&&!O(A,"Edge");function K(){var t=o.document;return t?t.documentMode:void 0}t:{var Q="",Y=(j=A,W?/rv:([^\);]+)(\)|;)/.exec(j):$?/Edge\/([\d\.]+)/.exec(j):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):G?/WebKit\/(\S+)/.exec(j):q?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(Y&&(Q=Y?Y[1]:""),z){var X=K();if(null!=X&&X>parseFloat(Q)){B=String(X);break t}}B=Q}var Z,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=D(String(B)).split("."),r=D(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=N(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||N(0==o[2].length,0==a[2].length)||N(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var et=o.document;Z=et&&z?K()||("CSS1Compat"==et.compatMode?parseInt(B,10):5):void 0;var nt=!z||9<=Number(Z),rt=z&&!tt("9"),it=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",c,e),o.removeEventListener("test",c,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function ot(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{U(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.Ja=!1},E(ot,st);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=C(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.X&&s.listener==e&&s.capture==!!n&&s.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ft(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ct(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(d(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Ct(r),e&&e[lt]?e.Ba(n,r,f(i)?!!i.capture:!!i,s):vt(e,n,r,!0,i,s)}(t,e,n,r,i);if(d(e)){for(var s=0;s<e.length;s++)yt(t,e[s],n,r,i);return null}return n=Ct(n),t&&t[lt]?t.Aa(e,n,f(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i;if(o&&!nt)return null;var a=Et(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function _t(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new ot(e,this):e=new ot(e||u("window.event"),this))}function Et(t){return(t=t[mt])instanceof dt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==h(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function Tt(){S.call(this),this.c=new dt(this),this.J=this,this.B=null}function xt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.X&&o.capture==n){var a=o.listener,l=o.da||o.src;o.Z&&pt(t.c,o),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Ja}E(Tt,S),Tt.prototype[lt]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(d(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=f(i)?!!i.capture:!!i,r=Ct(r),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ft(o=e.a[n],r,i,s))&&(ht(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,s)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;V(t=new st(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=xt(o,r,!0,t)&&i}if(i=xt(o=t.a=n,r,!0,t)&&i,i=xt(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=xt(o=t.a=e[s],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=o.JSON.stringify;function kt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}kt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Dt,Ot=new kt(function(){return new Rt},function(t){t.reset()});function Nt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Pt(t){o.setTimeout(function(){throw t},0)}function Mt(t,e){Dt||function(){var t=o.Promise.resolve(void 0);Dt=function(){t.then(Vt)}}(),Lt||(Dt(),Lt=!0),Ft.add(t,e)}At.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new At;function Vt(){for(var t;t=Nt();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Ot;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){Tt.call(this),this.b=t||1,this.a=e||o,this.f=b(this.gb,this),this.g=w()}function Bt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function jt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function qt(t,e,n){S.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function zt(t){t.U=jt(t.b,t.c),t.f.apply(null,t.a)}function $t(t){S.call(this),this.b=t,this.a={}}E(Ut,Tt),(r=Ut.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Bt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Ut.N.G.call(this),Bt(this),delete this.a},E(qt,S),(r=qt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){qt.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},E($t,S);var Ht=[];function Wt(t,e,n,r){d(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var s=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Gt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&bt(t)},t),t.a={}}function Kt(){}$t.prototype.G=function(){$t.N.G.call(this),Gt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=new Tt;function Yt(t){st.call(this,"serverreachability",t)}function Xt(t){Qt.dispatchEvent(new Yt(Qt,t))}function Zt(t){st.call(this,"statevent",t)}function Jt(t){Qt.dispatchEvent(new Zt(Qt,t))}function te(t){st.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){t()},e)}E(Yt,st),E(Zt,st),E(te,st);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function se(){}ie.prototype.a=null;var oe,ae={OPEN:"a",ib:"b",Na:"c",rb:"d"};function le(){st.call(this,"d")}function ue(){st.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new $t(this),this.O=de,this.P=new Ut(t=H?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(le,st),E(ue,st),E(ce,ie),oe=new ce;var de=45e3,pe={},fe={};function me(t,e,n){t.F=1,t.f=Be(Re(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,r){t.F=1,t.f=Be(Re(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),_e(t),t.D=Re(t.f),Ue(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(b(t.Ka,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.eb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==fe){4==e&&(t.c=4,Jt(14),r=!1);break}if(i==pe){t.c=4,Jt(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,Jt(16),r=!1),t.b=t.b&&r,r||(Ce(t),Se(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.bb,t),e)}function Ee(t){t.i&&(o.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Da()||t.m||t.g.na(t)}function Ce(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Bt(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Ga(t,e),Xt(4)}catch(n){}}function xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||a(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t,e){De(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t))}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];De(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)De(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function De(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var s=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var o=Pn(this.a,"X-HTTP-Initial-Response");if(o&&!k(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.c=3,Jt(12),Ce(this),Se(this);break t}this.s=!0,Te(this,a)}this.H?(ve(this,e,s),H&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.cb),this.P.start())):Te(this,s),4==e&&Ce(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),Ce(this),Se(this)}}}catch(l){}},r.cb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ve(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Ce(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Jt(17)),Ce(this),this.c=2,Se(this)):we(this,this.R-t)},(r=Ie.prototype).C=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ae(this),this.a.concat()},r.get=function(t,e){return De(this.b,t)?this.b[t]:e},r.set=function(t,e){De(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Oe=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Ne?(this.h=void 0!==e?e:t.h,Pe(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Oe))?(this.h=!!e,Pe(this,n[1]||"",!0),this.j=je(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=je(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=je(n[7]||"")):(this.h=!!e,this.c=new Qe(null,this.h))}function Re(t){return new Ne(t)}function Pe(t,e,n){t.f=n?je(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?je(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof Qe?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,Ge)),t.c=new Qe(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function Ue(t,e,n){d(n)||(n=[String(n)]),Je(t.c,e,n)}function Be(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,$e,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,$e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?We:He,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,Ke)),t.join("")},Ne.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?Pe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(O(i,"./")||O(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var $e=/[#\/\?@]/g,He=/[#\?:]/g,We=/[#\?]/g,Ge=/[#\?@]/g,Ke=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xe(t,e){Ye(t),e=en(t,e),De(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke(t.a,e))}function Ze(t,e){return Ye(t),e=en(t,e),De(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function tn(t){var e=new Qe;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Wn(t.a,t,!1)):(Jt(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),Ue(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ve(e,n,r),ge(t.b,e,!1,t.f)}}function sn(){this.a=this.b=null}function on(){this.a=new Ie}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=o.PerformanceNavigationTiming?0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(o.ka&&o.ka.Ea&&o.ka.Ea()&&o.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new on),this.b=null,this.c=[]}(r=Qe.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach(function(n,r){T(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Ze(this,t)&&(e=x(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=x(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")},E(function(){},function(){}),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Pn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Pn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Qn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Qn(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!z||10<=Number(Z))&&(this.c=200,this.b.cancel(),Jt(11),Wn(this.a,this,!0))):(Jt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Wn(this.a,this,!0)):(Jt(10),Wn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,Qn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},on.prototype.add=function(t){this.a.set(an(t),t)},on.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(O(e,"spdy")||O(e,"quic")||O(e,"h2"))&&(t.f=t.g,t.a=new on,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=De(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=De(t.a.a.b,n)),n&&ke(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),function(t){e=e.concat(t.j)}),e}return I(t.c)}function vn(){}function bn(){this.a=new vn}function _n(t,e,n){var r=n||"";try{xe(t,function(t,n){var i=t;f(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}un.prototype.cancel=function(){var t;this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),function(t){t.cancel()}),(t=this.a.a).b={},t.a.length=0,t.c=0)},vn.prototype.stringify=function(t){return o.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return o.JSON.parse(t,void 0)};var En=o.JSON.parse;function Sn(t){Tt.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}E(Sn,Tt);var Cn="",Tn=/^https?$/i,xn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function kn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,An(t),On(t)}function An(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Dn(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))jt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(Oe)[1]||null;if(!a&&o.self&&o.self.location){var l=o.self.location.protocol;a=l.substr(0,l.length-1)}i=!Tn.test(a?a.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",An(t))}finally{On(t)}}}function On(t,e){if(t.a){Nn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Nn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(o.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Pn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function Ln(t){this.f=[],this.F=new sn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Vn(t),3==t.u){var e=t.P++,n=Re(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Be(Re(n)),n=!1,o.navigator&&o.navigator.sendBeacon&&(n=o.navigator.sendBeacon(e.f.toString(),"")),!n&&o.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Yn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(o.clearTimeout(t.l),t.l=null),Gn(t),t.b.cancel(),t.h&&(l(t.h)&&o.clearTimeout(t.h),t.h=null)}function Un(t,e){t.f.push(new ln(t.Ra++,e)),3==t.u&&Bn(t)}function Bn(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ia,t),t.A=0)}function jn(t,e){var n;n=e?e.W:t.P++;var r=Re(t.B);Ve(r,"SID",t.H),Ve(r,"RID",n),Ve(r,"AID",t.O),qn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function qn(t,e){t.c&&xe({},function(t,n){Ve(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=s))s=Math.max(0,i[l].b-100),a=!1;else try{_n(c,o,"req"+u+"_")}catch(h){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function $n(t){t.a||t.l||(t.S=1,Mt(t.Ha,t),t.v=0)}function Hn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ha,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Bn(t)}function Gn(t){null!=t.s&&(o.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Qn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Pe(n,"https"),Be(n)),function(t,e){var n=new Kt;if(o.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Vn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof Ne?Re(t):new Ne(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=o.location;r=function(t,e,n,r){var i=new Ne(null,void 0);return t&&Pe(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,function(t,e){Ve(r,e,t)}),n=t.I,(e=t.j)&&n&&Ve(r,e,n),Ve(r,"VER",t.wa),qn(t,r),r}function Zn(){}function Jn(){if(z&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=Sn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(s){return void kn(this,s)}t=n||"";var i=new Ie(this.headers);r&&xe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=In,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=o.FormData&&t instanceof o.FormData,!(0<=C(xn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=jt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){kn(this,s)}},r.Ca=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),On(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),On(this,!0)),Sn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?Dn(this):this.$a())},r.$a=function(){Dn(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(j){return-1}},r.za=function(){try{return 2<Rn(this)?this.a.statusText:""}catch(j){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Ya=function(){return a(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var s=this.f[i];if(void 0===(s="__data__"in s.a&&a(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(i=Re(this.B),"RID",t),Ve(i,"CVER",22),this.o&&this.j&&Ve(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&Mn(i,this.g,r),mn(this.b,n),this.W?(Ve(i,"$req",e),Ve(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?jn(this,t):0==this.f.length||dn(this.b)||jn(this))},r.Ha=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),qn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(s){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Gn(this),this.a.cancel(),this.a=null}Hn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(s){}this.fa=void 0}}else Qn(this,11)}else if((t.s||this.a==t)&&Gn(this),!k(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&l(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Pn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Pn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ve(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),_e(r)),this.a=r):$n(this),0<this.f.length&&Bn(this)}else"stop"!=r[0]&&"close"!=r[0]||Qn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Qn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),Jt(19))},r.na=function(t){var e=null;if(this.a==t){Gn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Qt.dispatchEvent(new te(Qt,t.l?t.l.length:0,e,this.A)),Bn(this)):$n(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(b(t.Ia,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Hn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Qn(this,5);break;case 4:Qn(this,10);break;case 3:Qn(this,6);break;default:Qn(this,2)}}},r.fb=function(t){Jt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},Jn.prototype.a=function(t,e){return new tr(t,e)},E(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Jt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ue(e,"MODE","init"),!t.a.o&&t.a.j&&Ue(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(t){if(a(t)){var e={};e.__data__=t,Un(this.a,e)}else this.h?((e={}).__data__=It(t),Un(this.a,e)):Un(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},E(er,le),E(nr,ue),E(rr,Zn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Jn);Jn.prototype.createWebChannel=Jn.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",se.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Tt.prototype.listen=Tt.prototype.Aa,Sn.prototype.listenOnce=Sn.prototype.Ba,Sn.prototype.getLastError=Sn.prototype.Ya,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getStatusText=Sn.prototype.za,Sn.prototype.getResponseJson=Sn.prototype.Va,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var sr={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:se,XhrIo:Sn},or=sr.createWebChannelTransport,ar=sr.ErrorCode,lr=sr.EventType,ur=sr.WebChannel,cr=sr.XhrIo;e.default=sr},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c,d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:s,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(s))try{s.call(this)}catch(d){e=!0,t=d instanceof h?p(d.errors):[d]}if(l(o))for(a=-1,c=o.length;++a<c;){const n=o[a];if(u(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(p(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function p(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new m(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class g extends m{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(r((o=Object.create(e)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function b(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}const w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof m)return t;if(t[f])return t[f]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=E(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=E(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=(e=>new t(e)),t})();function E(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);const C=S;class T extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends m{constructor(t){super(t),this.destination=t}}const I=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new x(this)}lift(t){const e=new k(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new T(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=((t,e)=>new k(t,e)),t})();class k extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class D extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},N=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=R(),M=t=>e=>{const n=t[P]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},L=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function V(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const U=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return L(t);if(F(t))return O(t);if(V(t))return N(t);if(t&&"function"==typeof t[P])return M(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function B(t,e,n,r,i=new D(t,n,r)){if(!i.closed)return U(e)(i)}class j extends m{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}class z{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new $(t,this.project,this.thisArg))}}class $ extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function H(t,e){return new w(e?n=>{const r=new d;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:O(t))}function W(t,e){if(!e)return t instanceof w?t:new w(U(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:L(t))}(t,e);if(V(t))return function(t,e){return new w(e?n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:N(t))}(t,e);if(F(t))return H(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const s=i.next();t=s.value,e=s.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r}:M(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function G(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(G((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}class Q extends j{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new D(this,void 0,void 0);this.destination.add(r),B(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(t){return t}function X(t=Number.POSITIVE_INFINITY){return G(Y,t)}function Z(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return A(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:X(e)(H(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new et(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class et extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const nt=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new it(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class it extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function st(){return new I}function ot(){return t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,rt);return r.source=e,r.subjectFactory=n,r}}(st)(t))}const at="__parameters__";function lt(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(at)?t[at]:Object.defineProperty(t,at,{value:[]})[at];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const ut=lt("Inject",t=>({token:t})),ct=lt("Optional"),ht=lt("Self"),dt=lt("SkipSelf");var pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ft(t){for(let e in t)if(t[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function mt(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const gt=mt;function yt(t){return t&&t.hasOwnProperty(vt)?t[vt]:null}const vt=ft({ngInjectableDef:ft});function bt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const _t=ft({__forward_ref__:ft});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return bt(this())},t}function Et(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(_t)&&e.__forward_ref__===wt?e():t}function St(){const t="undefined"!=typeof globalThis&&globalThis,e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,r="undefined"!=typeof global&&global;return t||r||e||n}const Ct=St();let Tt,xt=void 0;function It(t){const e=xt;return xt=t,e}function kt(t,e=pt.Default){return(Tt||function(t,e=pt.Default){if(void 0===xt)throw new Error("inject() must be called from an injection context");return null===xt?function(t,e,n){const r=yt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&pt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${bt(t)}]`)}(t,0,e):xt.get(t,e&pt.Optional?null:void 0,e)})(t,e)}const At=kt;class Dt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=mt({providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ot="__source",Nt=new Object,Rt=new Dt("INJECTOR",-1);class Pt{get(t,e=Nt){if(e===Nt){const e=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Mt=(()=>{class t{static create(t,e){return Array.isArray(t)?new Ht(t,e):new Ht(t.providers,t.parent,t.name||null)}}return t.THROW_IF_NOT_FOUND=Nt,t.NULL=new Pt,t.ngInjectableDef=mt({providedIn:"any",factory:()=>kt(Rt)}),t.__NG_ELEMENT_ID__=-1,t})(),Lt=function(t){return t},Ft=[],Vt=Lt,Ut=function(){return Array.prototype.slice.call(arguments)},Bt=ft({provide:String,useValue:ft}),jt="ngTokenPath",qt="ngTempTokenPath",zt=/\n/gm,$t="\u0275";class Ht{constructor(t,e=Mt.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Mt,{token:Mt,fn:Lt,deps:Ft,value:this,useNew:!1}),r.set(Rt,{token:Rt,fn:Lt,deps:Ft,value:this,useNew:!1}),function t(e,n){if(n)if((n=Et(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Kt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Kt("Unexpected provider",n);{let t=Et(n.provide);const r=function(t){const e=function(t){let e=Ft;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=Et(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof ct||n==ct?r|=1:n instanceof dt||n==dt?r&=-3:n instanceof ht||n==ht?r&=-5:i=n instanceof ut?n.token:Et(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:Et(t.useExisting),options:6}];else if(!(n||Bt in t))throw Kt("'deps' required",t);return e}(t);let n=Lt,r=Ft,i=!1,s=Et(t.provide);if(Bt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Et(t.useClass);else{if("function"!=typeof s)throw Kt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Ut)throw Wt(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Ut,value:Ft});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==Ut)throw Wt(t);e.set(t,r)}}}(r,t)}get(t,e,n=pt.Default){const r=this._records.get(t);try{return function t(e,n,r,i,s,o){try{return function(e,n,r,i,s,o){let a;if(!n||o&pt.SkipSelf)o&pt.Self||(a=i.get(e,s,pt.Default));else{if((a=n.value)==Vt)throw Error($t+"Circular dependency");if(a===Ft){n.value=Vt;let e=void 0,s=n.useNew,o=n.fn,l=n.deps,u=Ft;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],s=n.options,o=2&s?r.get(n.token):void 0;u.push(t(n.token,o,r,o||4&s?i:Mt.NULL,1&s?null:Mt.THROW_IF_NOT_FOUND,pt.Default))}}n.value=a=s?new o(...u):o.apply(e,u)}}return a}(e,n,r,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[qt]=a[qt]||[]).unshift(e),n&&n.value==Vt&&(n.value=Ft),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[qt];throw e[Ot]&&i.unshift(e[Ot]),t.message=Gt("\n"+t.message,i,"StaticInjectorError",r),t[jt]=i,t[qt]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(bt(n))),`StaticInjector[${t.join(", ")}]`}}function Wt(t){return Kt("Cannot mix multi providers and regular providers",t)}function Gt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==$t?t.substr(2):t;let i=bt(e);if(e instanceof Array)i=e.map(bt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):bt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zt,"\n  ")}`}function Kt(t,e){return new Error(Gt(t,e,"StaticInjectorError"))}const Qt="ngDebugContext",Yt="ngOriginalError",Xt="ngErrorLogger",Zt=new Dt("AnalyzeForEntryComponents"),Jt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),te=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function ee(t){return t[Qt]}function ne(t){return t[Yt]}function re(t,...e){t.error(...e)}class ie{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Xt]||re}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ee(t)?ee(t):this._findContext(ne(t)):null}_findOriginalError(t){let e=ne(t);for(;e&&ne(e);)e=ne(e);return e}}let se=!0,oe=!1;function ae(){return oe=!0,se}class le{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ue=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ce=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function he(t){return(t=String(t)).match(ue)||t.match(ce)?t:(ae()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function de(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function pe(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const fe=de("area,br,col,hr,img,wbr"),me=de("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ge=de("rp,rt"),ye=pe(ge,me),ve=pe(fe,pe(me,de("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pe(ge,de("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ye),be=de("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_e=de("srcset"),we=pe(be,_e,de("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),de("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ee=de("script,style,template");class Se{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ve.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ee.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!we.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;be[s]&&(o=he(o)),_e[s]&&(r=o,o=(r=String(r)).split(",").map(t=>he(t.trim())).join(", ")),this.buf.push(" ",e,'="',xe(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ve.hasOwnProperty(e)&&!fe.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(xe(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Te=/([^\#-~ |!])/g;function xe(t){return t.replace(/&/g,"&amp;").replace(Ce,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Te,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ie;function ke(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ae=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class De{}const Oe=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ne=/^url\(([^)]+)\)$/,Re=/([A-Z])/g;function Pe(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Me(t){return!!t&&"function"==typeof t.then}function Le(t){return!!t&&"function"==typeof t.subscribe}let Fe=null;function Ve(){if(!Fe){const t=Ct.Symbol;if(t&&t.iterator)Fe=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Fe=n)}}}return Fe}function Ue(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Be(t,e){const n=qe(t),r=qe(e);if(n&&r)return function(t,e,n){const r=t[Ve()](),i=e[Ve()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Be);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||Ue(t,e)}}class je{constructor(t){this.wrapped=t}static wrap(t){return new je(t)}static unwrap(t){return je.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof je}}function qe(t){return!!ze(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ve()in t)}function ze(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class $e{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}const He=new Dt("The presence of this token marks an injector as being the root injector.");class We{}class Ge{}function Ke(t){const e=Error(`No component factory found for ${bt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Qe]=t,e}const Qe="ngComponent";class Ye{resolveComponentFactory(t){throw Ke(t)}}const Xe=(()=>{class t{}return t.NULL=new Ye,t})();class Ze{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ke(t);return new Je(e,this._ngModule)}}class Je extends Ge{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}class tn{}class en{}function nn(...t){}const rn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=(()=>sn(t)),t})(),sn=nn;class on{}class an{}const ln=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),un=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>cn()),t})(),cn=nn;class hn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const dn=new hn("8.0.2");class pn{constructor(){}supports(t){return qe(t)}create(t){return new mn(t)}}const fn=(t,e)=>e;class mn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<bn(n,r,i)?e:n,o=bn(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!qe(t))throw new Error(`Error trying to diff '${bt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&Ue(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Ue(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ve()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ue(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Ue(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ue(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ue(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new gn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new vn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ue(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class vn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new yn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class _n{constructor(){}supports(t){return t instanceof Map||ze(t)}create(){return new wn}}class wn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ze(t)))throw new Error(`Error trying to diff '${bt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new En(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ue(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class En{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}const Sn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=mt({providedIn:"root",factory:()=>new t([new pn])}),t})(),Cn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=mt({providedIn:"root",factory:()=>new t([new _n])}),t})(),Tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>xn()),t})(),xn=(...t)=>{},In=[new _n],kn=new Sn([new pn]),An=new Cn(In),Dn=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>On(t,rn)),t})(),On=nn,Nn=(()=>{class t{}return t.__NG_ELEMENT_ID__=(()=>Rn(t,rn)),t})(),Rn=nn;function Pn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Mn(n,e),n}(i,t)}function Mn(t,e){t[Qt]=e,t[Xt]=e.logError.bind(e)}function Ln(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Fn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Vn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Un(t,e){return t.nodes[e]}function Bn(t,e){return t.nodes[e]}function jn(t,e){return t.nodes[e]}function qn(t,e){return t.nodes[e]}function zn(t,e){return t.nodes[e]}const $n={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Hn=()=>{},Wn=new Map;function Gn(t){let e=Wn.get(t);return e||(e=bt(t)+"_"+Wn.size,Wn.set(t,e)),e}function Kn(t,e,n,r){if(je.isWrapped(r)){r=je.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,s=je.unwrap(t.oldValues[i]);t.oldValues[i]=new je(s)}return r}const Qn="$$undefined",Yn="$$empty";function Xn(t){return{id:Qn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Zn=0;function Jn(t,e,n,r){return!(!(2&t.state)&&Ue(t.oldValues[e.bindingIndex+n],r))}function tr(t,e,n,r){return!!Jn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function er(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Be(i,r)){const s=e.bindings[n].name;throw Pn($n.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function nr(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function rr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function ir(t,e,n,r){try{return nr(33554432&t.def.nodes[e].flags?Bn(t,e).componentView:t),$n.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function sr(t){return t.parent?Bn(t.parent,t.parentNodeDef.nodeIndex):null}function or(t){return t.parent?t.parentNodeDef.parent:null}function ar(t,e){switch(201347067&e.flags){case 1:return Bn(t,e.nodeIndex).renderElement;case 2:return Un(t,e.nodeIndex).renderText}}function lr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ur(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function cr(t){return 1<<t%32}function hr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=cr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function dr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Ot,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Gn(n)}})}function pr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Jt.Native?Bn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const fr=new WeakMap;function mr(t){let e=fr.get(t);return e||((e=t(()=>Hn)).factory=t,fr.set(t,e)),e}function gr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(ar(t,t.def.lastRenderRootNode))),yr(t,e,0,t.def.nodes.length-1,n,r,i)}function yr(t,e,n,r,i,s,o){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&br(t,n,e,i,s,o),a+=n.childCount}}function vr(t,e,n,r,i,s){let o=t;for(;o&&!lr(o);)o=o.parent;const a=o.parent,l=or(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&br(a,t,n,r,i,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)_r(t,o[e],n,r,i,s)}}function br(t,e,n,r,i,s){if(8&e.flags)vr(t,e.ngContent.index,n,r,i,s);else{const o=ar(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&_r(t,o,n,r,i,s),32&e.bindingFlags&&_r(Bn(t,e.nodeIndex).componentView,o,n,r,i,s)):_r(t,o,n,r,i,s),16777216&e.flags){const o=Bn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)gr(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&yr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function _r(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const wr=/^:([^:]+):(.+)$/;function Er(t){if(":"===t[0]){const e=t.match(wr);return[e[1],e[2]]}return["",t]}function Sr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Cr(t,e,n,r,i,s,o,a,l,u,c,h,d,p,f,m,g,y,v,b){switch(t){case 1:return e+Tr(n)+r;case 2:return e+Tr(n)+r+Tr(i)+s;case 3:return e+Tr(n)+r+Tr(i)+s+Tr(o)+a;case 4:return e+Tr(n)+r+Tr(i)+s+Tr(o)+a+Tr(l)+u;case 5:return e+Tr(n)+r+Tr(i)+s+Tr(o)+a+Tr(l)+u+Tr(c)+h;case 6:return e+Tr(n)+r+Tr(i)+s+Tr(o)+a+Tr(l)+u+Tr(c)+h+Tr(d)+p;case 7:return e+Tr(n)+r+Tr(i)+s+Tr(o)+a+Tr(l)+u+Tr(c)+h+Tr(d)+p+Tr(f)+m;case 8:return e+Tr(n)+r+Tr(i)+s+Tr(o)+a+Tr(l)+u+Tr(c)+h+Tr(d)+p+Tr(f)+m+Tr(g)+y;case 9:return e+Tr(n)+r+Tr(i)+s+Tr(o)+a+Tr(l)+u+Tr(c)+h+Tr(d)+p+Tr(f)+m+Tr(g)+y+Tr(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Tr(t){return null!=t?t.toString():""}const xr=new Object,Ir=Gn(Mt),kr=Gn(Rt),Ar=Gn(tn);function Dr(t,e,n,r){return n=Et(n),{index:-1,deps:dr(r,bt(e)),flags:t,token:e,value:n}}function Or(t,e,n=Mt.THROW_IF_NOT_FOUND){const r=It(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case Ir:case kr:case Ar:return t}const a=t._def.providersByKey[o];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=Nr(t,a)),e===xr?void 0:e}if((l=yt(e.token))&&(i=t,null!=(s=l).providedIn&&(function(t,e){return t._def.modules.indexOf(s.providedIn)>-1}(i)||"root"===s.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=xr,t._providers[n]=Nr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{It(r)}var i,s}function Nr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Or(t,n[0]));case 2:return new e(Or(t,n[0]),Or(t,n[1]));case 3:return new e(Or(t,n[0]),Or(t,n[1]),Or(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Or(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Or(t,n[0]));case 2:return e(Or(t,n[0]),Or(t,n[1]));case 3:return e(Or(t,n[0]),Or(t,n[1]),Or(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Or(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Or(t,e.deps[0]);break;case 256:n=e.value}return n===xr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?xr:n}function Rr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Fr(n,e),$n.dirtyParentQueries(r),Mr(r),r}function Pr(t,e,n){const r=e?ar(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);gr(n,2,i,s,void 0)}function Mr(t){gr(t,3,null,null,void 0)}function Lr(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fr(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const Vr=new Object;function Ur(t,e,n,r,i,s){return new Br(t,e,n,r,i,s)}class Br extends Ge{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=mr(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=$n.createRootView(t,e||[],n,i,r,Vr),a=jn(o,s).instance;return n&&o.renderer.setAttribute(Bn(o,0).renderElement,"ng-version",dn.full),new jr(o,new Hr(o),a)}}class jr extends We{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new rn(Bn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Qr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function qr(t,e,n){return new zr(t,e,n)}class zr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new rn(this._data.renderElement)}get injector(){return new Qr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=or(t),t=t.parent;return t?new Qr(t,e):new Qr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Rr(this._data,t);$n.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Hr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof Je||(i=s.get(tn));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Lr(i,n,r),function(t,e){const n=sr(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,e.parentNodeDef)}(e,r),$n.dirtyParentQueries(r),Pr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,s=i[n];Fr(i,n),null==r&&(r=i.length),Lr(i,r,s),$n.dirtyParentQueries(s),Mr(s),Pr(t,r>0?i[r-1]:null,s)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Rr(this._data,t);e&&$n.destroyView(e)}detach(t){const e=Rr(this._data,t);return e?new Hr(e):null}}function $r(t){return new Hr(t)}class Hr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return gr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){nr(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{$n.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){$n.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),$n.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Mr(this._view),$n.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Wr(t,e){return new Gr(t,e)}class Gr extends Dn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Hr($n.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new rn(Bn(this._parentView,this._def.nodeIndex).renderElement)}}function Kr(t,e){return new Qr(t,e)}class Qr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Mt.THROW_IF_NOT_FOUND){return $n.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Gn(t)},e)}}function Yr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Bn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Un(t,n.nodeIndex).renderText;if(20240&n.flags)return jn(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Xr(t){return new Zr(t.renderer)}class Zr{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Er(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Er(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Jr(t,e,n,r){return new ti(t,e,n,r)}class ti{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Nr(t,i))}}(this)}get(t,e=Mt.THROW_IF_NOT_FOUND,n=pt.Default){let r=0;return n&pt.SkipSelf?r|=1:n&pt.Self&&(r|=4),Or(this,{token:t,tokenKey:Gn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Xe)}destroy(){if(this._destroyed)throw new Error(`The ng module ${bt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==xr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const ei=Gn(on),ni=Gn(un),ri=Gn(rn),ii=Gn(Nn),si=Gn(Dn),oi=Gn(Tn),ai=Gn(Mt),li=Gn(Rt);function ui(t,e,n,r,i,s,o,a){const l=[];if(o)for(let c in o){const[t,e]=o[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return di(t,e|=16384,n,r,i,i,s,l,u)}function ci(t,e,n){return di(-1,t|=16,null,0,e,e,n)}function hi(t,e,n,r,i){return di(-1,t,e,0,n,r,i)}function di(t,e,n,r,i,s,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=hr(n);l||(l=[]),a||(a=[]),s=Et(s);const d=dr(o,bt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Sr(a),outputs:l,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function pi(t,e){return yi(t,e)}function fi(t,e){let n=t;for(;n.parent&&!lr(n);)n=n.parent;return vi(n.parent,or(n),!0,e.provider.value,e.provider.deps)}function mi(t,e){const n=vi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],s=n[i.propName];if(!Le(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(gi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function gi(t,e,n){return r=>ir(t,e,n,r)}function yi(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return vi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(_i(t,e,n,i[0]));case 2:return r(_i(t,e,n,i[0]),_i(t,e,n,i[1]));case 3:return r(_i(t,e,n,i[0]),_i(t,e,n,i[1]),_i(t,e,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=_i(t,e,n,i[r]);return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return _i(t,e.parent,n,r.deps[0]);case 256:return r.value}}function vi(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(_i(t,e,n,i[0]));case 2:return new r(_i(t,e,n,i[0]),_i(t,e,n,i[1]));case 3:return new r(_i(t,e,n,i[0]),_i(t,e,n,i[1]),_i(t,e,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=_i(t,e,n,i[r]);return new r(...o)}}const bi={};function _i(t,e,n,r,i=Mt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===oi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case ei:return Xr(wi(a,e,n));case ni:return wi(a,e,n).renderer;case ri:return new rn(Bn(a,e.nodeIndex).renderElement);case ii:return Bn(a,e.nodeIndex).viewContainer;case si:if(e.element.template)return Bn(a,e.nodeIndex).template;break;case oi:return $r(wi(a,e,n));case ai:case li:return Kr(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=jn(a,t.nodeIndex);return e||(e={instance:yi(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=lr(a),e=or(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,bi);return l!==bi||i===bi?l:s.root.ngModule.injector.get(r.token,i)}function wi(t,e,n){let r;if(n)r=Bn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!lr(r);)r=r.parent;return r}function Ei(t,e,n,r,i,s){if(32768&n.flags){const e=Bn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const e=je.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new $e(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function Si(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&Ti(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=Ci(t,o,e,r)),o=o.parent}}function Ci(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Ti(t,i,e.flags&n,r++),i+=e.childCount}return r}function Ti(t,e,n,r){const i=jn(t,e);if(!i)return;const s=i.instance;s&&($n.setCurrentNode(t,e),1048576&n&&Vn(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Vn(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const xi=new Dt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>te});class Ii extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof d&&t.add(o),o}}class ki{constructor(){this.dirty=!0,this._results=[],this.changes=new Ii,this.length=0}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[Ve()](){return this._results[Ve()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ai{}const Di=new Dt("Application Initializer"),Oi=(()=>(class{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Me(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}))(),Ni=new Dt("AppId");function Ri(){return`${Pi()}${Pi()}${Pi()}`}function Pi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mi=new Dt("Platform Initializer"),Li=new Dt("Platform ID"),Fi=new Dt("appBootstrapListener"),Vi=(()=>(class{log(t){console.log(t)}warn(t){console.warn(t)}}))();function Ui(){throw new Error("Runtime compiler is not loaded")}const Bi=Ui,ji=Ui,qi=Ui,zi=Ui,$i=(()=>(class{constructor(){this.compileModuleSync=Bi,this.compileModuleAsync=ji,this.compileModuleAndAllComponentsSync=qi,this.compileModuleAndAllComponentsAsync=zi}clearCache(){}clearCacheFor(t){}getModuleId(t){}}))();class Hi{}let Wi,Gi;function Ki(){const t=Ct.wtf;return!(!t||!(Wi=t.trace)||(Gi=Wi.events,0))}const Qi=Ki(),Yi=Qi?function(t,e=null){return Gi.createScope(t,e)}:(t,e)=>(function(t,e){return null}),Xi=Qi?function(t,e){return Wi.leaveScope(t,e),e}:(t,e)=>e,Zi=(()=>Promise.resolve(0))();function Ji(t){"undefined"==typeof Zone?Zi.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ts{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ii(!1),this.onMicrotaskEmpty=new Ii(!1),this.onStable=new Ii(!1),this.onError=new Ii(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,s,o)=>{try{return is(e),t.invokeTask(r,i,s,o)}finally{ss(e)}},onInvoke:(t,n,r,i,s,o,a)=>{try{return is(e),t.invoke(r,i,s,o,a)}finally{ss(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,rs(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ts.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ts.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,ns,es,es);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function es(){}const ns={};function rs(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function is(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ss(t){t._nesting--,rs(t)}class os{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ii,this.onMicrotaskEmpty=new Ii,this.onStable=new Ii,this.onError=new Ii}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}const as=(()=>(class{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ts.assertNotInAngularZone(),Ji(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ji(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}))(),ls=(()=>{class t{constructor(){this._applications=new Map,hs.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return hs.findTestabilityInTree(this,t,e)}}return t.ctorParameters=(()=>[]),t})();class us{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let cs,hs=new us,ds=function(t){return t instanceof Je};const ps=new Dt("AllowMultipleToken");class fs{constructor(t,e){this.name=t,this.token=e}}function ms(t,e,n=[]){const r=`Platform: ${e}`,i=new Dt(r);return(e=[])=>{let s=gs();if(!s||s.injector.get(ps,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(cs&&!cs.destroyed&&!cs.injector.get(ps,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cs=t.get(ys);const e=t.get(Mi,null);e&&e.forEach(t=>t())}(Mt.create({providers:t,name:r}))}return function(t){const e=gs();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function gs(){return cs&&!cs.destroyed?cs:null}const ys=(()=>(class{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new os:("zone.js"===i?void 0:i)||new ts({enableLongStackTrace:ae()}),r=[{provide:ts,useValue:n}];var i;return n.run(()=>{const e=Mt.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(ie,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>_s(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return Me(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Oi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=vs({},e);return function(t,e,n){return t.get(Hi).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(bs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${bt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function vs(t,e){return Array.isArray(e)?e.reduce(vs,t):Object.assign({},t,e)}const bs=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ae(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ts.assertNotInAngularZone(),Ji(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Z(o,a.pipe(ot()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ge?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=ds(n)?null:this._injector.get(tn),i=n.create(Mt.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(as,null);return s&&i.injector.get(ls).registerApplication(i.location.nativeElement,s),this._loadComponent(i),ae()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Xi(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;_s(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fi,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),_s(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Yi("ApplicationRef#tick()"),t})();function _s(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ws{}const Es={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ss=(()=>(class{constructor(t,e){this._compiler=t,this._config=e||Es}load(t){return this._compiler instanceof $i?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Cs(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Cs(t,e,r))}}))();function Cs(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Ts{constructor(t,e){this.name=t,this.callback=e}}class xs{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Is&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Is extends xs{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Is&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Is&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Is&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Is)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const ks=new Map,As=function(t){return ks.get(t)||null};function Ds(t){ks.set(t.nativeNode,t)}const Os=ms(null,"core",[{provide:Li,useValue:"unknown"},{provide:ys,deps:[Mt]},{provide:ls,deps:[]},{provide:Vi,deps:[]}]),Ns=new Dt("LocaleId");function Rs(){return kn}function Ps(){return An}function Ms(t){return t||"en-US"}function Ls(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}const Fs=(()=>(class{constructor(t){}}))();function Vs(t,e,n,r,i,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=hr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?mr(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Hn},provider:null,text:null,query:null,ngContent:null}}function Us(t,e,n,r,i,s,o=[],a,l,u,c,h){u||(u=Hn);const{matchedQueries:d,references:p,matchedQueryIds:f}=hr(n);let m=null,g=null;s&&([m,g]=Er(s)),a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=Er(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}y[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const v=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e]=l[_];v[_]={type:0,target:t,eventName:e,propName:null}}const b=(o=o||[]).map(([t,e])=>{const[n,r]=Er(t);return[n,r,e]});return h=function(t){if(t&&t.id===Qn){const e=null!=t.encapsulation&&t.encapsulation!==Jt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Zn++}`:Yn}return t&&t.id===Yn&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Sr(y),outputs:v,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Hn},provider:null,text:null,query:null,ngContent:null}}function Bs(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=pr(t,e,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Jt.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];s.setAttribute(o,e,n,t)}return o}function js(t,e,n,r){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=qs(t,n.nodeIndex,(s=a.eventName,(i=a.target)?`${i}:${s}`:s));let u=a.target,c=t;"component"===a.target&&(u=null,c=e);const h=c.renderer.listen(u||r,a.eventName,l);t.disposables[n.outputIndex+o]=h}var i,s}function qs(t,e,n){return r=>ir(t,e,n,r)}function zs(t,e,n,r){if(!tr(t,e,n,r))return!1;const i=e.bindings[n],s=Bn(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,o,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,a,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(Ae.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,a,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,r)}return!0}function $s(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:cr(e),bindings:r},ngContent:null}}function Hs(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&ur(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&zn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&zn(t,n).setDirty(),n+=e.childCount}}function Ws(t,e){const n=zn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Gs(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=jn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Gs(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function Gs(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(Ks(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Bn(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Gs(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=sr(s);o&&o===n&&Gs(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];Gs(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function Ks(t,e,n){if(null!=n)switch(n){case 1:return Bn(t,e.nodeIndex).renderElement;case 0:return new rn(Bn(t,e.nodeIndex).renderElement);case 2:return Bn(t,e.nodeIndex).template;case 3:return Bn(t,e.nodeIndex).viewContainer;case 4:return jn(t,e.nodeIndex).instance}}function Qs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ys(t,e,n){const r=pr(t,e,n);r&&vr(t,n.ngContent.index,1,r,null,void 0)}function Xs(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let s=0;s<r;s++){const t=n[s];i[e[t]]=t}return function(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Sr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,i)}function Zs(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Js(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=pr(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function to(t,e){return(null!=t?t.toString():"")+e.suffix}function eo(t,e,n,r){let i=0,s=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=i,t.outputIndex=s,t.renderParent=c,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(ro(u,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Gn(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Gn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,no(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&no(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Hn,updateRenderer:r||Hn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:p}}function no(t){return 0!=(1&t.flags)&&null===t.element.name}function ro(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function io(t,e,n,r){const i=ao(t.root,t.renderer,t,e,n);return lo(i,t.component,r),uo(i),i}function so(t,e,n){const r=ao(t,t.renderer,null,null,e);return lo(r,n,n),uo(r),r}function oo(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,ao(t.root,s,t,e.element.componentProvider,n)}function ao(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function lo(t,e,n){t.component=e,t.context=n}function uo(t){let e;lr(t)&&(e=Bn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch($n.setCurrentNode(t,i),201347067&s.flags){case 1:const n=Bs(t,e,s);let a=void 0;if(33554432&s.flags){const e=mr(s.element.componentView);a=$n.createComponentView(t,s,e,n)}js(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?Wr(t,s):void 0},16777216&s.flags&&(o.viewContainer=qr(t,s,o));break;case 2:o=Js(t,e,s);break;case 512:case 1024:case 2048:case 256:(o=r[i])||4096&s.flags||(o={instance:pi(t,s)});break;case 16:o={instance:fi(t,s)};break;case 16384:(o=r[i])||(o={instance:mi(t,s)}),32768&s.flags&&lo(Bn(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ki;break;case 8:Ys(t,e,s),o=void 0}r[i]=o}bo(t,vo.CreateViewNodes),So(t,201326592,268435456,0)}function co(t){fo(t),$n.updateDirectives(t,1),_o(t,vo.CheckNoChanges),$n.updateRenderer(t,1),bo(t,vo.CheckNoChanges),t.state&=-97}function ho(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Fn(t,0,256),fo(t),$n.updateDirectives(t,0),_o(t,vo.CheckAndUpdate),So(t,67108864,536870912,0);let e=Fn(t,256,512);Si(t,2097152|(e?1048576:0)),$n.updateRenderer(t,0),bo(t,vo.CheckAndUpdate),So(t,134217728,536870912,0),Si(t,8388608|((e=Fn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Fn(t,768,1024)}function po(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&zs(t,e,0,n)&&(p=!0),d>1&&zs(t,e,1,r)&&(p=!0),d>2&&zs(t,e,2,i)&&(p=!0),d>3&&zs(t,e,3,s)&&(p=!0),d>4&&zs(t,e,4,o)&&(p=!0),d>5&&zs(t,e,5,a)&&(p=!0),d>6&&zs(t,e,6,l)&&(p=!0),d>7&&zs(t,e,7,u)&&(p=!0),d>8&&zs(t,e,8,c)&&(p=!0),d>9&&zs(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,s,o,a,l,u,c,h);case 2:return function(t,e,n,r,i,s,o,a,l,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&tr(t,e,0,n)&&(d=!0),f>1&&tr(t,e,1,r)&&(d=!0),f>2&&tr(t,e,2,i)&&(d=!0),f>3&&tr(t,e,3,s)&&(d=!0),f>4&&tr(t,e,4,o)&&(d=!0),f>5&&tr(t,e,5,a)&&(d=!0),f>6&&tr(t,e,6,l)&&(d=!0),f>7&&tr(t,e,7,u)&&(d=!0),f>8&&tr(t,e,8,c)&&(d=!0),f>9&&tr(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=to(n,p[0])),f>1&&(d+=to(r,p[1])),f>2&&(d+=to(i,p[2])),f>3&&(d+=to(s,p[3])),f>4&&(d+=to(o,p[4])),f>5&&(d+=to(a,p[5])),f>6&&(d+=to(l,p[6])),f>7&&(d+=to(u,p[7])),f>8&&(d+=to(c,p[8])),f>9&&(d+=to(h,p[9]));const m=Un(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,r,i,s,o,a,l,u,c,h);case 16384:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=jn(t,e.nodeIndex),p=d.instance;let f=!1,m=void 0;const g=e.bindings.length;return g>0&&Jn(t,e,0,n)&&(f=!0,m=Ei(t,d,e,0,n,m)),g>1&&Jn(t,e,1,r)&&(f=!0,m=Ei(t,d,e,1,r,m)),g>2&&Jn(t,e,2,i)&&(f=!0,m=Ei(t,d,e,2,i,m)),g>3&&Jn(t,e,3,s)&&(f=!0,m=Ei(t,d,e,3,s,m)),g>4&&Jn(t,e,4,o)&&(f=!0,m=Ei(t,d,e,4,o,m)),g>5&&Jn(t,e,5,a)&&(f=!0,m=Ei(t,d,e,5,a,m)),g>6&&Jn(t,e,6,l)&&(f=!0,m=Ei(t,d,e,6,l,m)),g>7&&Jn(t,e,7,u)&&(f=!0,m=Ei(t,d,e,7,u,m)),g>8&&Jn(t,e,8,c)&&(f=!0,m=Ei(t,d,e,8,c,m)),g>9&&Jn(t,e,9,h)&&(f=!0,m=Ei(t,d,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&Vn(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,i,s,o,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&tr(t,e,0,n)&&(p=!0),f>1&&tr(t,e,1,r)&&(p=!0),f>2&&tr(t,e,2,i)&&(p=!0),f>3&&tr(t,e,3,s)&&(p=!0),f>4&&tr(t,e,4,o)&&(p=!0),f>5&&tr(t,e,5,a)&&(p=!0),f>6&&tr(t,e,6,l)&&(p=!0),f>7&&tr(t,e,7,u)&&(p=!0),f>8&&tr(t,e,8,c)&&(p=!0),f>9&&tr(t,e,9,h)&&(p=!0),p){const p=qn(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=r),f>2&&(m[2]=i),f>3&&(m[3]=s),f>4&&(m[4]=o),f>5&&(m[5]=a),f>6&&(m[6]=l),f>7&&(m[7]=u),f>8&&(m[8]=c),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=r),f>2&&(m[d[2].name]=i),f>3&&(m[d[3].name]=s),f>4&&(m[d[4].name]=o),f>5&&(m[d[5].name]=a),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,s);break;case 5:m=t.transform(r,i,s,o);break;case 6:m=t.transform(r,i,s,o,a);break;case 7:m=t.transform(r,i,s,o,a,l);break;case 8:m=t.transform(r,i,s,o,a,l,u);break;case 9:m=t.transform(r,i,s,o,a,l,u,c);break;case 10:m=t.transform(r,i,s,o,a,l,u,c,h)}}p.value=m}return p}(t,e,n,r,i,s,o,a,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)zs(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)tr(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=to(n[t],r[t]);i=e.text.prefix+i;const s=Un(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=jn(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)Jn(t,e,a,n[a])&&(s=!0,o=Ei(t,r,e,a,n[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&Vn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)tr(t,e,s,n[s])&&(i=!0);if(i){const i=qn(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let e=0;e<n.length;e++)s[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);s=t.transform(...i)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function fo(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Bn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,rr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function mo(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;d>0&&er(t,e,0,n),d>1&&er(t,e,1,r),d>2&&er(t,e,2,i),d>3&&er(t,e,3,s),d>4&&er(t,e,4,o),d>5&&er(t,e,5,a),d>6&&er(t,e,6,l),d>7&&er(t,e,7,u),d>8&&er(t,e,8,c),d>9&&er(t,e,9,h)}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)er(t,e,r,n[r])}(t,e,r),!1}function go(t,e){if(zn(t,e.nodeIndex).dirty)throw Pn($n.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function yo(t){if(!(128&t.state)){if(_o(t,vo.Destroy),bo(t,vo.Destroy),Si(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=sr(t);if(e){const n=e.template._projectedViews;n&&(Fr(n,n.indexOf(t)),$n.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Bn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Un(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&zn(t,n).destroy()}}(t),lr(t)&&t.renderer.destroy(),t.state|=128}}const vo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function bo(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?wo(Bn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function _o(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Bn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)wo(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function wo(t,e){const n=t.state;switch(e){case vo.CheckNoChanges:0==(128&n)&&(12==(12&n)?co(t):64&n&&Eo(t,vo.CheckNoChangesProjectedViews));break;case vo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?co(t):64&n&&Eo(t,e));break;case vo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ho(t):64&n&&Eo(t,vo.CheckAndUpdateProjectedViews));break;case vo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ho(t):64&n&&Eo(t,e));break;case vo.Destroy:yo(t);break;case vo.CreateViewNodes:uo(t)}}function Eo(t,e){_o(t,e),bo(t,e)}function So(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch($n.setCurrentNode(t,i.nodeIndex),r){case 0:Ws(t,i);break;case 1:go(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}let Co=!1;function To(t,e,n,r,i,s){const o=i.injector.get(an);return so(Io(t,i,o,e,n),r,s)}function xo(t,e,n,r,i,s){const o=i.injector.get(an),a=Io(t,i,new sa(o),e,n),l=Fo(r);return ra(zo.create,so,null,[a,l,s])}function Io(t,e,n,r,i){const s=e.injector.get(De),o=e.injector.get(ie),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function ko(t,e,n,r){const i=Fo(n);return ra(zo.create,io,null,[t,e,i,r])}function Ao(t,e,n,r){return n=Ro.get(e.element.componentProvider.provider.token)||Fo(n),ra(zo.create,oo,null,[t,e,n,r])}function Do(t,e,n,r){return Jr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Oo.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Oo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{No.forEach((r,i)=>{yt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Oo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=dr(i.deps),r.value=i.value)}if(No.size>0){let e=new Set(t.modules);No.forEach((r,i)=>{if(e.has(yt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:dr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Gn(i)]=e}})}}(t=t.factory(()=>Hn)),t):t}(r))}const Oo=new Map,No=new Map,Ro=new Map;function Po(t){let e;Oo.set(t.token,t),"function"==typeof t.token&&(e=yt(t.token))&&"function"==typeof e.providedIn&&No.set(t.token,t)}function Mo(t,e){const n=mr(e.viewDefFactory),r=mr(n.nodes[0].element.componentView);Ro.set(t,r)}function Lo(){Oo.clear(),No.clear(),Ro.clear()}function Fo(t){if(0===Oo.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Oo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Hn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Oo.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=dr(n.deps),t.value=n.value)}}}}function Vo(t,e,n,r,i,s,o,a,l,u,c,h,d){const p=t.def.nodes[e];return po(t,p,n,r,i,s,o,a,l,u,c,h,d),224&p.flags?qn(t,e).value:void 0}function Uo(t,e,n,r,i,s,o,a,l,u,c,h,d){const p=t.def.nodes[e];return mo(t,p,n,r,i,s,o,a,l,u,c,h,d),224&p.flags?qn(t,e).value:void 0}function Bo(t){return ra(zo.detectChanges,ho,null,[t])}function jo(t){return ra(zo.checkNoChanges,co,null,[t])}function qo(t){return ra(zo.destroy,yo,null,[t])}const zo=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let $o,Ho,Wo;function Go(t,e){Ho=t,Wo=e}function Ko(t,e,n,r){return Go(t,e),ra(zo.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Qo(t,e){if(128&t.state)throw Ln(zo[$o]);return Go(t,Jo(t,0)),t.def.updateDirectives(function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?Xo(t,s,r,i):Zo(t,s,r,i),16384&s.flags&&Go(t,Jo(t,n)),224&s.flags?qn(t,s.nodeIndex).value:void 0},t)}function Yo(t,e){if(128&t.state)throw Ln(zo[$o]);return Go(t,ta(t,0)),t.def.updateRenderer(function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?Xo(t,s,r,i):Zo(t,s,r,i),3&s.flags&&Go(t,ta(t,n)),224&s.flags?qn(t,s.nodeIndex).value:void 0},t)}function Xo(t,e,n,r){if(po(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],a=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,s=void 0,s=i.replace(/[$@]/g,"_"),`ng-reflect-${i=s.replace(Re,(...t)=>"-"+t[1].toLowerCase())}`)]=Pe(a))}const r=e.parent,a=Bn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(a,e,r):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,s}function Zo(t,e,n,r){mo(t,e,n,...r)}function Jo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function ta(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class ea{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=or(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Bn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Kr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){na(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&na(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!lr(t);)t=t.parent;return t.parent?Bn(t.parent,or(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?ar(this.view,this.nodeDef):ar(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>++s===i?t.error.bind(t,...e):Hn),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function na(t,e,n){for(let r in e.references)n[r]=Ks(t,e,e.references[r])}function ra(t,e,n,r){const i=$o,s=Ho,o=Wo;try{$o=t;const l=e.apply(n,r);return Ho=s,Wo=o,$o=i,l}catch(a){if(ee(a)||!Ho)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Mn(t,e),t}(a,ia())}}function ia(){return Ho?new ea(Ho,Wo):null}class sa{constructor(t){this.delegate=t}createRenderer(t,e){return new oa(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class oa{constructor(t){this.delegate=t,this.debugContextFactory=ia,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){ks.delete(t.nativeNode)}(As(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Is(n,null,r);e.name=t,Ds(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Ds(new xs(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Ds(new xs(e,null,n)),e}appendChild(t,e){const n=As(t),r=As(e);n&&r&&n instanceof Is&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=As(t),i=As(e),s=As(n);r&&i&&r instanceof Is&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=As(t),r=As(e);n&&r&&n instanceof Is&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=ia();return r&&Ds(new Is(n,null,r)),n}setAttribute(t,e,n,r){const i=As(t);i&&i instanceof Is&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=As(t);r&&r instanceof Is&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=As(t);n&&n instanceof Is&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=As(t);n&&n instanceof Is&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=As(t);i&&i instanceof Is&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=As(t);r&&r instanceof Is&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=As(t);r&&r instanceof Is&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=As(t);r&&r.listeners.push(new Ts(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function aa(t,e,n){return new la(t,e,n)}class la extends en{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Co)return;Co=!0;const t=ae()?{setCurrentNode:Go,createRootView:xo,createEmbeddedView:ko,createComponentView:Ao,createNgModuleRef:Do,overrideProvider:Po,overrideComponentView:Mo,clearOverrides:Lo,checkAndUpdateView:Bo,checkNoChangesView:jo,destroyView:qo,createDebugContext:(t,e)=>new ea(t,e),handleEvent:Ko,updateDirectives:Qo,updateRenderer:Yo}:{setCurrentNode:()=>{},createRootView:To,createEmbeddedView:io,createComponentView:oo,createNgModuleRef:Jr,overrideProvider:Hn,overrideComponentView:Hn,clearOverrides:Hn,checkAndUpdateView:ho,checkNoChangesView:co,destroyView:yo,createDebugContext:(t,e)=>new ea(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Vo:Uo,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Vo:Uo,t)};$n.setCurrentNode=t.setCurrentNode,$n.createRootView=t.createRootView,$n.createEmbeddedView=t.createEmbeddedView,$n.createComponentView=t.createComponentView,$n.createNgModuleRef=t.createNgModuleRef,$n.overrideProvider=t.overrideProvider,$n.overrideComponentView=t.overrideComponentView,$n.clearOverrides=t.clearOverrides,$n.checkAndUpdateView=t.checkAndUpdateView,$n.checkNoChangesView=t.checkNoChangesView,$n.destroyView=t.destroyView,$n.resolveDep=_i,$n.createDebugContext=t.createDebugContext,$n.handleEvent=t.handleEvent,$n.updateDirectives=t.updateDirectives,$n.updateRenderer=t.updateRenderer,$n.dirtyParentQueries=Hs}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(mr(this._ngModuleDefFactory));return $n.createNgModuleRef(this.moduleType,t||Mt.NULL,this._bootstrapComponents,e)}}class ua{}class ca{constructor(){this.title="HashMap"}}class ha{}const da=new Dt("Location Initialized");class pa{}const fa=new Dt("appBaseHref"),ma=(()=>{class t{constructor(e,n){this._subject=new Ii,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(ga(r)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+t.normalizeQueryParams(n))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ga(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(e,n="",r=null){this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}replaceState(e,n="",r=null){this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}return t})();function ga(t){return t.replace(/\/index.html$/,"")}const ya=(()=>(class extends pa{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ma.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+ma.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+ma.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),va=(()=>(class extends pa{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ma.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+ma.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+ma.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+ma.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))();var ba=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const _a={},wa=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Ea=new Dt("UseV4Plurals");class Sa{}const Ca=(()=>(class extends Sa{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=_a[e];if(n)return n;const r=e.split("-")[0];if(n=_a[r])return n;if("en"===r)return ba;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[18]}(e||this.locale)(t)){case wa.Zero:return"zero";case wa.One:return"one";case wa.Two:return"two";case wa.Few:return"few";case wa.Many:return"many";default:return"other"}}}))();function Ta(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class xa{}const Ia=(()=>(class{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(qe(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${bt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}))(),ka=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})(),Aa=(()=>(class extends ka{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}))();class Da{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}const Oa=(()=>(class{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){ae()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Da(null,this._ngForOf,-1,-1),r),i=new Na(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Na(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}))();class Na{constructor(t,e){this.record=t,this.view=e}}const Ra=(()=>(class{constructor(t,e){this._viewContainer=t,this._context=new Pa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ma("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ma("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateGuard_ngIf(t,e){return!0}}))();class Pa{constructor(){this.$implicit=null,this.ngIf=null}}function Ma(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${bt(e)}'.`)}class La{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}const Fa=(()=>(class{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}))(),Va=(()=>(class{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new La(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}))();class Ua{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ba{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const ja=new Ba,qa=new Ua,za=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Ue(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,je.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Me(e))return ja;if(Le(e))return qa;throw Error(`InvalidPipeArgument: '${e}' for pipe '${bt(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t})(),$a=(()=>(class{}))(),Ha=new Dt("DocumentToken"),Wa="browser",Ga="server";function Ka(t){return t===Ga}const Qa=(()=>{class t{}return t.ngInjectableDef=mt({providedIn:"root",factory:()=>new Ya(kt(Ha),window,kt(ie))}),t})();class Ya{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=(()=>[0,0])}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${t}']`);if(r)return void this.scrollToElement(r)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const Xa=new w(t=>t.complete());function Za(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Xa}function Ja(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function tl(...t){let e=t[t.length-1];switch(A(e)?t.pop():e=void 0,t.length){case 0:return Za(e);case 1:return e?H(t,e):Ja(t[0]);default:return H(t,e)}}class el extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}function nl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}nl.prototype=Object.create(Error.prototype);const rl=nl,il={};class sl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ol(t,this.resultSelector))}}class ol extends j{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(il),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(B(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===il?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function al(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?W(n):Za()).subscribe(e)})}function ll(){return X(1)}function ul(t,e){return function(n){return n.lift(new cl(t,e))}}class cl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new hl(t,this.predicate,this.thisArg))}}class hl extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function dl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}dl.prototype=Object.create(Error.prototype);const pl=dl;function fl(t){return function(e){return 0===t?Za():e.lift(new ml(t))}}class ml{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new gl(t,this.total))}}class gl extends m{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function yl(t,e,n){return function(r){return r.lift(new vl(t,e,n))}}class vl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new bl(t,this.nextOrObserver,this.error,this.complete))}}class bl extends m{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const _l=(t=function(){return new rl})=>yl({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function wl(t=null){return e=>e.lift(new El(t))}class El{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Sl(t,this.defaultValue))}}class Sl extends m{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Cl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ul((e,n)=>t(e,n,r)):Y,fl(1),n?wl(e):_l(()=>new rl))}function Tl(t){return function(e){const n=new xl(t),r=e.lift(n);return n.caught=r}}class xl{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Il(t,this.selector,this.caught))}}class Il extends j{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new D(this,void 0,void 0);this.add(r),B(this,n,void 0,void 0,r)}}}function kl(t){return e=>0===t?Za():e.lift(new Al(t))}class Al{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new Dl(t,this.total))}}class Dl extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ol(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ul((e,n)=>t(e,n,r)):Y,kl(1),n?wl(e):_l(()=>new rl))}class Nl{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Rl(t,this.predicate,this.thisArg,this.source))}}class Rl extends m{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Pl(t,e){return"function"==typeof e?n=>n.pipe(Pl((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ml(t))}class Ml{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ll(t,this.project))}}class Ll extends j{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new D(this,void 0,void 0);this.destination.add(i),this.innerSubscription=B(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Fl(...t){return e=>{let n=t[t.length-1];A(n)?t.pop():n=null;const r=t.length;return function(...t){return ll()(tl(...t))}(1!==r||n?r>0?H(t,n):Za(n):Ja(t[0]),e)}}function Vl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ul(t,e,n))}}class Ul{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Bl(t,this.accumulator,this.seed,this.hasSeed))}}class Bl extends m{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function jl(t,e){return G(t,e,1)}function ql(t){return e=>e.lift(new zl(t))}class zl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $l(t,this.callback))}}class $l extends m{constructor(t,e){super(t),this.add(new d(e))}}let Hl=null;function Wl(){return Hl}class Gl{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Kl extends Gl{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Ql={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Yl=3,Xl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jl=(()=>{if(Ct.Node)return Ct.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class tu extends Kl{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new tu,Hl||(Hl=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Ql}contains(t,e){return Jl.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Yl&&Zl.hasOwnProperty(e)&&(e=Zl[e]))}return Xl[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=nu||(nu=document.querySelector("base"))?nu.getAttribute("href"):null;return null==e?null:(n=e,eu||(eu=document.createElement("a")),eu.setAttribute("href",n),"/"===eu.pathname.charAt(0)?eu.pathname:"/"+eu.pathname);var n}resetBaseElement(){nu=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Ta(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let eu,nu=null;function ru(){return!!window.history.pushState}const iu=(()=>{class t extends ha{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Wl().getLocation(),this._history=Wl().getHistory()}getBaseHrefFromDOM(){return Wl().getBaseHref(this._doc)}onPopState(t){Wl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Wl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){ru()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){ru()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=(()=>[{type:void 0,decorators:[{type:ut,args:[Ha]}]}]),t})(),su=new Dt("TRANSITION_ID"),ou=[{provide:Di,useFactory:function(t,e,n){return()=>{n.get(Oi).donePromise.then(()=>{const n=Wl();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[su,Ha,Mt],multi:!0}];class au{static init(){var t;t=new au,hs=t}addToWindow(t){Ct.getAngularTestability=((e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r}),Ct.getAllAngularTestabilities=(()=>t.getAllTestabilities()),Ct.getAllAngularRootElements=(()=>t.getAllRootElements()),Ct.frameworkStabilizers||(Ct.frameworkStabilizers=[]),Ct.frameworkStabilizers.push(t=>{const e=Ct.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Wl().isShadowRoot(e)?this.findTestabilityInTree(t,Wl().getHost(e),!0):this.findTestabilityInTree(t,Wl().parentElement(e),!0):null}}function lu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Ct.ng=Ct.ng||{})[t]=e)}const uu=(()=>({ApplicationRef:bs,NgZone:ts}))();function cu(t){return As(t)}const hu=new Dt("EventManagerPlugins"),du=(()=>(class{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}))();class pu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Wl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}const fu=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}))(),mu=(()=>(class extends fu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Wl().remove(t))}}))(),gu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yu=/%COMP%/g,vu="_nghost-%COMP%",bu="_ngcontent-%COMP%";function _u(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_u(t,i,n):(i=i.replace(yu,t),n.push(i))}return n}function wu(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}const Eu=(()=>(class{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Su(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Jt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new xu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Jt.Native:case Jt.ShadowDom:return new Iu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=_u(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class Su{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=`${r}:${e}`;const i=gu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=gu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ln.DashCase?t.style.setProperty(e,n,r&ln.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ln.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Tu(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Tu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,wu(n)):this.eventManager.addEventListener(t,e,wu(n))}}const Cu=(()=>"@".charCodeAt(0))();function Tu(t,e){if(t.charCodeAt(0)===Cu)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class xu extends Su{constructor(t,e,n,r){super(t),this.component=n;const i=_u(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=bu.replace(yu,r+"-"+n.id),this.hostAttr=vu.replace(yu,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Iu extends Su{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Jt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=_u(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const ku=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Au=ku("addEventListener"),Du=ku("removeEventListener"),Ou={},Nu="__zone_symbol__propagationStopped",Ru=(()=>{const t="undefined"!=typeof Zone&&Zone[ku("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Pu=function(t){return!!Ru&&Ru.hasOwnProperty(t)},Mu=function(t){const e=Ou[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Nu];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}},Lu=(()=>(class extends pu{constructor(t,e,n){super(t),this.ngZone=e,n&&Ka(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Nu]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Au]||ts.isInAngularZone()&&!Pu(e))t.addEventListener(e,r,!1);else{let n=Ou[e];n||(n=Ou[e]=ku("ANGULAR"+e+"FALSE"));let i=t[n];const s=i&&i.length>0;i||(i=t[n]=[]);const o=Pu(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:o,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:o,handler:r})}s||t[Au](e,Mu,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Du];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=Ou[e],s=i&&t[i];if(!s)return t.removeEventListener.apply(t,[e,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(t,[e,Mu,!1]):t.removeEventListener.apply(t,[e,n,!1])}}))(),Fu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Vu=new Dt("HammerGestureConfig"),Uu=new Dt("HammerLoader"),Bu=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}))(),ju=(()=>(class extends pu{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Fu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=(()=>{}));r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=(()=>{})}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded(function(){n(t)})};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}))(),qu=["alt","control","meta","shift"],zu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$u=(()=>{class t extends pu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wl().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(qu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=Wl().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),qu.forEach(r=>{r!=n&&(0,zu[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t})();class Hu{}const Wu=(()=>(class extends Hu{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ae.NONE:return e;case Ae.HTML:return e instanceof Ku?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Ie=Ie||new le(t);let r=e?String(e):"";n=Ie.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Ie.getInertBodyElement(r)}while(r!==s);const o=new Se,a=o.sanitizeChildren(ke(n)||n);return ae()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ke(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Ae.STYLE:return e instanceof Qu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ne);return e&&he(e[1])===e[1]||t.match(Oe)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(ae()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Ae.SCRIPT:if(e instanceof Yu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ae.URL:return e instanceof Zu||e instanceof Xu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),he(String(e)));case Ae.RESOURCE_URL:if(e instanceof Zu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Gu)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Ku(t)}bypassSecurityTrustStyle(t){return new Qu(t)}bypassSecurityTrustScript(t){return new Yu(t)}bypassSecurityTrustUrl(t){return new Xu(t)}bypassSecurityTrustResourceUrl(t){return new Zu(t)}}))();class Gu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Ku extends Gu{getTypeName(){return"HTML"}}class Qu extends Gu{getTypeName(){return"Style"}}class Yu extends Gu{getTypeName(){return"Script"}}class Xu extends Gu{getTypeName(){return"URL"}}class Zu extends Gu{getTypeName(){return"ResourceURL"}}const Ju=ms(Os,"browser",[{provide:Li,useValue:Wa},{provide:Mi,useValue:function(){tu.makeCurrent(),au.init()},multi:!0},{provide:ha,useClass:iu,deps:[Ha]},{provide:Ha,useFactory:function(){return document},deps:[]}]);function tc(){return new ie}const ec=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ni,useValue:e.appId},{provide:su,useExisting:Ni},ou]}}}return t})();"undefined"!=typeof window&&window;class nc{constructor(t,e){this.id=t,this.url=e}}class rc extends nc{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ic extends nc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sc extends nc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oc extends nc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ac extends nc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lc extends nc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uc extends nc{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cc extends nc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc extends nc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bc=(()=>(class{}))(),_c="primary";class wc{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ec(t){return new wc(t)}const Sc="ngNavigationCancelingError";function Cc(t){const e=Error("NavigationCancelingError: "+t);return e[Sc]=!0,e}function Tc(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class xc{constructor(t,e){this.routes=t,this.module=e}}function Ic(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];kc(r,Ac(e,r))}}function kc(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==_c)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ic(t.children,e)}function Ac(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Dc(t){const e=t.children&&t.children.map(Dc),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_c&&(n.component=bc),n}function Oc(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(t[i=n[s]]!==e[i])return!1;return!0}function Nc(t){return Array.prototype.concat.apply([],t)}function Rc(t){return t.length>0?t[t.length-1]:null}function Pc(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Mc(t){return Le(t)?t:Me(t)?W(Promise.resolve(t)):tl(t)}function Lc(t,e,n){return n?function(t,e){return Oc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Bc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length){return!!Bc(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!Bc(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Bc(n.segments,t)&&!!n.children[_c]&&e(n.children[_c],r,s)}}(e,n,n.segments)}(t.root,e.root)}class Fc{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ec(this.queryParams)),this._queryParamMap}toString(){return $c.serialize(this)}}class Vc{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Pc(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hc(this)}}class Uc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ec(this.parameters)),this._parameterMap}toString(){return Xc(this)}}function Bc(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function jc(t,e){let n=[];return Pc(t.children,(t,r)=>{r===_c&&(n=n.concat(e(t,r)))}),Pc(t.children,(t,r)=>{r!==_c&&(n=n.concat(e(t,r)))}),n}class qc{}class zc{parse(t){const e=new nh(t);return new Fc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Hc(e);if(n){const n=e.children[_c]?t(e.children[_c],!1):"",r=[];return Pc(e.children,(e,n)=>{n!==_c&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=jc(e,(n,r)=>r===_c?[t(e.children[_c],!1)]:[`${r}:${t(n,!1)}`]);return`${Hc(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Gc(e)}=${Gc(t)}`).join("&"):`${Gc(e)}=${Gc(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const $c=new zc;function Hc(t){return t.segments.map(t=>Xc(t)).join("/")}function Wc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gc(t){return Wc(t).replace(/%3B/gi,";")}function Kc(t){return Wc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qc(t){return decodeURIComponent(t)}function Yc(t){return Qc(t.replace(/\+/g,"%20"))}function Xc(t){return`${Kc(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Kc(t)}=${Kc(e[t])}`).join("")}`;var e}const Zc=/^[^\/()?;=#]+/;function Jc(t){const e=t.match(Zc);return e?e[0]:""}const th=/^[^=?&#]+/,eh=/^[^?&#]+/;class nh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vc([],{}):new Vc([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[_c]=new Vc(t,e)),n}parseSegment(){const t=Jc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Uc(Qc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Jc(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Jc(this.remaining);t&&this.capture(n=t)}t[Qc(e)]=Qc(n)}parseQueryParam(t){const e=function(t){const e=t.match(th);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(eh);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=Yc(e),i=Yc(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Jc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=_c);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[_c]:new Vc([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class rh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ih(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ih(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return sh(t,this._root).map(t=>t.value)}}function ih(t,e){if(t===e.value)return e;for(const n of e.children){const e=ih(t,n);if(e)return e}return null}function sh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=sh(t,n);if(r.length)return r.unshift(e),r}return[]}class oh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ah(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class lh extends rh{constructor(t,e){super(t),this.snapshot=e,fh(this,t)}toString(){return this.snapshot.toString()}}function uh(t,e){const n=function(t,e){const n=new dh([],{},{},"",{},_c,e,null,t.root,-1,{});return new ph("",new oh(n,[]))}(t,e),r=new el([new Uc("",{})]),i=new el({}),s=new el({}),o=new el({}),a=new el(""),l=new ch(r,i,o,a,s,_c,e,n.root);return l.snapshot=n.root,new lh(new oh(l,[]),n)}class ch{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(t=>Ec(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(t=>Ec(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class dh{constructor(t,e,n,r,i,s,o,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ec(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ec(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ph extends rh{constructor(t,e){super(e),this.url=t,fh(this,e)}toString(){return mh(this._root)}}function fh(t,e){e.value._routerState=t,e.children.forEach(e=>fh(t,e))}function mh(t){const e=t.children.length>0?` { ${t.children.map(mh).join(", ")} } `:"";return`${t.value}${e}`}function gh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Oc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Oc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Oc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Oc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function yh(t,e){var n,r;return Oc(t.params,e.params)&&Bc(n=t.url,r=e.url)&&n.every((t,e)=>Oc(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||yh(t.parent,e.parent))}function vh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bh(t,e,n,r,i){let s={};return r&&Pc(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Fc(n.root===t?e:function t(e,n,r){const i={};return Pc(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Vc(e.segments,i)}(n.root,t,e),s,i)}class _h{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&vh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Rc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Eh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[_c]:`${t}`}function Sh(t,e,n){if(t||(t=new Vc([],{})),0===t.segments.length&&t.hasChildren())return Ch(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Eh(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!kh(o,a,e))return s;r+=2}else{if(!kh(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Vc(t.segments.slice(0,r.pathIndex),{});return e.children[_c]=new Vc(t.segments.slice(r.pathIndex),t.children),Ch(e,0,i)}return r.match&&0===i.length?new Vc(t.segments,{}):r.match&&!t.hasChildren()?Th(t,e,n):r.match?Ch(t,0,i):Th(t,e,n)}function Ch(t,e,n){if(0===n.length)return new Vc(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[_c]:t}:void 0===t[0].outlets?{[_c]:t}:t[0].outlets}(n),i={};return Pc(r,(n,r)=>{null!==n&&(i[r]=Sh(t.children[r],e,n))}),Pc(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Vc(t.segments,i)}}function Th(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=xh(n[i].outlets);return new Vc(r,t)}if(0===i&&vh(n[0])){r.push(new Uc(t.segments[e].path,n[0])),i++;continue}const s=Eh(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&vh(o)?(r.push(new Uc(s,Ih(o))),i+=2):(r.push(new Uc(s,{})),i++)}return new Vc(r,{})}function xh(t){const e={};return Pc(t,(t,n)=>{null!==t&&(e[n]=Th(new Vc([],{}),0,t))}),e}function Ih(t){const e={};return Pc(t,(t,n)=>e[n]=`${t}`),e}function kh(t,e,n){return t==n.path&&Oc(e,n.parameters)}const Ah=(t,e,n)=>q(r=>(new Dh(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Dh{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),gh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ah(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Pc(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=ah(t),i=t.value.component?n.children:e;Pc(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=ah(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new yc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new mc(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(gh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Oh(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Oh(t){gh(t.value),t.children.forEach(Oh)}function Nh(t){return"function"==typeof t}function Rh(t){return t instanceof Fc}class Ph{constructor(t){this.segmentGroup=t||null}}class Mh{constructor(t){this.urlTree=t}}function Lh(t){return new w(e=>e.error(new Ph(t)))}function Fh(t){return new w(e=>e.error(new Mh(t)))}function Vh(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Uh{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(tn)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,_c).pipe(q(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tl(t=>{if(t instanceof Mh)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ph)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_c).pipe(q(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Tl(t=>{if(t instanceof Ph)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Vc([],{[_c]:t}):t;return new Fc(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(q(t=>new Vc([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return tl({});const n=[],r=[],i={};return Pc(t,(t,s)=>{const o=e(s,t).pipe(q(t=>i[s]=t));s===_c?n.push(o):r.push(o)}),tl.apply(null,n.concat(r)).pipe(ll(),Cl(),q(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return tl(...n).pipe(q(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Tl(t=>{if(t instanceof Ph)return tl(null);throw t}))),ll(),Ol(t=>!!t),Tl((t,n)=>{if(t instanceof rl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return tl(new Vc([],{}));throw new Ph(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return zh(r)!==s?Lh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Lh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fh(i):this.lineralizeSegments(n,i).pipe(G(n=>{const i=new Vc(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Bh(e,r,i);if(!o)return Lh(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Fh(c):this.lineralizeSegments(r,c).pipe(G(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(q(t=>(n._loadedConfig=t,new Vc(r,{})))):tl(new Vc(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Bh(e,n,r);if(!i)return Lh(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(G(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>qh(t,e,n)&&zh(n)!==_c)}(t,n)?{segmentGroup:jh(new Vc(e,function(t,e){const n={};n[_c]=e;for(const r of t)""===r.path&&zh(r)!==_c&&(n[zh(r)]=new Vc([],{}));return n}(r,new Vc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>qh(t,e,n))}(t,n)?{segmentGroup:jh(new Vc(t.segments,function(t,e,n,r){const i={};for(const s of n)qh(t,e,s)&&!r[zh(s)]&&(i[zh(s)]=new Vc([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(q(t=>new Vc(s,t))):0===r.length&&0===o.length?tl(new Vc(s,{})):this.expandSegment(n,i,r,o,_c,!0).pipe(q(t=>new Vc(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?tl(new xc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?tl(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?W(r).pipe(q(r=>{const i=t.get(r);let s;if(function(t){return t&&Nh(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Nh(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Mc(s)})).pipe(ll(),(i=(t=>!0===t),t=>t.lift(new Nl(i,void 0,t)))):tl(!0);var i}(t.injector,e,n).pipe(G(n=>n?this.configLoader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Cc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):tl(new xc([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return tl(n);if(r.numberOfChildren>1||!r.children[_c])return Vh(t.redirectTo);r=r.children[_c]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Fc(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Pc(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Pc(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Vc(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Bh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Tc)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function jh(t){if(1===t.numberOfChildren&&t.children[_c]){const e=t.children[_c];return new Vc(t.segments.concat(e.segments),e.children)}return t}function qh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function zh(t){return t.outlet||_c}class $h{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hh{constructor(t,e){this.component=t,this.route=e}}function Wh(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=ah(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bc(t.url,e.url)||!Oc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yh(t,e)||!Oc(t.queryParams,e.queryParams);case"paramsChange":default:return!yh(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);if(u?s.canActivateChecks.push(new $h(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:r,i,s),u){s.canDeactivateChecks.push(new Hh(l&&l.outlet&&l.outlet.component||null,a))}}else a&&Kh(n,l,s),s.canActivateChecks.push(new $h(i)),t(e,null,o.component?l?l.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Pc(o,(t,e)=>Kh(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Gh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Kh(t,e,n){const r=ah(t),i=t.value;Pc(r,(t,r)=>{Kh(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Hh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Qh=Symbol("INITIAL_VALUE");function Yh(){return Pl(t=>(function(...t){let e=null,n=null;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),H(t,n).lift(new sl(e))})(...t.map(t=>t.pipe(kl(1),Fl(Qh)))).pipe(Vl((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Qh)return t;if(r===Qh&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Rh(r))return r}return t},t)},Qh),ul(t=>t!==Qh),q(t=>Rh(t)?t:!0===t),kl(1)))}function Xh(t,e){return null!==t&&e&&e(new gc(t)),tl(!0)}function Zh(t,e){return null!==t&&e&&e(new fc(t)),tl(!0)}function Jh(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?tl(r.map(r=>al(()=>{const i=Gh(r,e,n);let s;if(function(t){return t&&Nh(t.canActivate)}(i))s=Mc(i.canActivate(e,t));else{if(!Nh(i))throw new Error("Invalid CanActivate guard");s=Mc(i(e,t))}return s.pipe(Ol())}))).pipe(Yh()):tl(!0)}function td(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>al(()=>tl(e.guards.map(i=>{const s=Gh(i,e.node,n);let o;if(function(t){return t&&Nh(t.canActivateChild)}(s))o=Mc(s.canActivateChild(r,t));else{if(!Nh(s))throw new Error("Invalid CanActivateChild guard");o=Mc(s(r,t))}return o.pipe(Ol())})).pipe(Yh())));return tl(i).pipe(Yh())}class ed{}class nd{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const e=sd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,_c),r=new dh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_c,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new oh(r,n),s=new ph(this.url,i);return this.inheritParamsAndData(s._root),tl(s)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=hh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=jc(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===_c?-1:e.value.outlet===_c?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof ed))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new ed}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ed;if((t.outlet||_c)!==r)throw new ed;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Rc(n).parameters:{};i=new dh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ld(t),r,t.component,t,rd(e),id(e)+n.length,ud(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ed;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Tc)(n,t,e);if(!r)throw new ed;const i={};Pc(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new dh(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ld(t),r,t.component,t,rd(e),id(e)+s.length,ud(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=sd(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new oh(i,t)]}if(0===a.length&&0===u.length)return[new oh(i,[])];const c=this.processSegment(a,l,u,_c);return[new oh(i,c)]}}function rd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function id(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function sd(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(n=>od(t,e,n)&&ad(n)!==_c)}(t,n)){const i=new Vc(e,function(t,e,n,r){const i={};i[_c]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&ad(s)!==_c){const n=new Vc([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ad(s)]=n}return i}(t,e,r,new Vc(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>od(t,e,n))}(t,n)){const s=new Vc(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(od(t,n,a)&&!i[ad(a)]){const n=new Vc([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[ad(a)]=n}return Object.assign({},i,o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Vc(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function od(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ad(t){return t.outlet||_c}function ld(t){return t.data||{}}function ud(t){return t.resolve||{}}function cd(t,e,n,r){const i=Gh(t,e,r);return Mc(i.resolve?i.resolve(e,n):i(e,n))}function hd(t){return function(e){return e.pipe(Pl(e=>{const n=t(e);return n?W(n).pipe(q(()=>e)):W([e])}))}}class dd{}class pd{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const fd=new Dt("ROUTES");class md{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new xc(Nc(r.injector.get(fd)).map(Dc),r)}))}loadModuleFactory(t){return"string"==typeof t?W(this.loader.load(t)):Mc(t()).pipe(G(t=>t instanceof en?tl(t):W(this.compiler.compileModuleAsync(t))))}}class gd{}class yd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vd(t){throw t}function bd(t,e,n){return e.parse("/")}function _d(t,e){return tl(null)}class wd{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=vd,this.malformedUriErrorHandler=bd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_d,afterPreactivation:_d},this.urlHandlingStrategy=new yd,this.routeReuseStrategy=new pd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(tn),this.console=i.get(Vi);const l=i.get(ts);this.isNgZoneEnabled=l instanceof ts,this.resetConfig(a),this.currentUrlTree=new Fc(new Vc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new md(s,o,t=>this.triggerEvent(new dc(t)),t=>this.triggerEvent(new pc(t))),this.routerState=uh(this.currentUrlTree,this.rootComponentType),this.transitions=new el({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ul(t=>0!==t.id),q(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pl(t=>{let n=!1,r=!1;return tl(t).pipe(yl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Pl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return tl(t).pipe(Pl(t=>{const n=this.transitions.getValue();return e.next(new rc(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Xa:[t]}),Pl(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Pl(i=>(function(t,e,n,r,s){return new Uh(t,e,n,i.extractedUrl,s).apply()})(t,e,n,0,r).pipe(q(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),yl(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(G(s=>(function(t,e,n,r,i="emptyOnly",s="legacy"){return new nd(t,e,n,r,i,s).recognize()})(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(q(t=>Object.assign({},s,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),yl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),yl(t=>{const n=new ac(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new rc(n,this.serializeUrl(r),i,s);e.next(a);const l=uh(r,this.rootComponentType).snapshot;return tl(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Xa}),hd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),yl(t=>{const e=new lc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),q(t=>Object.assign({},t,{guards:Wh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(G(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?tl(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return W(o).pipe(G(t=>(function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?tl(s.map(s=>{const o=Gh(s,e,i);let a;if(function(t){return t&&Nh(t.canDeactivate)}(o))a=Mc(o.canDeactivate(t,e,n,r));else{if(!Nh(o))throw new Error("Invalid CanDeactivate guard");a=Mc(o(t,e,n,r))}return a.pipe(Ol())})).pipe(Yh()):tl(!0)})(t.component,t.route,n,e,r)),Ol(t=>!0!==t,!0))}(0,r,i,t).pipe(G(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,r){return W(s).pipe(jl(e=>W([Zh(e.route.parent,r),Xh(e.route,r),td(t,e.path,n),Jh(t,e.route,n)]).pipe(ll(),Ol(t=>!0!==t,!0))),Ol(t=>!0!==t,!0))}(r,0,t,e):tl(n)),q(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),yl(t=>{if(Rh(t.guardsResult)){const e=Cc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),yl(t=>{const e=new uc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ul(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new sc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),hd(t=>{if(t.guards.canActivateChecks.length)return tl(t).pipe(yl(t=>{const e=new cc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(G(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?W(i).pipe(jl(n=>(function(t,e,n,i){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return tl({});if(1===i.length){const s=i[0];return cd(t[s],e,n,r).pipe(q(t=>({[s]:t})))}const s={};return W(i).pipe(G(i=>cd(t[i],e,n,r).pipe(q(t=>(s[i]=t,t))))).pipe(Cl(),q(()=>s))}(t._resolve,t,r,i).pipe(q(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,hh(t,n).resolve),null)))})(n.route,0,t,e)),function(t,e){return arguments.length>=2?function(e){return b(Vl(t,void 0),fl(1),wl(void 0))(e)}:function(e){return b(Vl((e,n,r)=>t(e)),fl(1))(e)}}((t,e)=>t),q(t=>n)):tl(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),yl(t=>{const e=new hc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),hd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),q(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new oh(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ch(new el((i=n.value).url),new el(i.params),new el(i.queryParams),new el(i.fragment),new el(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new oh(r,s)}}var i}(t,e._root,n?n._root:void 0);return new lh(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),yl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ah(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),yl({next(){n=!0},complete(){n=!0}}),ql(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new sc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Tl(n=>{if(r=!0,function(t){return n&&n[Sc]}()){const r=Rh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new sc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new oc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return Xa}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ic(t),this.config=t.map(Dc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;ae()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=s?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return bh(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _h(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Pc(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new _h(n,e,r)}(n);if(s.toRoot())return bh(e.root,new Vc([],{}),e,r,i);const o=function(t,n,r){if(t.isAbsolute)return new wh(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new wh(r.snapshot._urlSegment,!0,0);const i=vh(t.commands[0])?0:1;return function(e,n,s){let o=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+i,l=t.numberOfDoubleDots;for(;l>a;){if(l-=a,!(o=o.parent))throw new Error("Invalid number of '../'");a=o.segments.length}return new wh(o,!1,a-l)}()}(s,0,t),a=o.processChildren?Ch(o.segmentGroup,o.index,s.commands):Sh(o.segmentGroup,o.index,s.commands);return bh(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){ae()&&this.isNgZoneEnabled&&!ts.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Rh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Rh(t))return Lc(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Lc(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ic(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((t,e)=>{s=t,o=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Ed{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sd,this.attachRef=null}}class Sd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ed,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const Cd=(()=>(class{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ii,this.deactivateEvents=new Ii,this.name=r||_c,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Td(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class Td{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ch?this.route:t===Sd?this.childContexts:this.parent.get(t,e)}}class xd{}class Id{preload(t,e){return e().pipe(Tl(()=>tl(null)))}}class kd{preload(t,e){return tl(null)}}const Ad=(()=>(class{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new md(e,n,e=>t.triggerEvent(new dc(e)),e=>t.triggerEvent(new pc(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ul(t=>t instanceof ic),jl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(tn);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return W(n).pipe(X(),q(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(G(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}))();class Dd{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ic&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new vc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Od=new Dt("ROUTER_CONFIGURATION"),Nd=new Dt("ROUTER_FORROOT_GUARD"),Rd=[ma,{provide:qc,useClass:zc},{provide:wd,useFactory:Bd,deps:[bs,qc,Sd,ma,Mt,Ai,$i,fd,Od,[gd,new ct],[dd,new ct]]},Sd,{provide:ch,useFactory:jd,deps:[wd]},{provide:Ai,useClass:Ss},Ad,kd,Id,{provide:Od,useValue:{enableTracing:!1}}];function Pd(){return new fs("Router",wd)}const Md=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Rd,Ud(e),{provide:Nd,useFactory:Vd,deps:[[wd,new ct,new dt]]},{provide:Od,useValue:n||{}},{provide:pa,useFactory:Fd,deps:[ha,[new ut(fa),new ct],Od]},{provide:Dd,useFactory:Ld,deps:[wd,Qa,Od]},{provide:xd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:kd},{provide:fs,multi:!0,useFactory:Pd},[qd,{provide:Di,multi:!0,useFactory:zd,deps:[qd]},{provide:Hd,useFactory:$d,deps:[qd]},{provide:Fi,multi:!0,useExisting:Hd}]]}}static forChild(e){return{ngModule:t,providers:[Ud(e)]}}}return t})();function Ld(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Dd(t,e,n)}function Fd(t,e,n={}){return n.useHash?new ya(t,e):new va(t,e)}function Vd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ud(t){return[{provide:Zt,multi:!0,useValue:t},{provide:fd,multi:!0,useValue:t}]}function Bd(t,e,n,r,i,s,o,a,l={},u,c){const h=new wd(null,e,n,r,i,s,o,Nc(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=Wl();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function jd(t){return t.routerState.root}const qd=(()=>(class{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(da,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(wd),r=this.injector.get(Od);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?tl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Od),n=this.injector.get(Ad),r=this.injector.get(Dd),i=this.injector.get(wd),s=this.injector.get(bs);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}))();function zd(t){return t.appInitializer.bind(t)}function $d(t){return t.bootstrapListener.bind(t)}const Hd=new Dt("Router Initializer");var Wd=Xn({encapsulation:2,styles:[],data:{}});function Gd(t){return eo(0,[(t()(),Us(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ui(1,212992,null,0,Cd,[Sd,Nn,Xe,[8,null],Tn],null,null)],function(t,e){t(e,1,0)},null)}function Kd(t){return eo(0,[(t()(),Us(0,0,null,null,1,"ng-component",[],null,null,null,Gd,Wd)),ui(1,49152,null,0,bc,[],null,null)],null,null)}var Qd=Ur("ng-component",bc,Kd,{},{},[]);function Yd(){throw Error("Host already has a portal attached")}class Xd{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Yd(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Zd extends Xd{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Jd extends Xd{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class tp{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Yd(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Zd?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Jd?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ep extends tp{constructor(t,e,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}const np=(()=>(class extends tp{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Ii}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}))(),rp=(()=>(class{}))();class ip{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}function sp(t){return null!=t&&"false"!==`${t}`}function op(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function ap(t){return Array.isArray(t)?t:[t]}function lp(t){return null==t?"":"string"==typeof t?t:`${t}px`}function up(t){return t instanceof rn?t.nativeElement:t}let cp;try{cp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(uA){cp=!1}const hp=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===Wa:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(Li,8))},token:t,providedIn:"root"}),t})(),dp=(()=>(class{}))();let pp;function fp(t){return function(){if(null==pp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pp=!0}))}finally{pp=pp||!1}return pp}()?t:!!t.capture}const mp=9,gp=13,yp=27,vp=37,bp=38,_p=39,wp=40,Ep=48,Sp=57,Cp=65,Tp=90,xp=188;function Ip(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class kp extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class Ap extends kp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}const Dp=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=(()=>Date.now()),t})();class Op extends Dp{constructor(t,e=Dp.now){super(t,()=>Op.delegate&&Op.delegate!==this?Op.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Op.delegate&&Op.delegate!==this?Op.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Np=new Op(Ap);function Rp(t,e=Np){return n=>n.lift(new Pp(t,e))}class Pp{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Mp(t,this.dueTime,this.scheduler))}}class Mp extends m{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Lp,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Lp(t){t.debouncedNext()}class Fp{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new I,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=(t=>t.disabled),this._pressedLetters=[],this.tabOut=new I,this.change=new I,t instanceof ki&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(yl(t=>this._pressedLetters.push(t)),Rp(t),ul(()=>this._pressedLetters.length>0),q(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case mp:return void this.tabOut.next();case wp:if(this._vertical&&n){this.setNextItemActive();break}return;case bp:if(this._vertical&&n){this.setPreviousItemActive();break}return;case _p:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case vp:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Ip(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=Cp&&e<=Tp||e>=Ep&&e<=Sp)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof ki?this._items.toArray():this._items}}class Vp extends Fp{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Up extends Fp{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}const Bp=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(uA){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===qp(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=qp(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||jp(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(hp))},token:t,providedIn:"root"}),t})();function jp(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function qp(t){if(!jp(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class zp{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=(()=>this.focusLastTabbableElement()),this.endAnchorListener=(()=>this.focusFirstTabbableElement()),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),ae()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(kl(1)).subscribe(t)}}const $p=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new zp(t,this._checker,this._ngZone,this._document,e)}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(Bp),kt(ts),kt(Ha))},token:t,providedIn:"root"}),t})(),Hp=650,Wp=fp({passive:!0,capture:!0}),Gp=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=(()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")}),this._documentMousedownListener=(()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")}),this._documentTouchstartListener=(t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Hp)}),this._windowFocusListener=(()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)})}monitor(t,e=!1){if(!this._platform.isBrowser)return tl(null);const n=up(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new I};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),s=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",s,!0)}),r.unlisten=(()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",s,!0)}),r.subject.asObservable()}stopMonitoring(t){const e=up(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=up(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Wp),document.addEventListener("mousedown",this._documentMousedownListener,Wp),document.addEventListener("touchstart",this._documentTouchstartListener,Wp),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Wp),document.removeEventListener("mousedown",this._documentMousedownListener,Wp),document.removeEventListener("touchstart",this._documentTouchstartListener,Wp),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(ts),kt(hp))},token:t,providedIn:"root"}),t})(),Kp=(()=>(class{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new Ii,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}))(),Qp=(()=>(class{}))(),Yp=new Dt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Xp=(()=>(class{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&ae()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}))();function Zp(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=sp(t)}}}function Jp(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function tf(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=sp(t)}}}function ef(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new I}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}let nf;try{nf="undefined"!=typeof Intl}catch(uA){nf=!1}const rf=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),sf=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class of{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=sf.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const af={enterDuration:450,exitDuration:400},lf=800,uf=fp({passive:!0});class cf{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=(t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+lf;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}),this._onTouchStart=(t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}),this._onPointerUp=(()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===sf.VISIBLE||t.config.terminateOnPointerUp&&t.state===sf.FADING_IN)&&t.fadeOut()}))}),r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},af,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${o-s}px`,u.style.top=`${a-s}px`,u.style.height=`${2*s}px`,u.style.width=`${2*s}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new of(this,u,n);return c.state=sf.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=sf.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},af,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=sf.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=sf.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>{t.addEventListener(n,e,uf)})}),this._triggerElement=t)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,uf)})}}const hf=new Dt("mat-ripple-global-options"),df=(()=>(class{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new cf(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}))(),pf=(()=>(class{}))(),ff=(()=>(class{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}))(),mf=(()=>(class{}))();class gf{}const yf=Zp(gf);let vf=0;const bf=(()=>(class extends yf{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${vf++}`}}))();let _f=0;class wf{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const Ef=new Dt("MAT_OPTION_PARENT_COMPONENT"),Sf=(()=>(class{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${_f++}`,this.onSelectionChange=new Ii,this._stateChanges=new I}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=sp(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(){const t=this._getHostElement();"function"==typeof t.focus&&t.focus()}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==gp&&32!==t.keyCode||Ip(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new wf(this,t))}}))(),Cf=(()=>(class{}))(),Tf=new Dt("mat-label-global-options");function xf(t,e,n,i){return r(n)&&(i=n,n=void 0),i?xf(t,e,n).pipe(q(t=>l(t)?i(...t):i(t))):new w(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=(()=>t.removeEventListener(n,r,s))}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=(()=>t.off(n,r))}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=(()=>t.removeListener(n,r))}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function If(t){return!l(t)&&t-parseFloat(t)+1>=0}function kf(t=0,e,n){let r=-1;return If(e)?r=Number(e)<1?1:Number(e):A(e)&&(n=e),A(n)||(n=Np),new w(e=>{const i=If(t)?t:+t-n.now();return n.schedule(Af,i,{index:0,period:r,subscriber:e})})}function Af(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Df{}class Of{}const Nf="*";function Rf(t,e=null){return{type:2,steps:t,options:e}}function Pf(t){return{type:6,styles:t,offset:null}}function Mf(t){Promise.resolve(null).then(t)}class Lf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Mf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ff{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Mf(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Vf="!";function Uf(t,e){return n=>n.lift(new Bf(t,e))}class Bf{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new jf(t,this.compare,this.keySelector))}}class jf extends m{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function qf(t){return e=>e.lift(new zf(t))}class zf{constructor(t){this.notifier=t}call(t,e){const n=new $f(t),r=B(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class $f extends j{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}const Hf=new Dt("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}}),Wf=(()=>(class{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}))();class Gf{}const Kf=Zp(Gf),Qf=(()=>(class extends Kf{constructor(t){super(),this._viewContainerRef=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new I,this.position=null,this.origin=null,this.isActive=!1}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Jd(this._explicitContent||this._implicitContent,this._viewContainerRef)}}))(),Yf=(()=>(class extends np{constructor(t,e,n){super(t,e),this._host=n,this._centeringSub=d.EMPTY,this._leavingSub=d.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Fl(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}))(),Xf=(()=>(class{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=d.EMPTY,this._translateTabComplete=new I,this._onCentering=new Ii,this._beforeCentering=new Ii,this._afterLeavingCenter=new Ii,this._onCentered=new Ii(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(Uf((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin())}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(){const t=this._getLayoutDirection();return"ltr"==t&&this.origin<=0||"rtl"==t&&this.origin>0?"left-origin-center":"right-origin-center"}}))();class Zf{}const Jf=Zp(Zf),tm=(()=>(class extends Jf{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}))(),em=fp({passive:!0});class nm{}const rm=tf(nm),im=(()=>(class extends rm{constructor(t,e,n,r,i,s){super(),this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=r,this._ngZone=i,this._platform=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new I,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new I,this._selectedIndex=0,this.selectFocusedIndex=new Ii,this.indexFocused=new Ii,i.runOutsideAngular(()=>{xf(t.nativeElement,"mouseleave").pipe(qf(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=op(t),this._selectedIndexChanged=this._selectedIndex!=t,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItemIndex(t)}ngAfterContentChecked(){this._tabLabelCount!=this._labelWrappers.length&&(this.updatePagination(),this._tabLabelCount=this._labelWrappers.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}_handleKeydown(t){if(!Ip(t))switch(t.keyCode){case 36:this._keyManager.setFirstItemActive(),t.preventDefault();break;case 35:this._keyManager.setLastItemActive(),t.preventDefault();break;case gp:case 32:this.selectFocusedIndex.emit(this.focusIndex),t.preventDefault();break;default:this._keyManager.onKeydown(t)}}ngAfterContentInit(){const t=this._dir?this._dir.change:tl(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Up(this._labelWrappers).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Z(t,e).pipe(qf(this._destroyed)).subscribe(()=>{n(),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(qf(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterViewInit(){xf(this._previousPaginator.nativeElement,"touchstart",em).pipe(qf(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),xf(this._nextPaginator.nativeElement,"touchstart",em).pipe(qf(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t,this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._labelWrappers)return!0;const e=this._labelWrappers?this._labelWrappers.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._labelWrappers&&this._labelWrappers.length){this._labelWrappers.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){const e=this._labelWrappers?this._labelWrappers.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth;let r,i;"ltr"==this._getLayoutDirection()?i=(r=e.getOffsetLeft())+e.getOffsetWidth():r=(i=this._tabList.nativeElement.offsetWidth-e.getOffsetLeft())-e.getOffsetWidth();const s=this.scrollDistance,o=this.scrollDistance+n;r<s?this.scrollDistance-=s-r+60:i>o&&(this.scrollDistance+=i-o+60)}_checkPaginationEnabled(){const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}_checkScrollingControls(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._labelWrappers&&this._labelWrappers.length?this._labelWrappers.toArray()[this.selectedIndex].elementRef.nativeElement:null;this._inkBar.alignToElement(t)}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t){this._stopInterval(),kf(650,100).pipe(qf(Z(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()})}_scrollTo(t){const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}))();let sm=0;class om{}const am=new Dt("MAT_TABS_CONFIG");class lm{constructor(t){this._elementRef=t}}const um=Jp(tf(lm),"primary"),cm=(()=>(class extends um{constructor(t,e,n){super(t),this._changeDetectorRef=e,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=d.EMPTY,this._tabLabelSubscription=d.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new Ii,this.focusChange=new Ii,this.animationDone=new Ii,this.selectedTabChange=new Ii(!0),this._groupId=sm++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms"}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=sp(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=op(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._subscribeToTabLabels(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new om;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Z(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}))(),hm=(()=>(class{}))(),dm=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),pm=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=up(t);return new w(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new I,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(dm))},token:t,providedIn:"root"}),t})(),fm=(()=>(class{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Ii,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=sp(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=op(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Rp(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}))(),mm=(()=>(class{}))(),gm=new Dt("cdk-dir-doc",{providedIn:"root",factory:function(){return At(Ha)}}),ym=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Ii,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(gm,8))},token:t,providedIn:"root"}),t})(),vm=(()=>(class{}))();function bm(){return"undefined"!=typeof process}function _m(t){switch(t.length){case 0:return new Lf;case 1:return t[0];default:return new Ff(t)}}function wm(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case Vf:a=i[n];break;case Nf:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),u=c,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Em(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Sm(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Sm(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Sm(n,"destroy",t)))}}function Sm(t,e,n){const r=n.totalTime,i=Cm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Cm(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Tm(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function xm(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Im=(t,e)=>!1,km=(t,e)=>!1,Am=(t,e,n)=>[];const Dm=bm();(Dm||"undefined"!=typeof Element)&&(Im=((t,e)=>t.contains(e)),km=(()=>{if(Dm||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):km}})(),Am=((t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r}));let Om=null,Nm=!1;function Rm(t){Om||(Om=("undefined"!=typeof document?document.body:null)||{},Nm=!!Om.style&&"WebkitAppearance"in Om.style);let e=!0;return Om.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Om.style)&&Nm&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Om.style),e}const Pm=km,Mm=Im,Lm=Am;function Fm(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}const Vm=(()=>(class{validateStyleProperty(t){return Rm(t)}matchesElement(t,e){return Pm(t,e)}containsElement(t,e){return Mm(t,e)}query(t,e,n){return Lm(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Lf(n,r)}}))(),Um=(()=>{class t{}return t.NOOP=new Vm,t})(),Bm=1e3,jm="{{",qm="ng-enter",zm="ng-leave",$m="ng-trigger",Hm=".ng-trigger",Wm="ng-animating",Gm=".ng-animating";function Km(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qm(parseFloat(e[1]),e[2])}function Qm(t,e){switch(e){case"s":return t*Bm;default:return t}}function Ym(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Qm(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Qm(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Xm(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Zm(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Xm(t,n);return n}function Jm(t,e,n){return n?e+":"+n+";":""}function tg(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Jm(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Jm(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function eg(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ug(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),bm()&&tg(t))}function ng(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ug(e);t.style[n]=""}),bm()&&tg(t))}function rg(t){return Array.isArray(t)?1==t.length?t[0]:Rf(t):t}const ig=new RegExp(`${jm}\\s*(.+?)\\s*}}`,"g");function sg(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=ig.exec(n);)e.push(r[1]);ig.lastIndex=0}return e}function og(t,e,n){const r=t.toString(),i=r.replace(ig,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function ag(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const lg=/-+([a-z0-9])/g;function ug(t){return t.replace(lg,(...t)=>t[1].toUpperCase())}function cg(t,e){return 0===t||0===e}function hg(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=pg(t,e)})}}return e}function dg(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function pg(t,e){return window.getComputedStyle(t)[e]}const fg="*";function mg(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(vg(i,o)),"<"!=s[0]||i==fg&&o==fg||e.push(vg(o,i))})(t,n,e)):n.push(t),n}const gg=new Set(["true","1"]),yg=new Set(["false","0"]);function vg(t,e){const n=gg.has(t)||yg.has(t),r=gg.has(e)||yg.has(e);return(i,s)=>{let o=t==fg||t==i,a=e==fg||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?gg.has(t):yg.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?gg.has(e):yg.has(e)),o&&a}}const bg=":self",_g=new RegExp(`s*${bg}s*,?`,"g");function wg(t,e,n){return new Sg(t).build(e,n)}const Eg="";class Sg{constructor(t){this._driver=t}build(t,e){const n=new Cg(e);return this._resetContextStyleTimingState(n),dg(this,rg(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Eg,t.collectedStyles={},t.collectedStyles[Eg]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Tg(t)){const e=t;Object.keys(e).forEach(t=>{sg(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ag(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=dg(this,rg(t.animation),e);return{type:1,matchers:mg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>dg(this,t,e)),options:xg(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=dg(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:xg(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ig(Ym(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Ig(0,0,"");return t.dynamic=!0,t.strValue=r,t}return Ig((n=n||Ym(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Pf({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Pf(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Nf?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Tg(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(jm)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(r,i,s){const o=e.options.params||{},a=sg(t[n]);a.length&&a.forEach(t=>{o.hasOwnProperty(t)||s.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Tg(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Tg(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:dg(this,rg(t.animation),e),options:xg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xg(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==bg);return e&&(t=t.replace(_g,"")),[t=t.replace(/@\*/g,Hm).replace(/@\w+/g,t=>Hm+"-"+t.substr(1)).replace(/:animating/g,Gm),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Tm(e.collectedStyles,e.currentQuerySelector,{});const o=dg(this,rg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:xg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ym(t.timings,e.errors,!0);return{type:12,animation:dg(this,rg(t.animation),e),timings:n,options:null}}}class Cg{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Tg(t){return!Array.isArray(t)&&"object"==typeof t}function xg(t){var e;return t?(t=Xm(t)).params&&(t.params=(e=t.params)?Xm(e):null):t={},t}function Ig(t,e,n){return{duration:t,delay:e,easing:n}}function kg(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ag{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Dg=1,Og=new RegExp(":enter","g"),Ng=new RegExp(":leave","g");function Rg(t,e,n,r,i,s={},o={},a,l,u=[]){return(new Pg).buildKeyframes(t,e,n,r,i,s,o,a,l,u)}class Pg{buildKeyframes(t,e,n,r,i,s,o,a,l,u=[]){l=l||new Ag;const c=new Lg(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),dg(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[kg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Km(n.duration):null,s=null!=n.delay?Km(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),dg(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mg);const t=Km(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>dg(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Km(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),dg(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ym(e.params?og(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Km(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Mg);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),dg(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;dg(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Mg={};class Lg{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Fg(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Km(n.duration)),null!=n.delay&&(r.delay=Km(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=og(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Lg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Mg,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Vg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Og,"."+this._enterClassName)).replace(Ng,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Fg{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Fg(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Dg,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Nf,this._currentKeyframe[t]=Nf}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=Nf}):Zm(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=og(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Nf),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Zm(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==Vf?t.add(n):r==Nf&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ag(t.values()):[],s=e.size?ag(e.values()):[];if(n){const t=r[0],e=Xm(t);t.offset=0,e.offset=1,r=[t,e]}return kg(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Vg extends Fg{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Zm(t[0],!1);a.offset=0,i.push(a);const l=Zm(t[0],!1);l.offset=Ug(o),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let o=Zm(t[r],!1);o.offset=Ug((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return kg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Ug(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Bg{}class jg extends Bg{normalizePropertyName(t,e){return ug(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(qg[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const qg=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zg(t,e,n,r,i,s,o,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const $g={};class Hg{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||$g,d=this.buildStyles(n,o&&o.params||$g,c),p=a&&a.params||$g,f=this.buildStyles(r,p,c),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign({},h,p)},_=u?[]:Rg(t,e,this.ast.animation,i,s,d,f,b,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return zg(e,this._triggerName,n,r,v,d,f,[],[],g,y,w,c);_.forEach(t=>{const n=t.element,r=Tm(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Tm(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=ag(m.values());return zg(e,this._triggerName,n,r,v,d,f,_,E,g,y,w)}}class Wg{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Xm(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=og(s,r,e)),n[t]=s})}}),n}}class Gg{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Wg(t.style,t.options&&t.options.params||{})}),Kg(this.states,"true","1"),Kg(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Hg(t,e,this.states))}),this.fallbackTransition=new Hg(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Kg(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Qg=new Ag;class Yg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=wg(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=wm(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Rg(this._driver,e,i,qm,zm,{},{},n,Qg,r)).forEach(t=>{const e=Tm(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Nf)})});const a=_m(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Cm(e,"","","");return Em(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Xg="ng-animate-queued",Zg=".ng-animate-queued",Jg="ng-animate-disabled",ty=".ng-animate-disabled",ey="ng-star-inserted",ny=".ng-star-inserted",ry=[],iy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oy="__ng_removed";class ay{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=Xm(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const ly="void",uy=new ay(ly);class cy{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,vy(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Tm(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Tm(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(vy(t,$m),vy(t,$m+"-"+e),a[e]=uy),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new dy(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(vy(t,$m),vy(t,$m+"-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new ay(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=uy),l.value!==ly&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ng(t,n),eg(t,r)})}return}const u=Tm(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(vy(t,Xg),s.onStart(()=>{by(t,Xg)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,Hm,!0).forEach(t=>{if(t[oy])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,ly,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&_m(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||uy,o=new ay(ly),a=new dy(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){vy(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Cm(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Em(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class hy{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((t,e)=>{})}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new cy(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(py(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!py(e))return;const i=e[oy];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vy(t,Jg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),by(t,Jg))}removeNode(t,e,n,r){if(py(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[oy]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return py(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Hm,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Gm,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _m(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[oy];if(e&&e.setForRemoval){if(t[oy]=iy,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ty)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ty,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)vy(this.collectedEnterElements[n],ey);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?_m(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Ag,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,Zg,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=gy(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=qm+f++;p.set(e,n),t.forEach(t=>vy(t,n))});const m=[],g=new Set,y=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t[oy];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,ny,!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=gy(h,Array.from(g));b.forEach((t,e)=>{const n=zm+f++;v.set(e,n),t.forEach(t=>vy(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>by(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>by(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i[oy];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,u);if(!f.errors||!f.errors.length)return u?(e.onStart(()=>ng(i,f.fromStyles)),e.onDestroy(()=>eg(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>ng(i,f.fromStyles)),e.onDestroy(()=>eg(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>Tm(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Tm(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>wy(t,a,l)),T=new Map;my(T,this.driver,y,l,Nf).forEach(t=>{wy(t,a,l)&&C.push(t)});const x=new Map;d.forEach((t,e)=>{my(x,this.driver,new Set(t),a,Vf)}),C.forEach(t=>{const e=T.get(t),n=x.get(t);T.set(t,Object.assign({},e,n))});const I=[],k=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>eg(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,T);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=_m(e)),r.push(s)}}else ng(e,o.fromStyles),s.onDestroy(()=>eg(e,o.toStyles)),k.push(s),u.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=_m(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<m.length;D++){const t=m[D],e=t[oy];if(by(t,zm),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Gm,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?_y(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e[oy];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==ly;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=Tm(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}ng(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[oy];if(d&&d.removedBeforeQueried)return new Lf(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Ff?t(i.players,n):n.push(i)}}((n.get(h)||ry).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=wm(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&c.add(h),p){const e=new dy(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{Tm(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>vy(t,Wm));const d=_m(h);return d.onDestroy(()=>{u.forEach(t=>by(t,Wm)),eg(a,e.toStyles)}),c.forEach(t=>{Tm(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Lf(t.duration,t.delay)}}class dy{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Lf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Em(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Tm(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function py(t){return t&&1===t.nodeType}function fy(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function my(t,e,n,r,i){const s=[];n.forEach(t=>s.push(fy(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[oy]=sy,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>fy(t,s[a++])),o}function gy(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}const yy="$$classes";function vy(t,e){if(t.classList)t.classList.add(e);else{let n=t[yy];n||(n=t[yy]={}),n[e]=!0}}function by(t,e){if(t.classList)t.classList.remove(e);else{let n=t[yy];n&&delete n[e]}}function _y(t,e,n){_m(n).onDone(()=>t.processLeaveNode(e))}function wy(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Ey{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=((t,e)=>{}),this._transitionEngine=new hy(t,e,n),this._timelineEngine=new Yg(t,e,n),this._transitionEngine.onRemovalComplete=((t,e)=>this.onRemovalComplete(t,e))}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=wg(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Gg(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=xm(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=xm(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Sy(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Ty(e[0]),e.length>1&&(r=Ty(e[e.length-1]))):e&&(n=Ty(e)),n||r?new Cy(t,n,r):null}const Cy=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&eg(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eg(this._element,this._initialStyles),this._endStyles&&(eg(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ng(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ng(this._element,this._endStyles),this._endStyles=null),eg(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Ty(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];xy(i)&&((e=e||{})[i]=t[i])}return e}function xy(t){return"display"===t||"position"===t}const Iy=3,ky="animation",Ay="animationend",Dy=1e3;class Oy{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=(t=>this._handleCallback(t))}apply(){!function(t,e){const n=Fy(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ly(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),My(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ny(this._element,this._name,"paused")}resume(){Ny(this._element,this._name,"running")}setPosition(t){const e=Ry(this._element,this._name);this._position=t*this._duration,Ly(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(Iy))*Dy;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),My(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Fy(t,"").split(","),r=Py(n,e);r>=0&&(n.splice(r,1),Ly(t,"",n.join(",")))}(this._element,this._name))}}function Ny(t,e,n){Ly(t,"PlayState",n,Ry(t,e))}function Ry(t,e){const n=Fy(t,"");return n.indexOf(",")>0?Py(n.split(","),e):Py([n],e)}function Py(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function My(t,e,n){n?t.removeEventListener(Ay,e):t.addEventListener(Ay,e)}function Ly(t,e,n,r){const i=ky+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Fy(t,e){return t.style[ky+e]}const Vy="forwards",Uy="linear";class By{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||Uy,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Oy(this.element,this.animationName,this._duration,this._delay,this.easing,Vy,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:pg(this.element,n))})}this.currentSnapshot=t}}class jy extends Lf{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Fm(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const qy="gen_css_kf_",zy=" ";class $y{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Rm(t)}matchesElement(t,e){return Pm(t,e)}containsElement(t,e){return Mm(t,e)}query(t,e,n){return Lm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Fm(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=zy;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=zy,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof By),l={};cg(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=hg(t,e,l));if(0==n)return new jy(t,u);const c=`${qy}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Sy(t,e),p=new By(t,e,c,n,r,i,u,d);return p.onDestroy(()=>(function(t){h.parentNode.removeChild(h)})()),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Hy{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:pg(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Wy{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Gy().toString()),this._cssKeyframesDriver=new $y}validateStyleProperty(t){return Rm(t)}matchesElement(t,e){return Pm(t,e)}containsElement(t,e){return Mm(t,e)}query(t,e,n){return Lm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=s.filter(t=>t instanceof Hy);cg(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Sy(t,e=hg(t,e=e.map(t=>Zm(t,!1)),l));return new Hy(t,e,a,c)}}function Gy(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}const Ky=(()=>(class extends Df{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Jt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Rf(t):t;return Xy(this._renderer,null,e,"register",[n]),new Qy(e,this._renderer)}}))();class Qy extends Of{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Yy(this._id,t,e||{},this._renderer)}}class Yy{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Xy(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Xy(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Zy="@",Jy="@.disabled",tv=(()=>(class{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=((t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)})}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ev("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new nv(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}))();class ev{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Zy&&e==Jy?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class nv extends ev{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Zy?"."==e.charAt(1)&&e==Jy?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Zy){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Zy&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}const rv=(()=>(class extends Ey{constructor(t,e,n){super(t.body,e,n)}}))();function iv(){return"function"==typeof Gy()?new Wy:new $y}function sv(){return new jg}function ov(t,e,n){return new tv(t,e,n)}const av=new Dt("AnimationModuleType"),lv=(()=>(class{}))();class uv{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new cv(t,this.durationSelector))}}class cv extends j{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:r}=this;n=r(t)}catch(e){return this.destination.error(e)}const r=B(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function hv(t,e=Np){return n=(()=>kf(t,e)),function(t){return t.lift(new uv(n))};var n}class dv extends Ap{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class pv extends Op{}const fv=new pv(dv);function mv(t,e){return new w(e?n=>e.schedule(gv,0,{error:t,subscriber:n}):e=>e.error(t))}function gv({error:t,subscriber:e}){e.error(t)}const yv=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return tl(this.value);case"E":return mv(this.error);case"C":return Za()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class vv{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new I,this.onChange=this.changed,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}const bv=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),_v=20,wv=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new I,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=_v){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(hv(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tl()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ul(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xf(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(ts),kt(hp))},token:t,providedIn:"root"}),t})(),Ev=(()=>(class{}))(),Sv=20,Cv=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Z(xf(window,"resize"),xf(window,"orientationchange")):tl(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=Sv){return t>0?this._change.pipe(hv(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(hp),kt(ts))},token:t,providedIn:"root"}),t})();var Tv=Xn({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],data:{}});function xv(t){return eo(0,[(t()(),Vs(0,null,null,0))],null,null)}function Iv(t){return eo(0,[(t()(),Vs(16777216,null,null,1,null,xv)),ui(1,212992,null,0,np,[Xe,Nn],{portal:[0,"portal"]},null),(t()(),Vs(0,null,null,0))],function(t,e){t(e,1,0,e.parent.context.$implicit.templateLabel)},null)}function kv(t){return eo(0,[(t()(),Zs(0,null,["",""]))],null,function(t,e){t(e,0,0,e.parent.context.$implicit.textLabel)})}function Av(t){return eo(0,[(t()(),Us(0,0,null,null,8,"div",[["cdkMonitorElementFocus",""],["class","mat-tab-label mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-posinset",0],[1,"aria-setsize",0],[1,"aria-controls",0],[1,"aria-selected",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null],[1,"aria-disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._handleClick(t.context.$implicit,Yr(t.parent,3),t.context.index)&&r),r},null,null)),ui(1,212992,null,0,df,[rn,ts,hp,[2,hf],[2,av]],{disabled:[0,"disabled"]},null),ui(2,147456,null,0,Kp,[rn,Gp],null,null),ui(3,16384,[[3,4]],0,tm,[rn],{disabled:[0,"disabled"]},null),(t()(),Us(4,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,Iv)),ui(6,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,kv)),ui(8,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.context.$implicit.disabled||e.component.disableRipple),t(e,3,0,e.context.$implicit.disabled),t(e,6,0,e.context.$implicit.templateLabel),t(e,8,0,!e.context.$implicit.templateLabel)},function(t,e){var n=e.component;t(e,0,1,[n._getTabLabelId(e.context.index),n._getTabIndex(e.context.$implicit,e.context.index),e.context.index+1,n._tabs.length,n._getTabContentId(e.context.index),n.selectedIndex==e.context.index,e.context.$implicit.ariaLabel||null,!e.context.$implicit.ariaLabel&&e.context.$implicit.ariaLabelledby?e.context.$implicit.ariaLabelledby:null,n.selectedIndex==e.context.index,Yr(e,1).unbounded,Yr(e,3).disabled,!!Yr(e,3).disabled])})}function Dv(t){return eo(0,[(t()(),Us(0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],function(t,e,n){var r=!0,i=t.component;return"_onCentered"===e&&(r=!1!==i._removeTabBodyWrapperHeight()&&r),"_onCentering"===e&&(r=!1!==i._setTabBodyWrapperHeight(n)&&r),r},Pv,Nv)),ui(1,245760,null,0,Xf,[rn,[2,ym],Tn],{_content:[0,"_content"],origin:[1,"origin"],animationDuration:[2,"animationDuration"],position:[3,"position"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],function(t,e){t(e,1,0,e.context.$implicit.content,e.context.$implicit.origin,e.component.animationDuration,e.context.$implicit.position)},function(t,e){var n=e.component;t(e,0,0,n._getTabContentId(e.context.index),n._getTabLabelId(e.context.index),n.selectedIndex==e.context.index)})}function Ov(t){return eo(2,[$s(671088640,1,{_tabBodyWrapper:0}),$s(671088640,2,{_tabHeader:0}),(t()(),Us(2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],function(t,e,n){var r=!0,i=t.component;return"indexFocused"===e&&(r=!1!==i._focusChanged(n)&&r),"selectFocusedIndex"===e&&(r=!1!==(i.selectedIndex=n)&&r),r},Lv,Mv)),ui(3,7520256,[[2,4],["tabHeader",4]],1,im,[rn,Tn,Cv,[2,ym],ts,hp],{disableRipple:[0,"disableRipple"],selectedIndex:[1,"selectedIndex"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),$s(603979776,3,{_labelWrappers:1}),(t()(),Vs(16777216,null,0,1,null,Av)),ui(6,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),(t()(),Us(7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,Dv)),ui(9,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.disableRipple,n.selectedIndex),t(e,6,0,n._tabs),t(e,9,0,n._tabs)},function(t,e){t(e,2,0,Yr(e,3)._showPaginationControls,"rtl"==Yr(e,3)._getLayoutDirection())})}var Nv=Xn({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function Rv(t){return eo(0,[(t()(),Vs(0,null,null,0))],null,null)}function Pv(t){return eo(2,[$s(671088640,1,{_portalHost:0}),(t()(),Us(1,0,[["content",1]],null,4,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],function(t,e,n){var r=!0,i=t.component;return"@translateTab.start"===e&&(r=!1!==i._onTranslateTabStarted(n)&&r),"@translateTab.done"===e&&(r=!1!==i._translateTabComplete.next(n)&&r),r},null,null)),Xs(2,{animationDuration:0}),Xs(3,{value:0,params:1}),(t()(),Vs(16777216,null,null,1,null,Rv)),ui(5,212992,null,0,Yf,[Xe,Nn,Xf],null,null)],function(t,e){t(e,5,0)},function(t,e){var n=e.component,r=t(e,3,0,n._position,t(e,2,0,n.animationDuration));t(e,1,0,r)})}var Mv=Xn({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}"],data:{}});function Lv(t){return eo(2,[$s(402653184,1,{_inkBar:0}),$s(402653184,2,{_tabListContainer:0}),$s(402653184,3,{_tabList:0}),$s(671088640,4,{_nextPaginator:0}),$s(671088640,5,{_previousPaginator:0}),(t()(),Us(5,0,[[5,0],["previousPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"],[null,"mousedown"],[null,"touchend"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i._handlePaginatorClick("before")&&r),"mousedown"===e&&(r=!1!==i._handlePaginatorPress("before")&&r),"touchend"===e&&(r=!1!==i._stopInterval()&&r),r},null,null)),ui(6,212992,null,0,df,[rn,ts,hp,[2,hf],[2,av]],{disabled:[0,"disabled"]},null),(t()(),Us(7,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(t()(),Us(8,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],function(t,e,n){var r=!0;return"keydown"===e&&(r=!1!==t.component._handleKeydown(n)&&r),r},null,null)),(t()(),Us(9,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],null,[[null,"cdkObserveContent"]],function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component._onContentChanges()&&r),r},null,null)),ui(10,1196032,null,0,fm,[pm,rn,ts],null,{event:"cdkObserveContent"}),(t()(),Us(11,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),Qs(null,0),(t()(),Us(13,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],null,null,null,null,null)),ui(14,16384,[[1,4]],0,Wf,[rn,ts,Hf],null,null),(t()(),Us(15,0,[[4,0],["nextPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"mousedown"],[null,"click"],[null,"touchend"]],function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==i._handlePaginatorPress("after")&&r),"click"===e&&(r=!1!==i._handlePaginatorClick("after")&&r),"touchend"===e&&(r=!1!==i._stopInterval()&&r),r},null,null)),ui(16,212992,null,0,df,[rn,ts,hp,[2,hf],[2,av]],{disabled:[0,"disabled"]},null),(t()(),Us(17,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,6,0,n._disableScrollBefore||n.disableRipple),t(e,16,0,n._disableScrollAfter||n.disableRipple)},function(t,e){var n=e.component;t(e,5,0,n._disableScrollBefore,Yr(e,6).unbounded),t(e,15,0,n._disableScrollAfter,Yr(e,16).unbounded)})}var Fv=Xn({encapsulation:2,styles:[],data:{}});function Vv(t){return eo(0,[Qs(null,0),(t()(),Vs(0,null,null,0))],null,null)}function Uv(t){return eo(2,[$s(402653184,1,{_implicitContent:0}),(t()(),Vs(0,[[1,2]],null,0,null,Vv))],null,null)}function Bv(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,a)}l((r=r.apply(t,e||[])).next())})}const jv=(()=>(class{constructor(){this._optionalClasses=[]}ngOnInit(){if(!this.name)throw new Error('Missing "name" property for Angular2 Font Awesome component');this.size&&this.addToOptionalClasses(`fa-${this.size}`),this.fixed&&this.addToOptionalClasses("fa-fw"),this.animation&&this.addToOptionalClasses(`fa-${this.animation}`),this.rotate&&this.addToOptionalClasses("number"==typeof this.rotate?`fa-rotate-${this.rotate}`:`fa-flip-${this.rotate}`),this.inverse&&this.addToOptionalClasses("fa-inverse")}get optionalClasses(){return this._optionalClasses}addToOptionalClasses(t){this._optionalClasses.push(t)}}))(),qv=(()=>(class{constructor(){}}))();new Dt("Location Initialized"),new Dt("appBaseHref");var zv=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}();new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),new zv;var $v,Hv=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,Wv={yMMMdjms:nb(eb([Jv("year",1),tb("month",3),Jv("day",1),Jv("hour",1),Jv("minute",1),Jv("second",1)])),yMdjm:nb(eb([Jv("year",1),Jv("month",1),Jv("day",1),Jv("hour",1),Jv("minute",1)])),yMMMMEEEEd:nb(eb([Jv("year",1),tb("month",4),tb("weekday",4),Jv("day",1)])),yMMMMd:nb(eb([Jv("year",1),tb("month",4),Jv("day",1)])),yMMMd:nb(eb([Jv("year",1),tb("month",3),Jv("day",1)])),yMd:nb(eb([Jv("year",1),Jv("month",1),Jv("day",1)])),jms:nb(eb([Jv("hour",1),Jv("second",1),Jv("minute",1)])),jm:nb(eb([Jv("hour",1),Jv("minute",1)]))},Gv={yyyy:nb(Jv("year",4)),yy:nb(Jv("year",2)),y:nb(Jv("year",1)),MMMM:nb(tb("month",4)),MMM:nb(tb("month",3)),MM:nb(Jv("month",2)),M:nb(Jv("month",1)),LLLL:nb(tb("month",4)),L:nb(tb("month",1)),dd:nb(Jv("day",2)),d:nb(Jv("day",1)),HH:Kv(Qv(nb(Zv(Jv("hour",2),!1)))),H:Qv(nb(Zv(Jv("hour",1),!1))),hh:Kv(Qv(nb(Zv(Jv("hour",2),!0)))),h:Qv(nb(Zv(Jv("hour",1),!0))),jj:nb(Jv("hour",2)),j:nb(Jv("hour",1)),mm:Kv(nb(Jv("minute",2))),m:nb(Jv("minute",1)),ss:Kv(nb(Jv("second",2))),s:nb(Jv("second",1)),sss:nb(Jv("second",3)),EEEE:nb(tb("weekday",4)),EEE:nb(tb("weekday",3)),EE:nb(tb("weekday",2)),E:nb(tb("weekday",1)),a:($v=nb(Zv(Jv("hour",1),!0)),function(t,e){return $v(t,e).split(" ")[1]}),Z:Xv("short"),z:Xv("long"),ww:nb({}),w:nb({}),G:nb(tb("era",1)),GG:nb(tb("era",2)),GGG:nb(tb("era",3)),GGGG:nb(tb("era",4))};function Kv(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function Qv(t){return function(e,n){return t(e,n).split(" ")[0]}}function Yv(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function Xv(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=Yv(t,n,e);return r?r.substring(3):""}}function Zv(t,e){return t.hour12=e,t}function Jv(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function tb(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function eb(t){return Object.assign.apply(Object,[{}].concat(t))}function nb(t){return function(e,n){return Yv(e,n,t)}}var rb=new Map,ib=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=Wv[t];if(r)return r(e,n);var i=t,s=rb.get(i);if(!s){s=[];var o=void 0;Hv.exec(t);for(var a=t;a;)(o=Hv.exec(a))?a=(s=s.concat(o.slice(1))).pop():(s.push(a),a=null);rb.set(i,s)}return s.reduce(function(t,r){var i=Gv[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),sb=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function ob(t){return t instanceof Date&&!isNaN(t.valueOf())}function ab(t){return parseInt(t,10)}(function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){var r,i;if(void 0===n&&(n="mediumDate"),null==(i=e)||""===i||e!=e)return null;if("string"==typeof e&&(e=e.trim()),ob(e))r=e;else if(function(t){return!isNaN(t-parseFloat(t))}(e))r=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var s=e.split("-").map(function(t){return parseInt(t,10)});r=new Date(s[0],s[1]-1,s[2])}else r=new Date(e);if(!ob(r)){var o=void 0;if("string"!=typeof e||!(o=e.match(sb)))throw function(e,n){return Error("InvalidPipeArgument: '"+n+"' for pipe '"+bt(t)+"'")}(0,e);r=function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=ab(t[9]+t[10]),r=ab(t[9]+t[11])),i.call(e,ab(t[1]),ab(t[2])-1,ab(t[3]));var o=ab(t[4]||"0")-n,a=ab(t[5]||"0")-r,l=ab(t[6]||"0"),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,u),e}(o)}return ib.format(r,this._locale,t._ALIASES[n]||n)},t}())._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},new hn("4.1.3");const lb=(()=>(class{}))();var ub=Xn({encapsulation:0,styles:[""],data:{}});function cb(t){return eo(0,[(t()(),Us(0,0,null,null,2,"i",[["aria-hidden","true"]],null,null,null,null,null)),hi(512,null,xa,Ia,[Sn,Cn,rn,un]),ui(2,278528,null,0,Aa,[xa],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(t,e){var n=e.component;t(e,2,0,Cr(1,"fa fa-",n.name,""),n.optionalClasses)},null)}class hb{constructor(){}ngOnInit(){}}var db=Xn({encapsulation:0,styles:[[""]],data:{}});function pb(t){return eo(0,[(t()(),Us(0,0,null,null,85,"div",[["class","card centerCard"],["style","width: 90%"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Rubric"])),(t()(),Us(3,0,null,null,82,"mat-tab-group",[["class","mat-tab-group"],["mat-align-tabs","center"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,Ov,Tv)),ui(4,3325952,null,1,cm,[rn,Tn,[2,am]],null,null),$s(603979776,1,{_tabs:1}),(t()(),Us(6,16777216,null,null,39,"mat-tab",[["label","Release One"]],null,null,null,Uv,Fv)),ui(7,770048,[[1,4]],2,Qf,[Nn],{textLabel:[0,"textLabel"]},null),$s(603979776,2,{templateLabel:0}),$s(335544320,3,{_explicitContent:0}),(t()(),Us(10,0,null,0,35,"div",[["class","header-body"]],null,null,null,null,null)),(t()(),Us(11,0,null,null,1,"p",[["class","subheader"]],null,null,null,null,null)),(t()(),Zs(-1,null,[" This first release contains the first few features in our list. We created a google sign-in module that allows users to come and create an account on HashMap. You can also setup your profile and link many accounts. "])),(t()(),Us(13,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(14,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Downloads"])),(t()(),Us(16,0,null,null,3,"a",[["class","btn btn-dark centerAlign"],["href","https://github.com/adamchlebek/HashMap"]],null,null,null,null,null)),(t()(),Us(17,0,null,null,1,"fa",[["name","github"]],null,null,null,cb,ub)),ui(18,114688,null,0,jv,[],{name:[0,"name"]},null),(t()(),Zs(-1,null,["Github Repo"])),(t()(),Us(20,0,null,null,3,"a",[["class","btn btn-primary centerAlign"],["href","https://docs.google.com/document/d/1rOCnP8MmkQxvYwYIxpsaDWo9ebqqTVXUBBjhqe-Ky3M/edit?usp=sharing"],["target","_blank"]],null,null,null,null,null)),(t()(),Us(21,0,null,null,1,"fa",[["name","link"]],null,null,null,cb,ub)),ui(22,114688,null,0,jv,[],{name:[0,"name"]},null),(t()(),Zs(-1,null,["Release 1 PDF"])),(t()(),Us(24,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(25,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Feature List"])),(t()(),Us(27,0,null,null,17,"div",[["class","container"]],null,null,null,null,null)),(t()(),Us(28,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(29,0,null,null,15,"div",[["class","col"]],null,null,null,null,null)),(t()(),Us(30,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(t()(),Us(31,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(32,0,null,null,3,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Us(33,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Release 1"])),(t()(),Zs(-1,null,[" (July 15th)"])),(t()(),Us(36,0,null,null,8,"ul",[],null,null,null,null,null)),(t()(),Us(37,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Google Sign-In and Account creation"])),(t()(),Us(39,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Profile Creation and Management"])),(t()(),Us(41,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Steam Linking and Game Linking"])),(t()(),Us(43,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Front end and menu created"])),(t()(),Us(45,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(46,16777216,null,null,39,"mat-tab",[["label","Release Two"]],null,null,null,Uv,Fv)),ui(47,770048,[[1,4]],2,Qf,[Nn],{textLabel:[0,"textLabel"]},null),$s(603979776,4,{templateLabel:0}),$s(335544320,5,{_explicitContent:0}),(t()(),Us(50,0,null,0,35,"div",[["class","header-body"]],null,null,null,null,null)),(t()(),Us(51,0,null,null,1,"p",[["class","subheader"]],null,null,null,null,null)),(t()(),Zs(-1,null,[" This second release contains the last features that are on our list. We created many different things to build off of our main idea of the network/friend searching area. We were not able to get the last feature on our list because the games that we were focused on the most did not have a public IP Address. "])),(t()(),Us(53,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(54,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Downloads"])),(t()(),Us(56,0,null,null,3,"a",[["class","btn btn-dark centerAlign"],["href","https://github.com/adamchlebek/HashMap"]],null,null,null,null,null)),(t()(),Us(57,0,null,null,1,"fa",[["name","github"]],null,null,null,cb,ub)),ui(58,114688,null,0,jv,[],{name:[0,"name"]},null),(t()(),Zs(-1,null,["Github Repo"])),(t()(),Us(60,0,null,null,3,"a",[["class","btn btn-primary centerAlign"],["href","https://docs.google.com/document/d/1k85L4X-fUFN9vPLFnxBBqA9dhoRVcB8h_Y9Bi72mP2k/edit?usp=sharing"],["target","_blank"]],null,null,null,null,null)),(t()(),Us(61,0,null,null,1,"fa",[["name","link"]],null,null,null,cb,ub)),ui(62,114688,null,0,jv,[],{name:[0,"name"]},null),(t()(),Zs(-1,null,["Release 2 PDF"])),(t()(),Us(64,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(65,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Feature List"])),(t()(),Us(67,0,null,null,17,"div",[["class","container"]],null,null,null,null,null)),(t()(),Us(68,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(69,0,null,null,15,"div",[["class","col"]],null,null,null,null,null)),(t()(),Us(70,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(t()(),Us(71,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(72,0,null,null,3,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Us(73,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Release 2"])),(t()(),Zs(-1,null,[" (July 31st)"])),(t()(),Us(76,0,null,null,8,"ul",[],null,null,null,null,null)),(t()(),Us(77,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Friend Matching Algorithm"])),(t()(),Us(79,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Add friends to List"])),(t()(),Us(81,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Search By Location"])),(t()(),Us(83,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Add search by rank with specific games"])),(t()(),Us(85,0,null,null,0,"hr",[],null,null,null,null,null))],function(t,e){t(e,7,0,"Release One"),t(e,18,0,"github"),t(e,22,0,"link"),t(e,47,0,"Release Two"),t(e,58,0,"github"),t(e,62,0,"link")},function(t,e){t(e,3,0,Yr(e,4).dynamicHeight,"below"===Yr(e,4).headerPosition)})}function fb(t){return eo(0,[(t()(),Us(0,0,null,null,1,"app-release-rubric",[],null,null,null,pb,db)),ui(1,114688,null,0,hb,[],null,null)],function(t,e){t(e,1,0)},null)}var mb=Ur("app-release-rubric",hb,fb,{},{},[]);class gb{constructor(t){this._elementRef=t}}const yb=Jp(tf(Zp(gb)),"primary"),vb=(()=>(class extends yb{constructor(t,e,n,r){super(t),this._elementRef=t,this._ngZone=e,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._selected=!1,this._selectable=!0,this._removable=!0,this._onFocus=new I,this._onBlur=new I,this.selectionChange=new Ii,this.destroyed=new Ii,this.removed=new Ii,this._addHostClassName(),this._chipRipple=new cf(this,e,t,n),this._chipRipple.setupTriggerEvents(t.nativeElement),this.rippleConfig=r||{}}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=sp(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return null!=this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=sp(t)}get removable(){return this._removable}set removable(t){this._removable=sp(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0))}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(kl(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}))(),bb=(()=>(class{constructor(t){this._parentChip=t}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}))(),_b=new Dt("mat-chips-default-options");class wb{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const Eb=ef(wb);let Sb=0;class Cb{constructor(t,e){this.source=t,this.value=e}}const Tb=(()=>(class extends Eb{constructor(t,e,n,r,i,s,o){super(s,r,i,o),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new I,this._uid=`mat-chip-list-${Sb++}`,this._tabIndex=0,this._userTabIndex=null,this._onTouched=(()=>{}),this._onChange=(()=>{}),this._multiple=!1,this._compareWith=((t,e)=>t===e),this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new Ii,this.valueChange=new Ii,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=sp(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=sp(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=sp(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=sp(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Z(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Z(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Z(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Z(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new Up(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(qf(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(qf(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Fl(null),qf(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new vv(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(),this.stateChanges.next()))}_focusInput(){this._chipInput&&this._chipInput.focus()}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(36===t.keyCode?(this._keyManager.setFirstItemActive(),t.preventDefault()):35===t.keyCode?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new Cb(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItemIndex(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t.disabled=this._disabled,t._chipListMultiple=this.multiple})}}))();let xb=0;const Ib=(()=>(class{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new Ii,this.placeholder="",this.id=`mat-chip-list-input-${xb++}`,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=sp(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=sp(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&t.keyCode===mp&&!Ip(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(){this._inputElement.focus()}_isSeparatorKey(t){if(Ip(t))return!1;const e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}}))(),kb=(()=>(class{}))();class Ab{}function Db(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let Ob=0;class Nb{constructor(t){this._elementRef=t}}const Rb=Jp(Nb,"primary"),Pb=new Dt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Mb=(()=>(class extends Rb{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new I,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${Ob++}`,this._labelId=`mat-form-field-label-${Ob++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy"}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=sp(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Fl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(qf(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(qf(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Fl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Fl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(qf(this._destroyed)).subscribe(()=>this.updateOutlineGap())}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,xf(this._label.nativeElement,"transitionend").pipe(kl(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Db("start");t=n}else if("end"===n.align){if(e)throw Db("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=o-s-5,n=a>0?.75*a+10:0}for(let o=0;o<i.length;o++)i.item(o).style.width=`${e}px`;for(let o=0;o<s.length;o++)s.item(o).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}))(),Lb=(()=>(class{}))();function Fb(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?Xa:e?Fb(t).pipe(q(t=>e(...t))):new w(e=>new Vb(e,t))}class Vb extends j{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=B(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const Ub=new Dt("NgValueAccessor"),Bb=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),jb=new Dt("CompositionEventMode"),qb=(()=>(class{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Wl()?Wl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}))();class zb{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class $b extends zb{get formDirective(){return null}get path(){return null}}function Hb(){throw new Error("unimplemented")}class Wb extends zb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Hb()}get asyncValidator(){return Hb()}}class Gb{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const Kb=(()=>(class extends Gb{constructor(t){super(t)}}))(),Qb=(()=>(class extends Gb{constructor(t){super(t)}}))();function Yb(t){return null==t||0===t.length}const Xb=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Zb{static min(t){return e=>{if(Yb(e.value)||Yb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Yb(e.value)||Yb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Yb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Yb(t.value)?null:Xb.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Yb(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Zb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Yb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Jb);return 0==e.length?null:function(t){return e_(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(Jb);return 0==e.length?null:function(t){return Fb(function(t,n){return e.map(e=>e(t))}(t).map(t_)).pipe(q(e_))}}}function Jb(t){return null!=t}function t_(t){const e=Me(t)?W(t):t;if(!Le(e))throw new Error("Expected validator to return Promise or Observable.");return e}function e_(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function n_(t){return t.validate?e=>t.validate(e):t}function r_(t){return t.validate?e=>t.validate(e):t}const i_=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),s_=(()=>(class{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}))(),o_=(()=>(class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(Wb),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=(()=>{t(this.value),this._registry.select(this)})}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}))(),a_=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}))(),l_={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class u_{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${l_.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${l_.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${l_.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${l_.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${l_.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${l_.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function c_(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}const h_=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=Ue}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=c_(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=(e=>{this.value=this._getOptionValue(e),t(this.value)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}))(),d_=(()=>(class{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(c_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();function p_(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}const f_=(()=>(class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=Ue}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=((t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)})}else e=((t,e)=>{t._setSelected(!1)});this._optionMap.forEach(e)}registerOnChange(t){this.onChange=(e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}))(),m_=(()=>(class{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(p_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(p_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();function g_(t,e){return[...e.path,t]}function y_(t,e){t||w_(e,"Cannot find control with"),e.valueAccessor||w_(e,"No value accessor for form control with"),t.validator=Zb.compose([t.validator,e.validator]),t.asyncValidator=Zb.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&v_(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&v_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function v_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function b_(t,e){null==t&&w_(e,"Cannot find control with"),t.validator=Zb.compose([t.validator,e.validator]),t.asyncValidator=Zb.composeAsync([t.asyncValidator,e.asyncValidator])}function __(t){return w_(t,"There is no FormControl instance attached to form control element with")}function w_(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function E_(t){return null!=t?Zb.compose(t.map(n_)):null}function S_(t){return null!=t?Zb.composeAsync(t.map(r_)):null}function C_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ue(e,n.currentValue)}const T_=[Bb,a_,i_,h_,f_,o_];function x_(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function I_(t,e){if(!e)return null;Array.isArray(e)||w_(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===qb?n=e:function(t){return T_.some(e=>t.constructor===e)}(e)?(r&&w_(t,"More than one built-in value accessor matches form control with"),r=e):(i&&w_(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(w_(t,"No valid value accessor for form control with"),null)}function k_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const A_="VALID",D_="INVALID",O_="PENDING",N_="DISABLED";function R_(t){const e=M_(t)?t.validators:t;return Array.isArray(e)?E_(e):e||null}function P_(t,e){const n=M_(e)?e.asyncValidators:t;return Array.isArray(n)?S_(n):n||null}function M_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class L_{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===A_}get invalid(){return this.status===D_}get pending(){return this.status==O_}get disabled(){return this.status===N_}get enabled(){return this.status!==N_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=R_(t)}setAsyncValidators(t){this.asyncValidator=P_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=O_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=N_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=A_,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==A_&&this.status!==O_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?N_:A_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=O_;const e=t_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof V_?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof U_&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ii,this.statusChanges=new Ii}_calculateStatus(){return this._allControlsDisabled()?N_:this.errors?D_:this._anyControlsHaveStatus(O_)?O_:this._anyControlsHaveStatus(D_)?D_:A_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){M_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class F_ extends L_{constructor(t=null,e,n){super(R_(e),P_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class V_ extends L_{constructor(t,e,n){super(R_(e),P_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof F_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class U_ extends L_{constructor(t,e,n){super(R_(e),P_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof F_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const B_=(()=>Promise.resolve(null))(),j_=(()=>(class extends $b{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ii,this.form=new V_({},E_(t),S_(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){B_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),y_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){B_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),k_(this._directives,t)})}addFormGroup(t){B_.then(()=>{const e=this._findContainer(t.path),n=new V_({});b_(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){B_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){B_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,x_(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}))();class q_{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${l_.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${l_.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${l_.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${l_.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${l_.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${l_.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const z_=new Dt("NgFormSelectorWarning");class $_ extends $b{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return g_(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return E_(this._validators)}get asyncValidator(){return S_(this._asyncValidators)}_checkParentType(){}}const H_=(()=>{class t extends $_{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof j_||q_.modelGroupParentException()}}return t})(),W_=(()=>Promise.resolve(null))(),G_=(()=>(class extends Wb{constructor(t,e,n,r){super(),this.control=new F_,this._registered=!1,this.update=new Ii,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=I_(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),C_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?g_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return E_(this._rawValidators)}get asyncValidator(){return S_(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){y_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof H_)&&this._parent instanceof $_?q_.formGroupNameException():this._parent instanceof H_||this._parent instanceof j_||q_.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||q_.missingNameException()}_updateValue(t){W_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;W_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}))(),K_=(()=>(class{}))(),Q_=new Dt("NgModelWithFormControlWarning"),Y_=(()=>{class t extends Wb{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new Ii,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=I_(this,n)}set isDisabled(t){u_.disabledAttrWarning()}ngOnChanges(e){var n,r;this._isControlChanged(e)&&(y_(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),C_(e,this.viewModel)&&("formControl",n=t,this,r=this._ngModelWarningConfig,ae()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(u_.ngModelWarning("formControl"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return E_(this._rawValidators)}get asyncValidator(){return S_(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t})(),X_=(()=>(class extends $b{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ii}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return y_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){k_(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);b_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);b_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,x_(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>__(e)),e.valueAccessor.registerOnTouched(()=>__(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&y_(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=E_(this._validators);this.form.validator=Zb.compose([this.form.validator,t]);const e=S_(this._asyncValidators);this.form.asyncValidator=Zb.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||u_.missingFormException()}}))(),Z_=(()=>(class{}))(),J_=(()=>(class{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new V_(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new F_(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new U_(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof F_||t instanceof V_||t instanceof U_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}))(),tw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:z_,useValue:e.warnOnDeprecatedNgFormSelector}]}}}return t})(),ew=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Q_,useValue:e.warnOnNgModelWithFormControl}]}}}return t})();var nw=Xn({encapsulation:2,styles:[".mat-chip{position:relative;overflow:hidden;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:'';pointer-events:none;transition:opacity .2s cubic-bezier(.35,0,.25,1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:0}.mat-standard-chip:focus::after{opacity:.16}@media (-ms-high-contrast:active){.mat-standard-chip{outline:solid 1px}.mat-standard-chip:focus{outline:dotted 2px}}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper .mat-standard-chip,.mat-chip-list-wrapper input.mat-input-element{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}"],data:{}});function rw(t){return eo(2,[(t()(),Us(0,0,null,null,1,"div",[["class","mat-chip-list-wrapper"]],null,null,null,null,null)),Qs(null,0)],null,null)}var iw="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,sw="undefined"==typeof window?{document:iw,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window;class ow{constructor(t){const e=this;for(let n=0;n<t.length;n+=1)e[n]=t[n];return e.length=t.length,this}}function aw(t,e){const n=[];let r=0;if(t&&!e&&t instanceof ow)return t;if(t)if("string"==typeof t){let i,s;const o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){let t="div";for(0===o.indexOf("<li")&&(t="ul"),0===o.indexOf("<tr")&&(t="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(t="tr"),0===o.indexOf("<tbody")&&(t="table"),0===o.indexOf("<option")&&(t="select"),(s=iw.createElement(t)).innerHTML=o,r=0;r<s.childNodes.length;r+=1)n.push(s.childNodes[r])}else for(i=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||iw).querySelectorAll(t.trim()):[iw.getElementById(t.trim().split("#")[1])],r=0;r<i.length;r+=1)i[r]&&n.push(i[r])}else if(t.nodeType||t===sw||t===iw)n.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r+=1)n.push(t[r]);return new ow(n)}function lw(t){const e=[];for(let n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}aw.fn=ow.prototype,aw.Class=ow,aw.Dom7=ow,"resize scroll".split(" ");const uw={addClass:function(t){if(void 0===t)return this;const e=t.split(" ");for(let n=0;n<e.length;n+=1)for(let t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.add(e[n]);return this},removeClass:function(t){const e=t.split(" ");for(let n=0;n<e.length;n+=1)for(let t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.remove(e[n]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){const e=t.split(" ");for(let n=0;n<e.length;n+=1)for(let t=0;t<this.length;t+=1)void 0!==this[t]&&void 0!==this[t].classList&&this[t].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(const e in t)this[n][e]=t[e],this[n].setAttribute(e,t[e]);return this},removeAttr:function(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},data:function(t,e){let n;if(void 0!==e){for(let r=0;r<this.length;r+=1)(n=this[r]).dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[t]=e;return this}if(n=this[0])return n.dom7ElementDataStorage&&t in n.dom7ElementDataStorage?n.dom7ElementDataStorage[t]:n.getAttribute(`data-${t}`)||void 0},transform:function(t){for(let e=0;e<this.length;e+=1){const n=this[e].style;n.webkitTransform=t,n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t=`${t}ms`);for(let e=0;e<this.length;e+=1){const n=this[e].style;n.webkitTransitionDuration=t,n.transitionDuration=t}return this},on:function(...t){let[e,n,r,i]=t;function s(t){const e=t.target;if(!e)return;const i=t.target.dom7EventData||[];if(i.indexOf(t)<0&&i.unshift(t),aw(e).is(n))r.apply(e,i);else{const t=aw(e).parents();for(let e=0;e<t.length;e+=1)aw(t[e]).is(n)&&r.apply(t[e],i)}}function o(t){const e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),r.apply(this,e)}"function"==typeof t[1]&&([e,r,i]=t,n=void 0),i||(i=!1);const a=e.split(" ");let l;for(let u=0;u<this.length;u+=1){const t=this[u];if(n)for(l=0;l<a.length;l+=1){const e=a[l];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:r,proxyListener:s}),t.addEventListener(e,s,i)}else for(l=0;l<a.length;l+=1){const e=a[l];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:r,proxyListener:o}),t.addEventListener(e,o,i)}}return this},off:function(...t){let[e,n,r,i]=t;"function"==typeof t[1]&&([e,r,i]=t,n=void 0),i||(i=!1);const s=e.split(" ");for(let o=0;o<s.length;o+=1){const t=s[o];for(let e=0;e<this.length;e+=1){const s=this[e];let o;if(!n&&s.dom7Listeners?o=s.dom7Listeners[t]:n&&s.dom7LiveListeners&&(o=s.dom7LiveListeners[t]),o&&o.length)for(let e=o.length-1;e>=0;e-=1){const n=o[e];r&&n.listener===r?(s.removeEventListener(t,n.proxyListener,i),o.splice(e,1)):r&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===r?(s.removeEventListener(t,n.proxyListener,i),o.splice(e,1)):r||(s.removeEventListener(t,n.proxyListener,i),o.splice(e,1))}}}return this},trigger:function(...t){const e=t[0].split(" "),n=t[1];for(let i=0;i<e.length;i+=1){const s=e[i];for(let e=0;e<this.length;e+=1){const i=this[e];let o;try{o=new sw.CustomEvent(s,{detail:n,bubbles:!0,cancelable:!0})}catch(r){(o=iw.createEvent("Event")).initEvent(s,!0,!0),o.detail=n}i.dom7EventData=t.filter((t,e)=>e>0),i.dispatchEvent(o),i.dom7EventData=[],delete i.dom7EventData}}return this},transitionEnd:function(t){const e=["webkitTransitionEnd","transitionend"],n=this;let r;function i(s){if(s.target===this)for(t.call(this,s),r=0;r<e.length;r+=1)n.off(e[r],i)}if(t)for(r=0;r<e.length;r+=1)n.on(e[r],i);return this},outerWidth:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){const t=this[0],e=t.getBoundingClientRect(),n=iw.body;return{top:e.top+(t===sw?sw.scrollY:t.scrollTop)-(t.clientTop||n.clientTop||0),left:e.left+(t===sw?sw.scrollX:t.scrollLeft)-(t.clientLeft||n.clientLeft||0)}}return null},css:function(t,e){let n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(let e in t)this[n].style[e]=t[e];return this}if(this[0])return sw.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},each:function(t){if(!t)return this;for(let e=0;e<this.length;e+=1)if(!1===t.call(this[e],e,this[e]))return this;return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){const e=this[0];let n,r;if(!e||void 0===t)return!1;if("string"==typeof t){if(e.matches)return e.matches(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);for(n=aw(t),r=0;r<n.length;r+=1)if(n[r]===e)return!0;return!1}if(t===iw)return e===iw;if(t===sw)return e===sw;if(t.nodeType||t instanceof ow){for(n=t.nodeType?[t]:t,r=0;r<n.length;r+=1)if(n[r]===e)return!0;return!1}return!1},index:function(){let t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;const e=this.length;let n;return new ow(t>e-1?[]:t<0?(n=e+t)<0?[]:[this[n]]:[this[t]])},append:function(...t){let e;for(let n=0;n<t.length;n+=1){e=t[n];for(let t=0;t<this.length;t+=1)if("string"==typeof e){const n=iw.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof ow)for(let n=0;n<e.length;n+=1)this[t].appendChild(e[n]);else this[t].appendChild(e)}return this},prepend:function(t){let e,n;for(e=0;e<this.length;e+=1)if("string"==typeof t){const r=iw.createElement("div");for(r.innerHTML=t,n=r.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(r.childNodes[n],this[e].childNodes[0])}else if(t instanceof ow)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&aw(this[0].nextElementSibling).is(t)?new ow([this[0].nextElementSibling]):new ow([]):new ow(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):new ow([])},nextAll:function(t){const e=[];let n=this[0];if(!n)return new ow([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?aw(r).is(t)&&e.push(r):e.push(r),n=r}return new ow(e)},prev:function(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&aw(e.previousElementSibling).is(t)?new ow([e.previousElementSibling]):new ow([]):new ow(e.previousElementSibling?[e.previousElementSibling]:[])}return new ow([])},prevAll:function(t){const e=[];let n=this[0];if(!n)return new ow([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?aw(r).is(t)&&e.push(r):e.push(r),n=r}return new ow(e)},parent:function(t){const e=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?aw(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return aw(lw(e))},parents:function(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?aw(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return aw(lw(e))},closest:function(t){let e=this;return void 0===t?new ow([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let t=0;t<r.length;t+=1)e.push(r[t])}return new ow(e)},children:function(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].childNodes;for(let n=0;n<r.length;n+=1)t?1===r[n].nodeType&&aw(r[n]).is(t)&&e.push(r[n]):1===r[n].nodeType&&e.push(r[n])}return new ow(lw(e))},remove:function(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(...t){const e=this;let n,r;for(n=0;n<t.length;n+=1){const i=aw(t[n]);for(r=0;r<i.length;r+=1)e[e.length]=i[r],e.length+=1}return e},styles:function(){return this[0]?sw.getComputedStyle(this[0],null):{}}};Object.keys(uw).forEach(t=>{aw.fn[t]=uw[t]});const cw={deleteProps(t){const e=t;Object.keys(e).forEach(t=>{try{e[t]=null}catch(n){}try{delete e[t]}catch(n){}})},nextTick:(t,e=0)=>setTimeout(t,e),now:()=>Date.now(),getTranslate(t,e="x"){let n,r,i;const s=sw.getComputedStyle(t,null);return sw.WebKitCSSMatrix?((r=s.transform||s.webkitTransform).split(",").length>6&&(r=r.split(", ").map(t=>t.replace(",",".")).join(", ")),i=new sw.WebKitCSSMatrix("none"===r?"":r)):n=(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=sw.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=sw.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0},parseUrlQuery(t){const e={};let n,r,i,s,o=t||sw.location.href;if("string"==typeof o&&o.length)for(s=(r=(o=o.indexOf("?")>-1?o.replace(/\S*\?/,""):"").split("&").filter(t=>""!==t)).length,n=0;n<s;n+=1)i=r[n].replace(/#\S+/g,"").split("="),e[decodeURIComponent(i[0])]=void 0===i[1]?void 0:decodeURIComponent(i[1])||"";return e},isObject:t=>"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object,extend(...t){const e=Object(t[0]);for(let n=1;n<t.length;n+=1){const r=t[n];if(null!=r){const t=Object.keys(Object(r));for(let n=0,i=t.length;n<i;n+=1){const i=t[n],s=Object.getOwnPropertyDescriptor(r,i);void 0!==s&&s.enumerable&&(cw.isObject(e[i])&&cw.isObject(r[i])?cw.extend(e[i],r[i]):!cw.isObject(e[i])&&cw.isObject(r[i])?(e[i]={},cw.extend(e[i],r[i])):e[i]=r[i])}}}return e}},hw=function(){const t=iw.createElement("div");return{touch:sw.Modernizr&&!0===sw.Modernizr.touch||!!(sw.navigator.maxTouchPoints>0||"ontouchstart"in sw||sw.DocumentTouch&&iw instanceof sw.DocumentTouch),pointerEvents:!!(sw.navigator.pointerEnabled||sw.PointerEvent||"maxTouchPoints"in sw.navigator&&sw.navigator.maxTouchPoints>0),prefixedPointerEvents:!!sw.navigator.msPointerEnabled,transition:function(){const e=t.style;return"transition"in e||"webkitTransition"in e||"MozTransition"in e}(),transforms3d:sw.Modernizr&&!0===sw.Modernizr.csstransforms3d||function(){const e=t.style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){const e=t.style,n="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(let t=0;t<n.length;t+=1)if(n[t]in e)return!0;return!1}(),observer:"MutationObserver"in sw||"WebkitMutationObserver"in sw,passiveListener:function(){let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});sw.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),gestures:"ongesturestart"in sw}}(),dw={isIE:!!sw.navigator.userAgent.match(/Trident/g)||!!sw.navigator.userAgent.match(/MSIE/g),isEdge:!!sw.navigator.userAgent.match(/Edge/g),isSafari:function(){const t=sw.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(sw.navigator.userAgent)};class pw{constructor(t={}){const e=this;e.params=t,e.eventsListeners={},e.params&&e.params.on&&Object.keys(e.params.on).forEach(t=>{e.on(t,e.params.on[t])})}on(t,e,n){const r=this;if("function"!=typeof e)return r;const i=n?"unshift":"push";return t.split(" ").forEach(t=>{r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)}),r}once(t,e,n){const r=this;if("function"!=typeof e)return r;function i(...n){e.apply(r,n),r.off(t,i),i.f7proxy&&delete i.f7proxy}return i.f7proxy=e,r.on(t,i,n)}off(t,e){const n=this;return n.eventsListeners?(t.split(" ").forEach(t=>{void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].length&&n.eventsListeners[t].forEach((r,i)=>{(r===e||r.f7proxy&&r.f7proxy===e)&&n.eventsListeners[t].splice(i,1)})}),n):n}emit(...t){const e=this;if(!e.eventsListeners)return e;let n,r,i;return"string"==typeof t[0]||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),(Array.isArray(n)?n:n.split(" ")).forEach(t=>{if(e.eventsListeners&&e.eventsListeners[t]){const n=[];e.eventsListeners[t].forEach(t=>{n.push(t)}),n.forEach(t=>{t.apply(i,r)})}}),e}useModulesParams(t){const e=this;e.modules&&Object.keys(e.modules).forEach(n=>{const r=e.modules[n];r.params&&cw.extend(t,r.params)})}useModules(t={}){const e=this;e.modules&&Object.keys(e.modules).forEach(n=>{const r=e.modules[n],i=t[n]||{};r.instance&&Object.keys(r.instance).forEach(t=>{const n=r.instance[t];e[t]="function"==typeof n?n.bind(e):n}),r.on&&e.on&&Object.keys(r.on).forEach(t=>{e.on(t,r.on[t])}),r.create&&r.create.bind(e)(i)})}static set components(t){this.use&&this.use(t)}static installModule(t,...e){const n=this;n.prototype.modules||(n.prototype.modules={});const r=t.name||`${Object.keys(n.prototype.modules).length}_${cw.now()}`;return n.prototype.modules[r]=t,t.proto&&Object.keys(t.proto).forEach(e=>{n.prototype[e]=t.proto[e]}),t.static&&Object.keys(t.static).forEach(e=>{n[e]=t.static[e]}),t.install&&t.install.apply(n,e),n}static use(t,...e){const n=this;return Array.isArray(t)?(t.forEach(t=>n.installModule(t)),n):n.installModule(t,...e)}}var fw={updateSize:function(){let t,e;const n=this.$el;e=void 0!==this.params.height?this.params.height:n[0].clientHeight,0===(t=void 0!==this.params.width?this.params.width:n[0].clientWidth)&&this.isHorizontal()||0===e&&this.isVertical()||(t=t-parseInt(n.css("padding-left"),10)-parseInt(n.css("padding-right"),10),e=e-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10),cw.extend(this,{width:t,height:e,size:this.isHorizontal()?t:e}))},updateSlides:function(){const t=this,e=t.params,{$wrapperEl:n,size:r,rtlTranslate:i,wrongRTL:s}=t,o=t.virtual&&e.virtual.enabled,a=o?t.virtual.slides.length:t.slides.length,l=n.children(`.${t.params.slideClass}`),u=o?t.virtual.slides.length:l.length;let c=[];const h=[],d=[];let p=e.slidesOffsetBefore;"function"==typeof p&&(p=e.slidesOffsetBefore.call(t));let f=e.slidesOffsetAfter;"function"==typeof f&&(f=e.slidesOffsetAfter.call(t));const m=t.snapGrid.length,g=t.snapGrid.length;let y,v,b=e.spaceBetween,_=-p,w=0,E=0;if(void 0===r)return;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*r),t.virtualSize=-b,l.css(i?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),e.slidesPerColumn>1&&(y=Math.floor(u/e.slidesPerColumn)===u/t.params.slidesPerColumn?u:Math.ceil(u/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(y=Math.max(y,e.slidesPerView*e.slidesPerColumn)));const S=e.slidesPerColumn,C=y/S,T=Math.floor(u/e.slidesPerColumn);for(let I=0;I<u;I+=1){v=0;const n=l.eq(I);if(e.slidesPerColumn>1){let r,i,s;"column"===e.slidesPerColumnFill?(s=I-(i=Math.floor(I/S))*S,(i>T||i===T&&s===S-1)&&(s+=1)>=S&&(s=0,i+=1),n.css({"-webkit-box-ordinal-group":r=i+s*y/S,"-moz-box-ordinal-group":r,"-ms-flex-order":r,"-webkit-order":r,order:r})):i=I-(s=Math.floor(I/C))*C,n.css(`margin-${t.isHorizontal()?"top":"left"}`,0!==s&&e.spaceBetween&&`${e.spaceBetween}px`).attr("data-swiper-column",i).attr("data-swiper-row",s)}if("none"!==n.css("display")){if("auto"===e.slidesPerView){const r=sw.getComputedStyle(n[0],null),i=n[0].style.transform,s=n[0].style.webkitTransform;if(i&&(n[0].style.transform="none"),s&&(n[0].style.webkitTransform="none"),e.roundLengths)v=t.isHorizontal()?n.outerWidth(!0):n.outerHeight(!0);else if(t.isHorizontal()){const t=parseFloat(r.getPropertyValue("width")),e=parseFloat(r.getPropertyValue("padding-left")),n=parseFloat(r.getPropertyValue("padding-right")),i=parseFloat(r.getPropertyValue("margin-left")),s=parseFloat(r.getPropertyValue("margin-right")),o=r.getPropertyValue("box-sizing");v=o&&"border-box"===o?t+i+s:t+e+n+i+s}else{const t=parseFloat(r.getPropertyValue("height")),e=parseFloat(r.getPropertyValue("padding-top")),n=parseFloat(r.getPropertyValue("padding-bottom")),i=parseFloat(r.getPropertyValue("margin-top")),s=parseFloat(r.getPropertyValue("margin-bottom")),o=r.getPropertyValue("box-sizing");v=o&&"border-box"===o?t+i+s:t+e+n+i+s}i&&(n[0].style.transform=i),s&&(n[0].style.webkitTransform=s),e.roundLengths&&(v=Math.floor(v))}else v=(r-(e.slidesPerView-1)*b)/e.slidesPerView,e.roundLengths&&(v=Math.floor(v)),l[I]&&(t.isHorizontal()?l[I].style.width=`${v}px`:l[I].style.height=`${v}px`);l[I]&&(l[I].swiperSlideSize=v),d.push(v),e.centeredSlides?(_=_+v/2+w/2+b,0===w&&0!==I&&(_=_-r/2-b),0===I&&(_=_-r/2-b),Math.abs(_)<.001&&(_=0),e.roundLengths&&(_=Math.floor(_)),E%e.slidesPerGroup==0&&c.push(_),h.push(_)):(e.roundLengths&&(_=Math.floor(_)),E%e.slidesPerGroup==0&&c.push(_),h.push(_),_=_+v+b),t.virtualSize+=v+b,w=v,E+=1}}let x;if(t.virtualSize=Math.max(t.virtualSize,r)+f,i&&s&&("slide"===e.effect||"coverflow"===e.effect)&&n.css({width:`${t.virtualSize+e.spaceBetween}px`}),hw.flexbox&&!e.setWrapperSize||(t.isHorizontal()?n.css({width:`${t.virtualSize+e.spaceBetween}px`}):n.css({height:`${t.virtualSize+e.spaceBetween}px`})),e.slidesPerColumn>1&&(t.virtualSize=(v+e.spaceBetween)*y,t.virtualSize=Math.ceil(t.virtualSize/e.slidesPerColumn)-e.spaceBetween,t.isHorizontal()?n.css({width:`${t.virtualSize+e.spaceBetween}px`}):n.css({height:`${t.virtualSize+e.spaceBetween}px`}),e.centeredSlides)){x=[];for(let n=0;n<c.length;n+=1){let r=c[n];e.roundLengths&&(r=Math.floor(r)),c[n]<t.virtualSize+c[0]&&x.push(r)}c=x}if(!e.centeredSlides){x=[];for(let n=0;n<c.length;n+=1){let i=c[n];e.roundLengths&&(i=Math.floor(i)),c[n]<=t.virtualSize-r&&x.push(i)}c=x,Math.floor(t.virtualSize-r)-Math.floor(c[c.length-1])>1&&c.push(t.virtualSize-r)}if(0===c.length&&(c=[0]),0!==e.spaceBetween&&(t.isHorizontal()?l.css(i?{marginLeft:`${b}px`}:{marginRight:`${b}px`}):l.css({marginBottom:`${b}px`})),e.centerInsufficientSlides){let t=0;if(d.forEach(n=>{t+=n+(e.spaceBetween?e.spaceBetween:0)}),(t-=e.spaceBetween)<r){const e=(r-t)/2;c.forEach((t,n)=>{c[n]=t-e}),h.forEach((t,n)=>{h[n]=t+e})}}cw.extend(t,{slides:l,snapGrid:c,slidesGrid:h,slidesSizesGrid:d}),u!==a&&t.emit("slidesLengthChange"),c.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==g&&t.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&t.updateSlidesOffset()},updateAutoHeight:function(t){const e=this,n=[];let r,i=0;if("number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed),"auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const t=e.activeIndex+r;if(t>e.slides.length)break;n.push(e.slides.eq(t)[0])}else n.push(e.slides.eq(e.activeIndex)[0]);for(r=0;r<n.length;r+=1)if(void 0!==n[r]){const t=n[r].offsetHeight;i=t>i?t:i}i&&e.$wrapperEl.css("height",`${i}px`)},updateSlidesOffset:function(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop},updateSlidesProgress:function(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i}=e;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&e.updateSlidesOffset();let s=-t;i&&(s=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let o=0;o<r.length;o+=1){const t=r[o],a=(s+(n.centeredSlides?e.minTranslate():0)-t.swiperSlideOffset)/(t.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility){const i=-(s-t.swiperSlideOffset),a=i+e.slidesSizesGrid[o];(i>=0&&i<e.size||a>0&&a<=e.size||i<=0&&a>=e.size)&&(e.visibleSlides.push(t),e.visibleSlidesIndexes.push(o),r.eq(o).addClass(n.slideVisibleClass))}t.progress=i?-a:a}e.visibleSlides=aw(e.visibleSlides)},updateProgress:function(t=this&&this.translate||0){const e=this.params,n=this.maxTranslate()-this.minTranslate();let{progress:r,isBeginning:i,isEnd:s}=this;const o=i,a=s;0===n?(r=0,i=!0,s=!0):(i=(r=(t-this.minTranslate())/n)<=0,s=r>=1),cw.extend(this,{progress:r,isBeginning:i,isEnd:s}),(e.watchSlidesProgress||e.watchSlidesVisibility)&&this.updateSlidesProgress(t),i&&!o&&this.emit("reachBeginning toEdge"),s&&!a&&this.emit("reachEnd toEdge"),(o&&!i||a&&!s)&&this.emit("fromEdge"),this.emit("progress",r)},updateSlidesClasses:function(){const{slides:t,params:e,$wrapperEl:n,activeIndex:r,realIndex:i}=this,s=this.virtual&&e.virtual.enabled;let o;t.removeClass(`${e.slideActiveClass} ${e.slideNextClass} ${e.slidePrevClass} ${e.slideDuplicateActiveClass} ${e.slideDuplicateNextClass} ${e.slideDuplicatePrevClass}`),(o=s?this.$wrapperEl.find(`.${e.slideClass}[data-swiper-slide-index="${r}"]`):t.eq(r)).addClass(e.slideActiveClass),e.loop&&(o.hasClass(e.slideDuplicateClass)?n.children(`.${e.slideClass}:not(.${e.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(e.slideDuplicateActiveClass):n.children(`.${e.slideClass}.${e.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(e.slideDuplicateActiveClass));let a=o.nextAll(`.${e.slideClass}`).eq(0).addClass(e.slideNextClass);e.loop&&0===a.length&&(a=t.eq(0)).addClass(e.slideNextClass);let l=o.prevAll(`.${e.slideClass}`).eq(0).addClass(e.slidePrevClass);e.loop&&0===l.length&&(l=t.eq(-1)).addClass(e.slidePrevClass),e.loop&&(a.hasClass(e.slideDuplicateClass)?n.children(`.${e.slideClass}:not(.${e.slideDuplicateClass})[data-swiper-slide-index="${a.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicateNextClass):n.children(`.${e.slideClass}.${e.slideDuplicateClass}[data-swiper-slide-index="${a.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicateNextClass),l.hasClass(e.slideDuplicateClass)?n.children(`.${e.slideClass}:not(.${e.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicatePrevClass):n.children(`.${e.slideClass}.${e.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(e.slideDuplicatePrevClass))},updateActiveIndex:function(t){const e=this.rtlTranslate?this.translate:-this.translate,{slidesGrid:n,snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=this;let l,u=t;if(void 0===u){for(let t=0;t<n.length;t+=1)void 0!==n[t+1]?e>=n[t]&&e<n[t+1]-(n[t+1]-n[t])/2?u=t:e>=n[t]&&e<n[t+1]&&(u=t+1):e>=n[t]&&(u=t);i.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if((l=r.indexOf(e)>=0?r.indexOf(e):Math.floor(u/i.slidesPerGroup))>=r.length&&(l=r.length-1),u===s)return void(l!==a&&(this.snapIndex=l,this.emit("snapIndexChange")));const c=parseInt(this.slides.eq(u).attr("data-swiper-slide-index")||u,10);cw.extend(this,{snapIndex:l,realIndex:c,previousIndex:s,activeIndex:u}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),o!==c&&this.emit("realIndexChange"),this.emit("slideChange")},updateClickedSlide:function(t){const e=this,n=e.params,r=aw(t.target).closest(`.${n.slideClass}`)[0];let i=!1;if(r)for(let s=0;s<e.slides.length;s+=1)e.slides[s]===r&&(i=!0);if(!r||!i)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(aw(r).attr("data-swiper-slide-index"),10):aw(r).index(),n.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},mw={getTranslate:function(t=(this.isHorizontal()?"x":"y")){const{params:e,rtlTranslate:n,translate:r,$wrapperEl:i}=this;if(e.virtualTranslate)return n?-r:r;let s=cw.getTranslate(i[0],t);return n&&(s=-s),s||0},setTranslate:function(t,e){const{rtlTranslate:n,params:r,$wrapperEl:i,progress:s}=this;let o,a=0,l=0;this.isHorizontal()?a=n?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),r.virtualTranslate||i.transform(hw.transforms3d?`translate3d(${a}px, ${l}px, 0px)`:`translate(${a}px, ${l}px)`),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?a:l;const u=this.maxTranslate()-this.minTranslate();(o=0===u?0:(t-this.minTranslate())/u)!==s&&this.updateProgress(t),this.emit("setTranslate",this.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},gw={slideTo:function(t=0,e=this.params.speed,n=!0,r){const i=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:a,slidesGrid:l,previousIndex:u,activeIndex:c,rtlTranslate:h}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;let d=Math.floor(s/o.slidesPerGroup);d>=a.length&&(d=a.length-1),(c||o.initialSlide||0)===(u||0)&&n&&i.emit("beforeSlideChangeStart");const p=-a[d];if(i.updateProgress(p),o.normalizeSlideIndex)for(let m=0;m<l.length;m+=1)-Math.floor(100*p)>=Math.floor(100*l[m])&&(s=m);if(i.initialized&&s!==c){if(!i.allowSlideNext&&p<i.translate&&p<i.minTranslate())return!1;if(!i.allowSlidePrev&&p>i.translate&&p>i.maxTranslate()&&(c||0)!==s)return!1}let f;return f=s>c?"next":s<c?"prev":"reset",h&&-p===i.translate||!h&&p===i.translate?(i.updateActiveIndex(s),o.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==o.effect&&i.setTranslate(p),"reset"!==f&&(i.transitionStart(n,f),i.transitionEnd(n,f)),!1):(0!==e&&hw.transition?(i.setTransition(e),i.setTranslate(p),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,f),i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(t){i&&!i.destroyed&&t.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,f))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd))):(i.setTransition(0),i.setTranslate(p),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,f),i.transitionEnd(n,f)),!0)},slideToLoop:function(t=0,e=this.params.speed,n=!0,r){let i=t;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,e,n,r)},slideNext:function(t=this.params.speed,e=!0,n){const{params:r,animating:i}=this;return r.loop?!i&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+r.slidesPerGroup,t,e,n)):this.slideTo(this.activeIndex+r.slidesPerGroup,t,e,n)},slidePrev:function(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:s,snapGrid:o,slidesGrid:a,rtlTranslate:l}=r;if(i.loop){if(s)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const c=u(l?r.translate:-r.translate),h=o.map(t=>u(t)),d=(a.map(t=>u(t)),h.indexOf(c),o[h.indexOf(c)-1]);let p;return void 0!==d&&(p=a.indexOf(d))<0&&(p=r.activeIndex-1),r.slideTo(p,t,e,n)},slideReset:function(t=this.params.speed,e=!0,n){return this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t=this.params.speed,e=!0,n){const r=this;let i=r.activeIndex;const s=Math.floor(i/r.params.slidesPerGroup);if(s<r.snapGrid.length-1){const t=r.snapGrid[s];(r.rtlTranslate?r.translate:-r.translate)-t>(r.snapGrid[s+1]-t)/2&&(i=r.params.slidesPerGroup)}return r.slideTo(i,t,e,n)},slideToClickedSlide:function(){const t=this,{params:e,$wrapperEl:n}=t,r="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let i,s=t.clickedIndex;if(e.loop){if(t.animating)return;i=parseInt(aw(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),cw.nextTick(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),cw.nextTick(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}},yw={loopCreate:function(){const t=this,{params:e,$wrapperEl:n}=t;n.children(`.${e.slideClass}.${e.slideDuplicateClass}`).remove();let r=n.children(`.${e.slideClass}`);if(e.loopFillGroupWithBlank){const t=e.slidesPerGroup-r.length%e.slidesPerGroup;if(t!==e.slidesPerGroup){for(let r=0;r<t;r+=1){const t=aw(iw.createElement("div")).addClass(`${e.slideClass} ${e.slideBlankClass}`);n.append(t)}r=n.children(`.${e.slideClass}`)}}"auto"!==e.slidesPerView||e.loopedSlides||(e.loopedSlides=r.length),t.loopedSlides=parseInt(e.loopedSlides||e.slidesPerView,10),t.loopedSlides+=e.loopAdditionalSlides,t.loopedSlides>r.length&&(t.loopedSlides=r.length);const i=[],s=[];r.each((e,n)=>{const o=aw(n);e<t.loopedSlides&&s.push(n),e<r.length&&e>=r.length-t.loopedSlides&&i.push(n),o.attr("data-swiper-slide-index",e)});for(let o=0;o<s.length;o+=1)n.append(aw(s[o].cloneNode(!0)).addClass(e.slideDuplicateClass));for(let o=i.length-1;o>=0;o-=1)n.prepend(aw(i[o].cloneNode(!0)).addClass(e.slideDuplicateClass))},loopFix:function(){const{params:t,activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:s,snapGrid:o,rtlTranslate:a}=this;let l;this.allowSlidePrev=!0,this.allowSlideNext=!0;const u=-o[e]-this.getTranslate();e<r?(l=n.length-3*r+e,this.slideTo(l+=r,0,!1,!0)&&0!==u&&this.setTranslate((a?-this.translate:this.translate)-u)):("auto"===t.slidesPerView&&e>=2*r||e>=n.length-r)&&(l=-n.length+e+r,this.slideTo(l+=r,0,!1,!0)&&0!==u&&this.setTranslate((a?-this.translate:this.translate)-u)),this.allowSlidePrev=i,this.allowSlideNext=s},loopDestroy:function(){const{$wrapperEl:t,params:e,slides:n}=this;t.children(`.${e.slideClass}.${e.slideDuplicateClass},.${e.slideClass}.${e.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}},vw={setGrabCursor:function(t){if(hw.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)return;const e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"},unsetGrabCursor:function(){hw.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},bw={appendSlide:function(t){const{$wrapperEl:e,params:n}=this;if(n.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(let r=0;r<t.length;r+=1)t[r]&&e.append(t[r]);else e.append(t);n.loop&&this.loopCreate(),n.observer&&hw.observer||this.update()},prependSlide:function(t){const{params:e,$wrapperEl:n,activeIndex:r}=this;e.loop&&this.loopDestroy();let i=r+1;if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&n.prepend(t[e]);i=r+t.length}else n.prepend(t);e.loop&&this.loopCreate(),e.observer&&hw.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(t,e){const n=this,{$wrapperEl:r,params:i,activeIndex:s}=n;let o=s;i.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.slides=r.children(`.${i.slideClass}`));const a=n.slides.length;if(t<=0)return void n.prependSlide(e);if(t>=a)return void n.appendSlide(e);let l=o>t?o+1:o;const u=[];for(let c=a-1;c>=t;c-=1){const t=n.slides.eq(c);t.remove(),u.unshift(t)}if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&r.append(e[t]);l=o>t?o+e.length:o}else r.append(e);for(let c=0;c<u.length;c+=1)r.append(u[c]);i.loop&&n.loopCreate(),i.observer&&hw.observer||n.update(),n.slideTo(i.loop?l+n.loopedSlides:l,0,!1)},removeSlide:function(t){const e=this,{params:n,$wrapperEl:r,activeIndex:i}=e;let s=i;n.loop&&(s-=e.loopedSlides,e.loopDestroy(),e.slides=r.children(`.${n.slideClass}`));let o,a=s;if("object"==typeof t&&"length"in t){for(let n=0;n<t.length;n+=1)e.slides[o=t[n]]&&e.slides.eq(o).remove(),o<a&&(a-=1);a=Math.max(a,0)}else e.slides[o=t]&&e.slides.eq(o).remove(),o<a&&(a-=1),a=Math.max(a,0);n.loop&&e.loopCreate(),n.observer&&hw.observer||e.update(),e.slideTo(n.loop?a+e.loopedSlides:a,0,!1)},removeAllSlides:function(){const t=this,e=[];for(let n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}};const _w=function(){const t=sw.navigator.userAgent,e={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:sw.cordova||sw.phonegap,phonegap:sw.cordova||sw.phonegap},n=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),i=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),o=!i&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(n&&(e.os="windows",e.osVersion=n[2],e.windows=!0),r&&!n&&(e.os="android",e.osVersion=r[2],e.android=!0,e.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(i||o||s)&&(e.os="ios",e.ios=!0),o&&!s&&(e.osVersion=o[2].replace(/_/g,"."),e.iphone=!0),i&&(e.osVersion=i[2].replace(/_/g,"."),e.ipad=!0),s&&(e.osVersion=s[3]?s[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&t.indexOf("Version/")>=0&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),e.desktop=!(e.os||e.android||e.webView),e.webView=(o||i||s)&&t.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){const t=e.osVersion.split("."),n=iw.querySelector('meta[name="viewport"]');e.minimalUi=!e.webView&&(s||o)&&(1*t[0]==7?1*t[1]>=1:1*t[0]>7)&&n&&n.getAttribute("content").indexOf("minimal-ui")>=0}return e.pixelRatio=sw.devicePixelRatio||1,e}();function ww(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t;if(t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),e.freeMode){const n=Math.min(Math.max(t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses(),e.autoHeight&&t.updateAutoHeight()}else t.updateSlidesClasses(),t.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0);t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}var Ew={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0};const Sw={update:fw,translate:mw,transition:{setTransition:function(t,e){this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t=!0,e){const n=this,{activeIndex:r,params:i,previousIndex:s}=n;i.autoHeight&&n.updateAutoHeight();let o=e;if(o||(o=r>s?"next":r<s?"prev":"reset"),n.emit("transitionStart"),t&&r!==s){if("reset"===o)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),n.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}},transitionEnd:function(t=!0,e){const n=this,{activeIndex:r,previousIndex:i}=n;n.animating=!1,n.setTransition(0);let s=e;if(s||(s=r>i?"next":r<i?"prev":"reset"),n.emit("transitionEnd"),t&&r!==i){if("reset"===s)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),n.emit("next"===s?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}},slide:gw,loop:yw,grabCursor:vw,manipulation:bw,events:{attachEvents:function(){const t=this,{params:e,touchEvents:n,el:r,wrapperEl:i}=t;t.onTouchStart=(function(t){const e=this,n=e.touchEventsData,{params:r,touches:i}=e;if(e.animating&&r.preventInteractionOnTransition)return;let s=t;if(s.originalEvent&&(s=s.originalEvent),n.isTouchEvent="touchstart"===s.type,!n.isTouchEvent&&"which"in s&&3===s.which)return;if(!n.isTouchEvent&&"button"in s&&s.button>0)return;if(n.isTouched&&n.isMoved)return;if(r.noSwiping&&aw(s.target).closest(r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`)[0])return void(e.allowClick=!0);if(r.swipeHandler&&!aw(s).closest(r.swipeHandler)[0])return;i.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,i.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;const o=i.currentX,a=i.currentY,l=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(!r.edgeSwipeDetection&&!r.iOSEdgeSwipeDetection||!(o<=l||o>=sw.screen.width-l)){if(cw.extend(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=o,i.startY=a,n.touchStartTime=cw.now(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==s.type){let t=!0;aw(s.target).is(n.formElements)&&(t=!1),iw.activeElement&&aw(iw.activeElement).is(n.formElements)&&iw.activeElement!==s.target&&iw.activeElement.blur();const i=t&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||i)&&s.preventDefault()}e.emit("touchStart",s)}}).bind(t),t.onTouchMove=(function(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:s}=e;let o=t;if(o.originalEvent&&(o=o.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&e.emit("touchMoveOpposite",o));if(n.isTouchEvent&&"mousemove"===o.type)return;const a="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,l="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY;if(o.preventedByNestedSwiper)return i.startX=a,void(i.startY=l);if(!e.allowTouchMove)return e.allowClick=!1,void(n.isTouched&&(cw.extend(i,{startX:a,startY:l,currentX:a,currentY:l}),n.touchStartTime=cw.now()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(e.isVertical()){if(l<i.startY&&e.translate<=e.maxTranslate()||l>i.startY&&e.translate>=e.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(a<i.startX&&e.translate<=e.maxTranslate()||a>i.startX&&e.translate>=e.minTranslate())return;if(n.isTouchEvent&&iw.activeElement&&o.target===iw.activeElement&&aw(o.target).is(n.formElements))return n.isMoved=!0,void(e.allowClick=!1);if(n.allowTouchCallbacks&&e.emit("touchMove",o),o.targetTouches&&o.targetTouches.length>1)return;i.currentX=a,i.currentY=l;const u=i.currentX-i.startX,c=i.currentY-i.startY;if(e.params.threshold&&Math.sqrt(u**2+c**2)<e.params.threshold)return;if(void 0===n.isScrolling){let t;e.isHorizontal()&&i.currentY===i.startY||e.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:u*u+c*c>=25&&(t=180*Math.atan2(Math.abs(c),Math.abs(u))/Math.PI,n.isScrolling=e.isHorizontal()?t>r.touchAngle:90-t>r.touchAngle)}if(n.isScrolling&&e.emit("touchMoveOpposite",o),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)return void(n.isTouched=!1);if(!n.startMoving)return;e.allowClick=!1,o.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&o.stopPropagation(),n.isMoved||(r.loop&&e.loopFix(),n.startTranslate=e.getTranslate(),e.setTransition(0),e.animating&&e.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==e.allowSlideNext&&!0!==e.allowSlidePrev||e.setGrabCursor(!0),e.emit("sliderFirstMove",o)),e.emit("sliderMove",o),n.isMoved=!0;let h=e.isHorizontal()?u:c;i.diff=h,h*=r.touchRatio,s&&(h=-h),e.swipeDirection=h>0?"prev":"next",n.currentTranslate=h+n.startTranslate;let d=!0,p=r.resistanceRatio;if(r.touchReleaseOnEdges&&(p=0),h>0&&n.currentTranslate>e.minTranslate()?(d=!1,r.resistance&&(n.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+n.startTranslate+h)**p)):h<0&&n.currentTranslate<e.maxTranslate()&&(d=!1,r.resistance&&(n.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-n.startTranslate-h)**p)),d&&(o.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(h)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=e.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:i[e.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:i[e.isHorizontal()?"currentX":"currentY"],time:cw.now()})),e.updateProgress(n.currentTranslate),e.setTranslate(n.currentTranslate))}).bind(t),t.onTouchEnd=(function(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:s,$wrapperEl:o,slidesGrid:a,snapGrid:l}=e;let u=t;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const c=cw.now(),h=c-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(u),e.emit("tap",u),h<300&&c-n.lastClickTime>300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),n.clickTimeout=cw.nextTick(()=>{e&&!e.destroyed&&e.emit("click",u)},300)),h<300&&c-n.lastClickTime<300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),e.emit("doubleTap",u))),n.lastClickTime=cw.now(),cw.nextTick(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=r.followFinger?s?e.translate:-e.translate:-n.currentTranslate,r.freeMode){if(d<-e.minTranslate())return void e.slideTo(e.activeIndex);if(d>-e.maxTranslate())return void e.slideTo(e.slides.length<l.length?l.length-1:e.slides.length-1);if(r.freeModeMomentum){if(n.velocities.length>1){const t=n.velocities.pop(),i=n.velocities.pop(),s=t.time-i.time;e.velocity=(t.position-i.position)/s,e.velocity/=2,Math.abs(e.velocity)<r.freeModeMinimumVelocity&&(e.velocity=0),(s>150||cw.now()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;let t=1e3*r.freeModeMomentumRatio,i=e.translate+e.velocity*t;s&&(i=-i);let a,u=!1;const c=20*Math.abs(e.velocity)*r.freeModeMomentumBounceRatio;let h;if(i<e.maxTranslate())r.freeModeMomentumBounce?(i+e.maxTranslate()<-c&&(i=e.maxTranslate()-c),a=e.maxTranslate(),u=!0,n.allowMomentumBounce=!0):i=e.maxTranslate(),r.loop&&r.centeredSlides&&(h=!0);else if(i>e.minTranslate())r.freeModeMomentumBounce?(i-e.minTranslate()>c&&(i=e.minTranslate()+c),a=e.minTranslate(),u=!0,n.allowMomentumBounce=!0):i=e.minTranslate(),r.loop&&r.centeredSlides&&(h=!0);else if(r.freeModeSticky){let t;for(let e=0;e<l.length;e+=1)if(l[e]>-i){t=e;break}i=-(i=Math.abs(l[t]-i)<Math.abs(l[t-1]-i)||"next"===e.swipeDirection?l[t]:l[t-1])}if(h&&e.once("transitionEnd",()=>{e.loopFix()}),0!==e.velocity)t=s?Math.abs((-i-e.translate)/e.velocity):Math.abs((i-e.translate)/e.velocity);else if(r.freeModeSticky)return void e.slideToClosest();r.freeModeMomentumBounce&&u?(e.updateProgress(a),e.setTransition(t),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd(()=>{e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(r.speed),e.setTranslate(a),o.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()}))})):e.velocity?(e.updateProgress(i),e.setTransition(t),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(i),e.updateActiveIndex(),e.updateSlidesClasses()}else if(r.freeModeSticky)return void e.slideToClosest();return void((!r.freeModeMomentum||h>=r.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses()))}let p=0,f=e.slidesSizesGrid[0];for(let g=0;g<a.length;g+=r.slidesPerGroup)void 0!==a[g+r.slidesPerGroup]?d>=a[g]&&d<a[g+r.slidesPerGroup]&&(p=g,f=a[g+r.slidesPerGroup]-a[g]):d>=a[g]&&(p=g,f=a[a.length-1]-a[a.length-2]);const m=(d-a[p])/f;if(h>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(m>=r.longSwipesRatio?p+r.slidesPerGroup:p),"prev"===e.swipeDirection&&e.slideTo(m>1-r.longSwipesRatio?p+r.slidesPerGroup:p)}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(p+r.slidesPerGroup),"prev"===e.swipeDirection&&e.slideTo(p)}}).bind(t),t.onClick=(function(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}).bind(t);const s="container"===e.touchEventsTarget?r:i,o=!!e.nested;if(hw.touch||!hw.pointerEvents&&!hw.prefixedPointerEvents){if(hw.touch){const r=!("touchstart"!==n.start||!hw.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(n.start,t.onTouchStart,r),s.addEventListener(n.move,t.onTouchMove,hw.passiveListener?{passive:!1,capture:o}:o),s.addEventListener(n.end,t.onTouchEnd,r)}(e.simulateTouch&&!_w.ios&&!_w.android||e.simulateTouch&&!hw.touch&&_w.ios)&&(s.addEventListener("mousedown",t.onTouchStart,!1),iw.addEventListener("mousemove",t.onTouchMove,o),iw.addEventListener("mouseup",t.onTouchEnd,!1))}else s.addEventListener(n.start,t.onTouchStart,!1),iw.addEventListener(n.move,t.onTouchMove,o),iw.addEventListener(n.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&s.addEventListener("click",t.onClick,!0),t.on(_w.ios||_w.android?"resize orientationchange observerUpdate":"resize observerUpdate",ww,!0)},detachEvents:function(){const t=this,{params:e,touchEvents:n,el:r,wrapperEl:i}=t,s="container"===e.touchEventsTarget?r:i,o=!!e.nested;if(hw.touch||!hw.pointerEvents&&!hw.prefixedPointerEvents){if(hw.touch){const r=!("onTouchStart"!==n.start||!hw.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(n.start,t.onTouchStart,r),s.removeEventListener(n.move,t.onTouchMove,o),s.removeEventListener(n.end,t.onTouchEnd,r)}(e.simulateTouch&&!_w.ios&&!_w.android||e.simulateTouch&&!hw.touch&&_w.ios)&&(s.removeEventListener("mousedown",t.onTouchStart,!1),iw.removeEventListener("mousemove",t.onTouchMove,o),iw.removeEventListener("mouseup",t.onTouchEnd,!1))}else s.removeEventListener(n.start,t.onTouchStart,!1),iw.removeEventListener(n.move,t.onTouchMove,o),iw.removeEventListener(n.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&s.removeEventListener("click",t.onClick,!0),t.off(_w.ios||_w.android?"resize orientationchange observerUpdate":"resize observerUpdate",ww)}},breakpoints:{setBreakpoint:function(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i}=t,s=i.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const o=t.getBreakpoint(s);if(o&&t.currentBreakpoint!==o){const a=o in s?s[o]:void 0;a&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(t=>{const e=a[t];void 0!==e&&(a[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")});const l=a||t.originalParams,u=l.direction&&l.direction!==i.direction,c=i.loop&&(l.slidesPerView!==i.slidesPerView||u);u&&n&&t.changeDirection(),cw.extend(t.params,l),cw.extend(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=o,c&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",l)}},getBreakpoint:function(t){const e=this;if(!t)return;let n=!1;const r=[];Object.keys(t).forEach(t=>{r.push(t)}),r.sort((t,e)=>parseInt(t,10)-parseInt(e,10));for(let i=0;i<r.length;i+=1){const t=r[i];e.params.breakpointsInverse?t<=sw.innerWidth&&(n=t):t>=sw.innerWidth&&!n&&(n=t)}return n||"max"}},checkOverflow:{checkOverflow:function(){const t=this.isLocked;this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){const{classNames:t,params:e,rtl:n,$el:r}=this,i=[];i.push("initialized"),i.push(e.direction),e.freeMode&&i.push("free-mode"),hw.flexbox||i.push("no-flexbox"),e.autoHeight&&i.push("autoheight"),n&&i.push("rtl"),e.slidesPerColumn>1&&i.push("multirow"),_w.android&&i.push("android"),_w.ios&&i.push("ios"),(dw.isIE||dw.isEdge)&&(hw.pointerEvents||hw.prefixedPointerEvents)&&i.push(`wp8-${e.direction}`),i.forEach(n=>{t.push(e.containerModifierClass+n)}),r.addClass(t.join(" "))},removeClasses:function(){const{$el:t,classNames:e}=this;t.removeClass(e.join(" "))}},images:{loadImage:function(t,e,n,r,i,s){let o;function a(){s&&s()}t.complete&&i?a():e?((o=new sw.Image).onload=a,o.onerror=a,r&&(o.sizes=r),n&&(o.srcset=n),e&&(o.src=e)):a()},preloadImages:function(){const t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}}},Cw={};class Tw extends pw{constructor(...t){let e,n;1===t.length&&t[0].constructor&&t[0].constructor===Object?n=t[0]:[e,n]=t,n||(n={}),n=cw.extend({},n),e&&!n.el&&(n.el=e),super(n),Object.keys(Sw).forEach(t=>{Object.keys(Sw[t]).forEach(e=>{Tw.prototype[e]||(Tw.prototype[e]=Sw[t][e])})});const r=this;void 0===r.modules&&(r.modules={}),Object.keys(r.modules).forEach(t=>{const e=r.modules[t];if(e.params){const t=Object.keys(e.params)[0],r=e.params[t];if("object"!=typeof r||null===r)return;if(!(t in n&&"enabled"in r))return;!0===n[t]&&(n[t]={enabled:!0}),"object"!=typeof n[t]||"enabled"in n[t]||(n[t].enabled=!0),n[t]||(n[t]={enabled:!1})}});const i=cw.extend({},Ew);r.useModulesParams(i),r.params=cw.extend({},i,Cw,n),r.originalParams=cw.extend({},r.params),r.passedParams=cw.extend({},n),r.$=aw;const s=aw(r.params.el);if(!(e=s[0]))return;if(s.length>1){const t=[];return s.each((e,r)=>{const i=cw.extend({},n,{el:r});t.push(new Tw(i))}),t}e.swiper=r,s.data("swiper",r);const o=s.children(`.${r.params.wrapperClass}`);return cw.extend(r,{$el:s,el:e,$wrapperEl:o,wrapperEl:o[0],classNames:[],slides:aw(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===r.params.direction,isVertical:()=>"vertical"===r.params.direction,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===r.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===o.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const t=["touchstart","touchmove","touchend"];let e=["mousedown","mousemove","mouseup"];return hw.pointerEvents?e=["pointerdown","pointermove","pointerup"]:hw.prefixedPointerEvents&&(e=["MSPointerDown","MSPointerMove","MSPointerUp"]),r.touchEventsTouch={start:t[0],move:t[1],end:t[2]},r.touchEventsDesktop={start:e[0],move:e[1],end:e[2]},hw.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:cw.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.useModules(),r.params.init&&r.init(),r}slidesPerViewDynamic(){const{params:t,slides:e,slidesGrid:n,size:r,activeIndex:i}=this;let s=1;if(t.centeredSlides){let t,n=e[i].swiperSlideSize;for(let o=i+1;o<e.length;o+=1)e[o]&&!t&&(s+=1,(n+=e[o].swiperSlideSize)>r&&(t=!0));for(let o=i-1;o>=0;o-=1)e[o]&&!t&&(s+=1,(n+=e[o].swiperSlideSize)>r&&(t=!0))}else for(let o=i+1;o<e.length;o+=1)n[o]-n[i]<r&&(s+=1);return s}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:n}=t;function r(){const e=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(e),t.updateActiveIndex(),t.updateSlidesClasses()}let i;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(r(),t.params.autoHeight&&t.updateAutoHeight()):(i=t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0))||r(),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e=!0){const n=this.params.direction;return t||(t="horizontal"===n?"vertical":"horizontal"),t===n||"horizontal"!==t&&"vertical"!==t?this:("vertical"===n&&(this.$el.removeClass(`${this.params.containerModifierClass}vertical wp8-vertical`).addClass(`${this.params.containerModifierClass}${t}`),(dw.isIE||dw.isEdge)&&(hw.pointerEvents||hw.prefixedPointerEvents)&&this.$el.addClass(`${this.params.containerModifierClass}wp8-${t}`)),"horizontal"===n&&(this.$el.removeClass(`${this.params.containerModifierClass}horizontal wp8-horizontal`).addClass(`${this.params.containerModifierClass}${t}`),(dw.isIE||dw.isEdge)&&(hw.pointerEvents||hw.prefixedPointerEvents)&&this.$el.addClass(`${this.params.containerModifierClass}wp8-${t}`)),this.params.direction=t,this.slides.each((e,n)=>{"vertical"===t?n.style.width="":n.style.height=""}),this.emit("changeDirection"),e&&this.update(),this)}init(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.slideTo(this.params.loop?this.params.initialSlide+this.loopedSlides:this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))}destroy(t=!0,e=!0){const n=this,{params:r,$el:i,$wrapperEl:s,slides:o}=n;return void 0===n.params||n.destroyed?null:(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),i.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(t=>{n.off(t)}),!1!==t&&(n.$el[0].swiper=null,n.$el.data("swiper",null),cw.deleteProps(n)),n.destroyed=!0,null)}static extendDefaults(t){cw.extend(Cw,t)}static get extendedDefaults(){return Cw}static get defaults(){return Ew}static get Class(){return pw}static get $(){return aw}}var xw={name:"device",proto:{device:_w},static:{device:_w}},Iw={name:"support",proto:{support:hw},static:{support:hw}},kw={name:"browser",proto:{browser:dw},static:{browser:dw}},Aw={name:"resize",create(){const t=this;cw.extend(t,{resize:{resizeHandler(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init(){sw.addEventListener("resize",this.resize.resizeHandler),sw.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy(){sw.removeEventListener("resize",this.resize.resizeHandler),sw.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}};const Dw={func:sw.MutationObserver||sw.WebkitMutationObserver,attach(t,e={}){const n=this,r=new(0,Dw.func)(t=>{if(1===t.length)return void n.emit("observerUpdate",t[0]);const e=function(){n.emit("observerUpdate",t[0])};sw.requestAnimationFrame?sw.requestAnimationFrame(e):sw.setTimeout(e,0)});r.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),n.observer.observers.push(r)},init(){const t=this;if(hw.observer&&t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let n=0;n<e.length;n+=1)t.observer.attach(e[n])}t.observer.attach(t.$el[0],{childList:t.params.observeSlideChildren}),t.observer.attach(t.$wrapperEl[0],{attributes:!1})}},destroy(){this.observer.observers.forEach(t=>{t.disconnect()}),this.observer.observers=[]}};var Ow={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create(){cw.extend(this,{observer:{init:Dw.init.bind(this),attach:Dw.attach.bind(this),destroy:Dw.destroy.bind(this),observers:[]}})},on:{init(){this.observer.init()},destroy(){this.observer.destroy()}}};const Nw={update(t){const e=this,{slidesPerView:n,slidesPerGroup:r,centeredSlides:i}=e.params,{addSlidesBefore:s,addSlidesAfter:o}=e.params.virtual,{from:a,to:l,slides:u,slidesGrid:c,renderSlide:h,offset:d}=e.virtual;e.updateActiveIndex();const p=e.activeIndex||0;let f,m,g;f=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",i?(m=Math.floor(n/2)+r+s,g=Math.floor(n/2)+r+o):(m=n+(r-1)+s,g=r+o);const y=Math.max((p||0)-g,0),v=Math.min((p||0)+m,u.length-1),b=(e.slidesGrid[y]||0)-(e.slidesGrid[0]||0);function _(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(cw.extend(e.virtual,{from:y,to:v,offset:b,slidesGrid:e.slidesGrid}),a===y&&l===v&&!t)return e.slidesGrid!==c&&b!==d&&e.slides.css(f,`${b}px`),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:b,from:y,to:v,slides:function(){const t=[];for(let e=y;e<=v;e+=1)t.push(u[e]);return t}()}),void _();const w=[],E=[];if(t)e.$wrapperEl.find(`.${e.params.slideClass}`).remove();else for(let S=a;S<=l;S+=1)(S<y||S>v)&&e.$wrapperEl.find(`.${e.params.slideClass}[data-swiper-slide-index="${S}"]`).remove();for(let S=0;S<u.length;S+=1)S>=y&&S<=v&&(void 0===l||t?E.push(S):(S>l&&E.push(S),S<a&&w.push(S)));E.forEach(t=>{e.$wrapperEl.append(h(u[t],t))}),w.sort((t,e)=>e-t).forEach(t=>{e.$wrapperEl.prepend(h(u[t],t))}),e.$wrapperEl.children(".swiper-slide").css(f,`${b}px`),_()},renderSlide(t,e){const n=this.params.virtual;if(n.cache&&this.virtual.cache[e])return this.virtual.cache[e];const r=aw(n.renderSlide?n.renderSlide.call(this,t,e):`<div class="${this.params.slideClass}" data-swiper-slide-index="${e}">${t}</div>`);return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",e),n.cache&&(this.virtual.cache[e]=r),r},appendSlide(t){const e=this;if("object"==typeof t&&"length"in t)for(let n=0;n<t.length;n+=1)t[n]&&e.virtual.slides.push(t[n]);else e.virtual.slides.push(t);e.virtual.update(!0)},prependSlide(t){const e=this,n=e.activeIndex;let r=n+1,i=1;if(Array.isArray(t)){for(let n=0;n<t.length;n+=1)t[n]&&e.virtual.slides.unshift(t[n]);r=n+t.length,i=t.length}else e.virtual.slides.unshift(t);if(e.params.virtual.cache){const t=e.virtual.cache,n={};Object.keys(t).forEach(e=>{n[parseInt(e,10)+i]=t[e]}),e.virtual.cache=n}e.virtual.update(!0),e.slideTo(r,0)},removeSlide(t){const e=this;if(null==t)return;let n=e.activeIndex;if(Array.isArray(t))for(let r=t.length-1;r>=0;r-=1)e.virtual.slides.splice(t[r],1),e.params.virtual.cache&&delete e.virtual.cache[t[r]],t[r]<n&&(n-=1),n=Math.max(n,0);else e.virtual.slides.splice(t,1),e.params.virtual.cache&&delete e.virtual.cache[t],t<n&&(n-=1),n=Math.max(n,0);e.virtual.update(!0),e.slideTo(n,0)},removeAllSlides(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}};var Rw={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create(){cw.extend(this,{virtual:{update:Nw.update.bind(this),appendSlide:Nw.appendSlide.bind(this),prependSlide:Nw.prependSlide.bind(this),removeSlide:Nw.removeSlide.bind(this),removeAllSlides:Nw.removeAllSlides.bind(this),renderSlide:Nw.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit(){if(!this.params.virtual.enabled)return;this.classNames.push(`${this.params.containerModifierClass}virtual`);const t={watchSlidesProgress:!0};cw.extend(this.params,t),cw.extend(this.originalParams,t),this.params.initialSlide||this.virtual.update()},setTranslate(){this.params.virtual.enabled&&this.virtual.update()}}};const Pw={handle(t){const e=this,{rtlTranslate:n}=e;let r=t;r.originalEvent&&(r=r.originalEvent);const i=r.keyCode||r.charCode;if(!e.allowSlideNext&&(e.isHorizontal()&&39===i||e.isVertical()&&40===i))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&37===i||e.isVertical()&&38===i))return!1;if(!(r.shiftKey||r.altKey||r.ctrlKey||r.metaKey||iw.activeElement&&iw.activeElement.nodeName&&("input"===iw.activeElement.nodeName.toLowerCase()||"textarea"===iw.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(37===i||39===i||38===i||40===i)){let t=!1;if(e.$el.parents(`.${e.params.slideClass}`).length>0&&0===e.$el.parents(`.${e.params.slideActiveClass}`).length)return;const r=sw.innerWidth,i=sw.innerHeight,s=e.$el.offset();n&&(s.left-=e.$el[0].scrollLeft);const o=[[s.left,s.top],[s.left+e.width,s.top],[s.left,s.top+e.height],[s.left+e.width,s.top+e.height]];for(let e=0;e<o.length;e+=1){const n=o[e];n[0]>=0&&n[0]<=r&&n[1]>=0&&n[1]<=i&&(t=!0)}if(!t)return}e.isHorizontal()?(37!==i&&39!==i||(r.preventDefault?r.preventDefault():r.returnValue=!1),(39===i&&!n||37===i&&n)&&e.slideNext(),(37===i&&!n||39===i&&n)&&e.slidePrev()):(38!==i&&40!==i||(r.preventDefault?r.preventDefault():r.returnValue=!1),40===i&&e.slideNext(),38===i&&e.slidePrev()),e.emit("keyPress",i)}},enable(){this.keyboard.enabled||(aw(iw).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable(){this.keyboard.enabled&&(aw(iw).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}};var Mw={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create(){cw.extend(this,{keyboard:{enabled:!1,enable:Pw.enable.bind(this),disable:Pw.disable.bind(this),handle:Pw.handle.bind(this)}})},on:{init(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy(){this.keyboard.enabled&&this.keyboard.disable()}}};const Lw={lastScrollTime:cw.now(),event:sw.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){let t="onwheel"in iw;if(!t){const e=iw.createElement("div");e.setAttribute("onwheel","return;"),t="function"==typeof e.onwheel}return!t&&iw.implementation&&iw.implementation.hasFeature&&!0!==iw.implementation.hasFeature("","")&&(t=iw.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel",normalize(t){let e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,i=10*n,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(1===t.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}},handleMouseEnter(){this.mouseEntered=!0},handleMouseLeave(){this.mouseEntered=!1},handle(t){let e=t;const n=this,r=n.params.mousewheel;if(!n.mouseEntered&&!r.releaseOnEdges)return!0;e.originalEvent&&(e=e.originalEvent);let i=0;const s=n.rtlTranslate?-1:1,o=Lw.normalize(e);if(r.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(o.pixelX)>Math.abs(o.pixelY)))return!0;i=o.pixelX*s}else{if(!(Math.abs(o.pixelY)>Math.abs(o.pixelX)))return!0;i=o.pixelY}else i=Math.abs(o.pixelX)>Math.abs(o.pixelY)?-o.pixelX*s:-o.pixelY;if(0===i)return!0;if(r.invert&&(i=-i),n.params.freeMode){n.params.loop&&n.loopFix();let t=n.getTranslate()+i*r.sensitivity;const s=n.isBeginning,o=n.isEnd;if(t>=n.minTranslate()&&(t=n.minTranslate()),t<=n.maxTranslate()&&(t=n.maxTranslate()),n.setTransition(0),n.setTranslate(t),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!s&&n.isBeginning||!o&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky&&(clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=cw.nextTick(()=>{n.slideToClosest()},300)),n.emit("scroll",e),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),t===n.minTranslate()||t===n.maxTranslate())return!0}else{if(cw.now()-n.mousewheel.lastScrollTime>60)if(i<0)if(n.isEnd&&!n.params.loop||n.animating){if(r.releaseOnEdges)return!0}else n.slideNext(),n.emit("scroll",e);else if(n.isBeginning&&!n.params.loop||n.animating){if(r.releaseOnEdges)return!0}else n.slidePrev(),n.emit("scroll",e);n.mousewheel.lastScrollTime=(new sw.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},enable(){if(!Lw.event)return!1;if(this.mousewheel.enabled)return!1;let t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=aw(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(Lw.event,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable(){if(!Lw.event)return!1;if(!this.mousewheel.enabled)return!1;let t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=aw(this.params.mousewheel.eventsTarged)),t.off(Lw.event,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},Fw={update(){const t=this.params.navigation;if(this.params.loop)return;const{$nextEl:e,$prevEl:n}=this.navigation;n&&n.length>0&&(this.isBeginning?n.addClass(t.disabledClass):n.removeClass(t.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)),e&&e.length>0&&(this.isEnd?e.addClass(t.disabledClass):e.removeClass(t.disabledClass),e[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass))},onPrevClick(t){t.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick(t){t.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init(){const t=this.params.navigation;if(!t.nextEl&&!t.prevEl)return;let e,n;t.nextEl&&(e=aw(t.nextEl),this.params.uniqueNavElements&&"string"==typeof t.nextEl&&e.length>1&&1===this.$el.find(t.nextEl).length&&(e=this.$el.find(t.nextEl))),t.prevEl&&(n=aw(t.prevEl),this.params.uniqueNavElements&&"string"==typeof t.prevEl&&n.length>1&&1===this.$el.find(t.prevEl).length&&(n=this.$el.find(t.prevEl))),e&&e.length>0&&e.on("click",this.navigation.onNextClick),n&&n.length>0&&n.on("click",this.navigation.onPrevClick),cw.extend(this.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:n,prevEl:n&&n[0]})},destroy(){const{$nextEl:t,$prevEl:e}=this.navigation;t&&t.length&&(t.off("click",this.navigation.onNextClick),t.removeClass(this.params.navigation.disabledClass)),e&&e.length&&(e.off("click",this.navigation.onPrevClick),e.removeClass(this.params.navigation.disabledClass))}},Vw={update(){const t=this,e=t.rtl,n=t.params.pagination;if(!n.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length)return;const r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,i=t.pagination.$el;let s;const o=t.params.loop?Math.ceil((r-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?((s=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup))>r-1-2*t.loopedSlides&&(s-=r-2*t.loopedSlides),s>o-1&&(s-=o),s<0&&"bullets"!==t.params.paginationType&&(s=o+s)):s=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const r=t.pagination.bullets;let o,a,l;if(n.dynamicBullets&&(t.pagination.bulletSize=r.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),i.css(t.isHorizontal()?"width":"height",`${t.pagination.bulletSize*(n.dynamicMainBullets+4)}px`),n.dynamicMainBullets>1&&void 0!==t.previousIndex&&(t.pagination.dynamicBulletIndex+=s-t.previousIndex,t.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?t.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:t.pagination.dynamicBulletIndex<0&&(t.pagination.dynamicBulletIndex=0)),l=((a=(o=s-t.pagination.dynamicBulletIndex)+(Math.min(r.length,n.dynamicMainBullets)-1))+o)/2),r.removeClass(`${n.bulletActiveClass} ${n.bulletActiveClass}-next ${n.bulletActiveClass}-next-next ${n.bulletActiveClass}-prev ${n.bulletActiveClass}-prev-prev ${n.bulletActiveClass}-main`),i.length>1)r.each((t,e)=>{const r=aw(e),i=r.index();i===s&&r.addClass(n.bulletActiveClass),n.dynamicBullets&&(i>=o&&i<=a&&r.addClass(`${n.bulletActiveClass}-main`),i===o&&r.prev().addClass(`${n.bulletActiveClass}-prev`).prev().addClass(`${n.bulletActiveClass}-prev-prev`),i===a&&r.next().addClass(`${n.bulletActiveClass}-next`).next().addClass(`${n.bulletActiveClass}-next-next`))});else if(r.eq(s).addClass(n.bulletActiveClass),n.dynamicBullets){const t=r.eq(o),e=r.eq(a);for(let i=o;i<=a;i+=1)r.eq(i).addClass(`${n.bulletActiveClass}-main`);t.prev().addClass(`${n.bulletActiveClass}-prev`).prev().addClass(`${n.bulletActiveClass}-prev-prev`),e.next().addClass(`${n.bulletActiveClass}-next`).next().addClass(`${n.bulletActiveClass}-next-next`)}if(n.dynamicBullets){const i=Math.min(r.length,n.dynamicMainBullets+4),s=(t.pagination.bulletSize*i-t.pagination.bulletSize)/2-l*t.pagination.bulletSize,o=e?"right":"left";r.css(t.isHorizontal()?o:"top",`${s}px`)}}if("fraction"===n.type&&(i.find(`.${n.currentClass}`).text(n.formatFractionCurrent(s+1)),i.find(`.${n.totalClass}`).text(n.formatFractionTotal(o))),"progressbar"===n.type){let e;e=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(s+1)/o;let a=1,l=1;"horizontal"===e?a=r:l=r,i.find(`.${n.progressbarFillClass}`).transform(`translate3d(0,0,0) scaleX(${a}) scaleY(${l})`).transition(t.params.speed)}"custom"===n.type&&n.renderCustom?(i.html(n.renderCustom(t,s+1,o)),t.emit("paginationRender",t,i[0])):t.emit("paginationUpdate",t,i[0]),i[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](n.lockClass)},render(){const t=this,e=t.params.pagination;if(!e.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length)return;const n=t.pagination.$el;let r="";if("bullets"===e.type){const i=t.params.loop?Math.ceil(((t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length)-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;for(let n=0;n<i;n+=1)r+=e.renderBullet?e.renderBullet.call(t,n,e.bulletClass):`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;n.html(r),t.pagination.bullets=n.find(`.${e.bulletClass}`)}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span>`+" / "+`<span class="${e.totalClass}"></span>`,n.html(r)),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,n.html(r)),"custom"!==e.type&&t.emit("paginationRender",t.pagination.$el[0])},init(){const t=this,e=t.params.pagination;if(!e.el)return;let n=aw(e.el);0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&n.length>1&&1===t.$el.find(e.el).length&&(n=t.$el.find(e.el)),"bullets"===e.type&&e.clickable&&n.addClass(e.clickableClass),n.addClass(e.modifierClass+e.type),"bullets"===e.type&&e.dynamicBullets&&(n.addClass(`${e.modifierClass}${e.type}-dynamic`),t.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.addClass(e.progressbarOppositeClass),e.clickable&&n.on("click",`.${e.bulletClass}`,function(e){e.preventDefault();let n=aw(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)}),cw.extend(t.pagination,{$el:n,el:n[0]}))},destroy(){const t=this.params.pagination;if(!t.el||!this.pagination.el||!this.pagination.$el||0===this.pagination.$el.length)return;const e=this.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),this.pagination.bullets&&this.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click",`.${t.bulletClass}`)}},Uw={setTranslate(){if(!this.params.scrollbar.el||!this.scrollbar.el)return;const{scrollbar:t,rtlTranslate:e,progress:n}=this,{dragSize:r,trackSize:i,$dragEl:s,$el:o}=t,a=this.params.scrollbar;let l=r,u=(i-r)*n;e?(u=-u)>0?(l=r-u,u=0):-u+r>i&&(l=i+u):u<0?(l=r+u,u=0):u+r>i&&(l=i-u),this.isHorizontal()?(s.transform(hw.transforms3d?`translate3d(${u}px, 0, 0)`:`translateX(${u}px)`),s[0].style.width=`${l}px`):(s.transform(hw.transforms3d?`translate3d(0px, ${u}px, 0)`:`translateY(${u}px)`),s[0].style.height=`${l}px`),a.hide&&(clearTimeout(this.scrollbar.timeout),o[0].style.opacity=1,this.scrollbar.timeout=setTimeout(()=>{o[0].style.opacity=0,o.transition(400)},1e3))},setTransition(t){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(t)},updateSize(){if(!this.params.scrollbar.el||!this.scrollbar.el)return;const{scrollbar:t}=this,{$dragEl:e,$el:n}=t;e[0].style.width="",e[0].style.height="";const r=this.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight,i=this.size/this.virtualSize,s=i*(r/this.size);let o;o="auto"===this.params.scrollbar.dragSize?r*i:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?e[0].style.width=`${o}px`:e[0].style.height=`${o}px`,n[0].style.display=i>=1?"none":"",this.params.scrollbar.hide&&(n[0].style.opacity=0),cw.extend(t,{trackSize:r,divider:i,moveDivider:s,dragSize:o}),t.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)},setDragPosition(t){const{scrollbar:e,rtlTranslate:n}=this,{$el:r,dragSize:i,trackSize:s}=e;let o,a;a=((o=this.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-r.offset()[this.isHorizontal()?"left":"top"]-i/2)/(s-i),a=Math.max(Math.min(a,1),0),n&&(a=1-a);const l=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*a;this.updateProgress(l),this.setTranslate(l),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart(t){const e=this.params.scrollbar,{scrollbar:n,$wrapperEl:r}=this,{$el:i,$dragEl:s}=n;this.scrollbar.isTouched=!0,t.preventDefault(),t.stopPropagation(),r.transition(100),s.transition(100),n.setDragPosition(t),clearTimeout(this.scrollbar.dragTimeout),i.transition(0),e.hide&&i.css("opacity",1),this.emit("scrollbarDragStart",t)},onDragMove(t){const{scrollbar:e,$wrapperEl:n}=this,{$el:r,$dragEl:i}=e;this.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),n.transition(0),r.transition(0),i.transition(0),this.emit("scrollbarDragMove",t))},onDragEnd(t){const e=this.params.scrollbar,{scrollbar:n}=this,{$el:r}=n;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,e.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=cw.nextTick(()=>{r.css("opacity",0),r.transition(400)},1e3)),this.emit("scrollbarDragEnd",t),e.snapOnRelease&&this.slideToClosest())},enableDraggable(){if(!this.params.scrollbar.el)return;const{scrollbar:t,touchEventsTouch:e,touchEventsDesktop:n,params:r}=this,i=t.$el[0],s=!(!hw.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},o=!(!hw.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};hw.touch?(i.addEventListener(e.start,this.scrollbar.onDragStart,s),i.addEventListener(e.move,this.scrollbar.onDragMove,s),i.addEventListener(e.end,this.scrollbar.onDragEnd,o)):(i.addEventListener(n.start,this.scrollbar.onDragStart,s),iw.addEventListener(n.move,this.scrollbar.onDragMove,s),iw.addEventListener(n.end,this.scrollbar.onDragEnd,o))},disableDraggable(){if(!this.params.scrollbar.el)return;const{scrollbar:t,touchEventsTouch:e,touchEventsDesktop:n,params:r}=this,i=t.$el[0],s=!(!hw.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},o=!(!hw.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};hw.touch?(i.removeEventListener(e.start,this.scrollbar.onDragStart,s),i.removeEventListener(e.move,this.scrollbar.onDragMove,s),i.removeEventListener(e.end,this.scrollbar.onDragEnd,o)):(i.removeEventListener(n.start,this.scrollbar.onDragStart,s),iw.removeEventListener(n.move,this.scrollbar.onDragMove,s),iw.removeEventListener(n.end,this.scrollbar.onDragEnd,o))},init(){if(!this.params.scrollbar.el)return;const{scrollbar:t,$el:e}=this,n=this.params.scrollbar;let r=aw(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===e.find(n.el).length&&(r=e.find(n.el));let i=r.find(`.${this.params.scrollbar.dragClass}`);0===i.length&&(i=aw(`<div class="${this.params.scrollbar.dragClass}"></div>`),r.append(i)),cw.extend(t,{$el:r,el:r[0],$dragEl:i,dragEl:i[0]}),n.draggable&&t.enableDraggable()},destroy(){this.scrollbar.disableDraggable()}},Bw={setTransform(t,e){const{rtl:n}=this,r=aw(t),i=n?-1:1,s=r.attr("data-swiper-parallax")||"0";let o=r.attr("data-swiper-parallax-x"),a=r.attr("data-swiper-parallax-y");const l=r.attr("data-swiper-parallax-scale"),u=r.attr("data-swiper-parallax-opacity");if(o||a?(o=o||"0",a=a||"0"):this.isHorizontal()?(o=s,a="0"):(a=s,o="0"),o=o.indexOf("%")>=0?`${parseInt(o,10)*e*i}%`:`${o*e*i}px`,a=a.indexOf("%")>=0?`${parseInt(a,10)*e}%`:`${a*e}px`,null!=u){const t=u-(u-1)*(1-Math.abs(e));r[0].style.opacity=t}if(null==l)r.transform(`translate3d(${o}, ${a}, 0px)`);else{const t=l-(l-1)*(1-Math.abs(e));r.transform(`translate3d(${o}, ${a}, 0px) scale(${t})`)}},setTranslate(){const t=this,{$el:e,slides:n,progress:r,snapGrid:i}=t;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((e,n)=>{t.parallax.setTransform(n,r)}),n.each((e,n)=>{let s=n.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(s+=Math.ceil(e/2)-r*(i.length-1)),s=Math.min(Math.max(s,-1),1),aw(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((e,n)=>{t.parallax.setTransform(n,s)})})},setTransition(t=this.params.speed){const{$el:e}=this;e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((e,n)=>{const r=aw(n);let i=parseInt(r.attr("data-swiper-parallax-duration"),10)||t;0===t&&(i=0),r.transition(i)})}},jw={getDistanceBetweenTouches:t=>t.targetTouches.length<2?1:Math.sqrt((t.targetTouches[1].pageX-t.targetTouches[0].pageX)**2+(t.targetTouches[1].pageY-t.targetTouches[0].pageY)**2),onGestureStart(t){const e=this.params.zoom,n=this.zoom,{gesture:r}=n;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!hw.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.fakeGestureTouched=!0,r.scaleStart=jw.getDistanceBetweenTouches(t)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=aw(t.target).closest(".swiper-slide"),0===r.$slideEl.length&&(r.$slideEl=this.slides.eq(this.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent(`.${e.containerClass}`),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl.transition(0),this.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange(t){const e=this.params.zoom,n=this.zoom,{gesture:r}=n;if(!hw.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;n.fakeGestureMoved=!0,r.scaleMove=jw.getDistanceBetweenTouches(t)}r.$imageEl&&0!==r.$imageEl.length&&(n.scale=hw.gestures?t.scale*n.currentScale:r.scaleMove/r.scaleStart*n.currentScale,n.scale>r.maxRatio&&(n.scale=r.maxRatio-1+(n.scale-r.maxRatio+1)**.5),n.scale<e.minRatio&&(n.scale=e.minRatio+1-(e.minRatio-n.scale+1)**.5),r.$imageEl.transform(`translate3d(0,0,0) scale(${n.scale})`))},onGestureEnd(t){const e=this.params.zoom,n=this.zoom,{gesture:r}=n;if(!hw.gestures){if(!n.fakeGestureTouched||!n.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!_w.android)return;n.fakeGestureTouched=!1,n.fakeGestureMoved=!1}r.$imageEl&&0!==r.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,r.maxRatio),e.minRatio),r.$imageEl.transition(this.params.speed).transform(`translate3d(0,0,0) scale(${n.scale})`),n.currentScale=n.scale,n.isScaling=!1,1===n.scale&&(r.$slideEl=void 0))},onTouchStart(t){const e=this.zoom,{gesture:n,image:r}=e;n.$imageEl&&0!==n.$imageEl.length&&(r.isTouched||(_w.android&&t.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove(t){const e=this,n=e.zoom,{gesture:r,image:i,velocity:s}=n;if(!r.$imageEl||0===r.$imageEl.length)return;if(e.allowClick=!1,!i.isTouched||!r.$slideEl)return;i.isMoved||(i.width=r.$imageEl[0].offsetWidth,i.height=r.$imageEl[0].offsetHeight,i.startX=cw.getTranslate(r.$imageWrapEl[0],"x")||0,i.startY=cw.getTranslate(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0),e.rtl&&(i.startX=-i.startX,i.startY=-i.startY));const o=i.width*n.scale,a=i.height*n.scale;if(!(o<r.slideWidth&&a<r.slideHeight)){if(i.minX=Math.min(r.slideWidth/2-o/2,0),i.maxX=-i.minX,i.minY=Math.min(r.slideHeight/2-a/2,0),i.maxY=-i.minY,i.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,i.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!i.isMoved&&!n.isScaling){if(e.isHorizontal()&&(Math.floor(i.minX)===Math.floor(i.startX)&&i.touchesCurrent.x<i.touchesStart.x||Math.floor(i.maxX)===Math.floor(i.startX)&&i.touchesCurrent.x>i.touchesStart.x))return void(i.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(i.minY)===Math.floor(i.startY)&&i.touchesCurrent.y<i.touchesStart.y||Math.floor(i.maxY)===Math.floor(i.startY)&&i.touchesCurrent.y>i.touchesStart.y))return void(i.isTouched=!1)}t.preventDefault(),t.stopPropagation(),i.isMoved=!0,i.currentX=i.touchesCurrent.x-i.touchesStart.x+i.startX,i.currentY=i.touchesCurrent.y-i.touchesStart.y+i.startY,i.currentX<i.minX&&(i.currentX=i.minX+1-(i.minX-i.currentX+1)**.8),i.currentX>i.maxX&&(i.currentX=i.maxX-1+(i.currentX-i.maxX+1)**.8),i.currentY<i.minY&&(i.currentY=i.minY+1-(i.minY-i.currentY+1)**.8),i.currentY>i.maxY&&(i.currentY=i.maxY-1+(i.currentY-i.maxY+1)**.8),s.prevPositionX||(s.prevPositionX=i.touchesCurrent.x),s.prevPositionY||(s.prevPositionY=i.touchesCurrent.y),s.prevTime||(s.prevTime=Date.now()),s.x=(i.touchesCurrent.x-s.prevPositionX)/(Date.now()-s.prevTime)/2,s.y=(i.touchesCurrent.y-s.prevPositionY)/(Date.now()-s.prevTime)/2,Math.abs(i.touchesCurrent.x-s.prevPositionX)<2&&(s.x=0),Math.abs(i.touchesCurrent.y-s.prevPositionY)<2&&(s.y=0),s.prevPositionX=i.touchesCurrent.x,s.prevPositionY=i.touchesCurrent.y,s.prevTime=Date.now(),r.$imageWrapEl.transform(`translate3d(${i.currentX}px, ${i.currentY}px,0)`)}},onTouchEnd(){const t=this.zoom,{gesture:e,image:n,velocity:r}=t;if(!e.$imageEl||0===e.$imageEl.length)return;if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;let i=300,s=300;const o=n.currentX+r.x*i,a=n.currentY+r.y*s;0!==r.x&&(i=Math.abs((o-n.currentX)/r.x)),0!==r.y&&(s=Math.abs((a-n.currentY)/r.y));const l=Math.max(i,s);n.currentX=o,n.currentY=a;const u=n.height*t.scale;n.minX=Math.min(e.slideWidth/2-n.width*t.scale/2,0),n.maxX=-n.minX,n.minY=Math.min(e.slideHeight/2-u/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),e.$imageWrapEl.transition(l).transform(`translate3d(${n.currentX}px, ${n.currentY}px,0)`)},onTransitionEnd(){const t=this.zoom,{gesture:e}=t;e.$slideEl&&this.previousIndex!==this.activeIndex&&(e.$imageEl.transform("translate3d(0,0,0) scale(1)"),e.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,e.$slideEl=void 0,e.$imageEl=void 0,e.$imageWrapEl=void 0)},toggle(t){const e=this.zoom;e.scale&&1!==e.scale?e.out():e.in(t)},in(t){const e=this.zoom,n=this.params.zoom,{gesture:r,image:i}=e;if(r.$slideEl||(r.$slideEl=this.clickedSlide?aw(this.clickedSlide):this.slides.eq(this.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent(`.${n.containerClass}`)),!r.$imageEl||0===r.$imageEl.length)return;let s,o,a,l,u,c,h,d,p,f,m,g,y,v,b,_,w,E;r.$slideEl.addClass(`${n.zoomedSlideClass}`),void 0===i.touchesStart.x&&t?(s="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,o="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(s=i.touchesStart.x,o=i.touchesStart.y),e.scale=r.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,e.currentScale=r.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,t?(w=r.$slideEl[0].offsetWidth,E=r.$slideEl[0].offsetHeight,u=(a=r.$slideEl.offset().left)+w/2-s,c=(l=r.$slideEl.offset().top)+E/2-o,g=(f=r.$imageEl[0].offsetHeight)*e.scale,y=Math.min(w/2-(m=(p=r.$imageEl[0].offsetWidth)*e.scale)/2,0),v=Math.min(E/2-g/2,0),(h=u*e.scale)<y&&(h=y),h>(b=-y)&&(h=b),(d=c*e.scale)<v&&(d=v),d>(_=-v)&&(d=_)):(h=0,d=0),r.$imageWrapEl.transition(300).transform(`translate3d(${h}px, ${d}px,0)`),r.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${e.scale})`)},out(){const t=this.zoom,e=this.params.zoom,{gesture:n}=t;n.$slideEl||(n.$slideEl=this.clickedSlide?aw(this.clickedSlide):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent(`.${e.containerClass}`)),n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(`${e.zoomedSlideClass}`),n.$slideEl=void 0)},enable(){const t=this.zoom;if(t.enabled)return;t.enabled=!0;const e=!("touchstart"!==this.touchEvents.start||!hw.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};hw.gestures?(this.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,e),this.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,e),this.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,".swiper-slide",t.onGestureStart,e),this.$wrapperEl.on(this.touchEvents.move,".swiper-slide",t.onGestureChange,e),this.$wrapperEl.on(this.touchEvents.end,".swiper-slide",t.onGestureEnd,e)),this.$wrapperEl.on(this.touchEvents.move,`.${this.params.zoom.containerClass}`,t.onTouchMove)},disable(){const t=this.zoom;if(!t.enabled)return;this.zoom.enabled=!1;const e=!("touchstart"!==this.touchEvents.start||!hw.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};hw.gestures?(this.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,e),this.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,e),this.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,e)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,".swiper-slide",t.onGestureStart,e),this.$wrapperEl.off(this.touchEvents.move,".swiper-slide",t.onGestureChange,e),this.$wrapperEl.off(this.touchEvents.end,".swiper-slide",t.onGestureEnd,e)),this.$wrapperEl.off(this.touchEvents.move,`.${this.params.zoom.containerClass}`,t.onTouchMove)}},qw={loadInSlide(t,e=!0){const n=this,r=n.params.lazy;if(void 0===t)return;if(0===n.slides.length)return;const i=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children(`.${n.params.slideClass}[data-swiper-slide-index="${t}"]`):n.slides.eq(t);let s=i.find(`.${r.elementClass}:not(.${r.loadedClass}):not(.${r.loadingClass})`);!i.hasClass(r.elementClass)||i.hasClass(r.loadedClass)||i.hasClass(r.loadingClass)||(s=s.add(i[0])),0!==s.length&&s.each((t,s)=>{const o=aw(s);o.addClass(r.loadingClass);const a=o.attr("data-background"),l=o.attr("data-src"),u=o.attr("data-srcset"),c=o.attr("data-sizes");n.loadImage(o[0],l||a,u,c,!1,()=>{if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(a?(o.css("background-image",`url("${a}")`),o.removeAttr("data-background")):(u&&(o.attr("srcset",u),o.removeAttr("data-srcset")),c&&(o.attr("sizes",c),o.removeAttr("data-sizes")),l&&(o.attr("src",l),o.removeAttr("data-src"))),o.addClass(r.loadedClass).removeClass(r.loadingClass),i.find(`.${r.preloaderClass}`).remove(),n.params.loop&&e){const t=i.attr("data-swiper-slide-index");if(i.hasClass(n.params.slideDuplicateClass)){const e=n.$wrapperEl.children(`[data-swiper-slide-index="${t}"]:not(.${n.params.slideDuplicateClass})`);n.lazy.loadInSlide(e.index(),!1)}else{const e=n.$wrapperEl.children(`.${n.params.slideDuplicateClass}[data-swiper-slide-index="${t}"]`);n.lazy.loadInSlide(e.index(),!1)}}n.emit("lazyImageReady",i[0],o[0])}}),n.emit("lazyImageLoad",i[0],o[0])})},load(){const t=this,{$wrapperEl:e,params:n,slides:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=n.lazy;let a=n.slidesPerView;function l(t){if(s){if(e.children(`.${n.slideClass}[data-swiper-slide-index="${t}"]`).length)return!0}else if(r[t])return!0;return!1}function u(t){return s?aw(t).attr("data-swiper-slide-index"):aw(t).index()}if("auto"===a&&(a=0),t.lazy.initialImageLoaded||(t.lazy.initialImageLoaded=!0),t.params.watchSlidesVisibility)e.children(`.${n.slideVisibleClass}`).each((e,n)=>{const r=s?aw(n).attr("data-swiper-slide-index"):aw(n).index();t.lazy.loadInSlide(r)});else if(a>1)for(let c=i;c<i+a;c+=1)l(c)&&t.lazy.loadInSlide(c);else t.lazy.loadInSlide(i);if(o.loadPrevNext)if(a>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){const e=o.loadPrevNextAmount,n=a,s=Math.min(i+n+Math.max(e,n),r.length),u=Math.max(i-Math.max(n,e),0);for(let r=i+a;r<s;r+=1)l(r)&&t.lazy.loadInSlide(r);for(let r=u;r<i;r+=1)l(r)&&t.lazy.loadInSlide(r)}else{const r=e.children(`.${n.slideNextClass}`);r.length>0&&t.lazy.loadInSlide(u(r));const i=e.children(`.${n.slidePrevClass}`);i.length>0&&t.lazy.loadInSlide(u(i))}}},zw={LinearSpline:function(t,e){const n=function(){let t,e,n;return(r,i)=>{for(e=-1,t=r.length;t-e>1;)r[n=t+e>>1]<=i?e=n:t=n;return t}}();let r,i;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(i=n(this.x,t),(t-this.x[r=i-1])*(this.y[i]-this.y[r])/(this.x[i]-this.x[r])+this.y[r]):0},this},getInterpolateFunction(t){this.controller.spline||(this.controller.spline=this.params.loop?new zw.LinearSpline(this.slidesGrid,t.slidesGrid):new zw.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate(t,e){const n=this,r=n.controller.control;let i,s;function o(t){const e=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(n.controller.getInterpolateFunction(t),s=-n.controller.spline.interpolate(-e)),s&&"container"!==n.params.controller.by||(i=(t.maxTranslate()-t.minTranslate())/(n.maxTranslate()-n.minTranslate()),s=(e-n.minTranslate())*i+t.minTranslate()),n.params.controller.inverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setTranslate(s,n),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(r))for(let a=0;a<r.length;a+=1)r[a]!==e&&r[a]instanceof Tw&&o(r[a]);else r instanceof Tw&&e!==r&&o(r)},setTransition(t,e){const n=this,r=n.controller.control;let i;function s(e){e.setTransition(t,n),0!==t&&(e.transitionStart(),e.params.autoHeight&&cw.nextTick(()=>{e.updateAutoHeight()}),e.$wrapperEl.transitionEnd(()=>{r&&(e.params.loop&&"slide"===n.params.controller.by&&e.loopFix(),e.transitionEnd())}))}if(Array.isArray(r))for(i=0;i<r.length;i+=1)r[i]!==e&&r[i]instanceof Tw&&s(r[i]);else r instanceof Tw&&e!==r&&s(r)}},$w={makeElFocusable:t=>(t.attr("tabIndex","0"),t),addElRole:(t,e)=>(t.attr("role",e),t),addElLabel:(t,e)=>(t.attr("aria-label",e),t),disableEl:t=>(t.attr("aria-disabled",!0),t),enableEl:t=>(t.attr("aria-disabled",!1),t),onEnterKey(t){const e=this.params.a11y;if(13!==t.keyCode)return;const n=aw(t.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.a11y.notify(this.isEnd?e.lastSlideMessage:e.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.a11y.notify(this.isBeginning?e.firstSlideMessage:e.prevSlideMessage)),this.pagination&&n.is(`.${this.params.pagination.bulletClass}`)&&n[0].click()},notify(t){const e=this.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},updateNavigation(){if(this.params.loop)return;const{$nextEl:t,$prevEl:e}=this.navigation;e&&e.length>0&&(this.isBeginning?this.a11y.disableEl(e):this.a11y.enableEl(e)),t&&t.length>0&&(this.isEnd?this.a11y.disableEl(t):this.a11y.enableEl(t))},updatePagination(){const t=this,e=t.params.a11y;t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.bullets.each((n,r)=>{const i=aw(r);t.a11y.makeElFocusable(i),t.a11y.addElRole(i,"button"),t.a11y.addElLabel(i,e.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},init(){this.$el.append(this.a11y.liveRegion);const t=this.params.a11y;let e,n;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(n=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,t.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),n&&(this.a11y.makeElFocusable(n),this.a11y.addElRole(n,"button"),this.a11y.addElLabel(n,t.prevSlideMessage),n.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown",`.${this.params.pagination.bulletClass}`,this.a11y.onEnterKey)},destroy(){let t,e;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(t=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(e=this.navigation.$prevEl),t&&t.off("keydown",this.a11y.onEnterKey),e&&e.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown",`.${this.params.pagination.bulletClass}`,this.a11y.onEnterKey)}},Hw={init(){if(!this.params.history)return;if(!sw.history||!sw.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);const t=this.history;t.initialized=!0,t.paths=Hw.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||sw.addEventListener("popstate",this.history.setHistoryPopState))},destroy(){this.params.history.replaceState||sw.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState(){this.history.paths=Hw.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues(){const t=sw.location.pathname.slice(1).split("/").filter(t=>""!==t),e=t.length;return{key:t[e-2],value:t[e-1]}},setHistory(t,e){if(!this.history.initialized||!this.params.history.enabled)return;const n=this.slides.eq(e);let r=Hw.slugify(n.attr("data-history"));sw.location.pathname.includes(t)||(r=`${t}/${r}`);const i=sw.history.state;i&&i.value===r||(this.params.history.replaceState?sw.history.replaceState({value:r},null,r):sw.history.pushState({value:r},null,r))},slugify:t=>t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),scrollToSlide(t,e,n){const r=this;if(e)for(let i=0,s=r.slides.length;i<s;i+=1){const s=r.slides.eq(i);if(Hw.slugify(s.attr("data-history"))===e&&!s.hasClass(r.params.slideDuplicateClass)){const e=s.index();r.slideTo(e,t,n)}}else r.slideTo(0,t,n)}},Ww={onHashCange(){const t=this,e=iw.location.hash.replace("#","");if(e!==t.slides.eq(t.activeIndex).attr("data-hash")){const n=t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${e}"]`).index();if(void 0===n)return;t.slideTo(n)}},setHash(){const t=this;if(t.hashNavigation.initialized&&t.params.hashNavigation.enabled)if(t.params.hashNavigation.replaceState&&sw.history&&sw.history.replaceState)sw.history.replaceState(null,null,`#${t.slides.eq(t.activeIndex).attr("data-hash")}`||"");else{const e=t.slides.eq(t.activeIndex),n=e.attr("data-hash")||e.attr("data-history");iw.location.hash=n||""}},init(){const t=this;if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;t.hashNavigation.initialized=!0;const e=iw.location.hash.replace("#","");if(e){const n=0;for(let r=0,i=t.slides.length;r<i;r+=1){const i=t.slides.eq(r);if((i.attr("data-hash")||i.attr("data-history"))===e&&!i.hasClass(t.params.slideDuplicateClass)){const e=i.index();t.slideTo(e,n,t.params.runCallbacksOnInit,!0)}}}t.params.hashNavigation.watchState&&aw(sw).on("hashchange",t.hashNavigation.onHashCange)},destroy(){this.params.hashNavigation.watchState&&aw(sw).off("hashchange",this.hashNavigation.onHashCange)}},Gw={run(){const t=this,e=t.slides.eq(t.activeIndex);let n=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(n=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),t.autoplay.timeout=cw.nextTick(()=>{t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))},n)},start(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause(t){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==t&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))}},Kw={setTranslate(){const t=this,{slides:e}=t;for(let n=0;n<e.length;n+=1){const e=t.slides.eq(n);let r=-e[0].swiperSlideOffset;t.params.virtualTranslate||(r-=t.translate);let i=0;t.isHorizontal()||(i=r,r=0);const s=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:s}).transform(`translate3d(${r}px, ${i}px, 0px)`)}},setTransition(t){const e=this,{slides:n,$wrapperEl:r}=e;if(n.transition(t),e.params.virtualTranslate&&0!==t){let t=!1;n.transitionEnd(()=>{if(t)return;if(!e||e.destroyed)return;t=!0,e.animating=!1;const n=["webkitTransitionEnd","transitionend"];for(let t=0;t<n.length;t+=1)r.trigger(n[t])})}}},Qw={setTranslate(){const{$el:t,$wrapperEl:e,slides:n,width:r,height:i,rtlTranslate:s,size:o}=this,a=this.params.cubeEffect,l=this.isHorizontal(),u=this.virtual&&this.params.virtual.enabled;let c,h=0;a.shadow&&(l?(0===(c=e.find(".swiper-cube-shadow")).length&&(c=aw('<div class="swiper-cube-shadow"></div>'),e.append(c)),c.css({height:`${r}px`})):0===(c=t.find(".swiper-cube-shadow")).length&&(c=aw('<div class="swiper-cube-shadow"></div>'),t.append(c)));for(let d=0;d<n.length;d+=1){const t=n.eq(d);let e=d;u&&(e=parseInt(t.attr("data-swiper-slide-index"),10));let r=90*e,i=Math.floor(r/360);s&&(r=-r,i=Math.floor(-r/360));const c=Math.max(Math.min(t[0].progress,1),-1);let p=0,f=0,m=0;e%4==0?(p=4*-i*o,m=0):(e-1)%4==0?(p=0,m=4*-i*o):(e-2)%4==0?(p=o+4*i*o,m=o):(e-3)%4==0&&(p=-o,m=3*o+4*o*i),s&&(p=-p),l||(f=p,p=0);const g=`rotateX(${l?0:-r}deg) rotateY(${l?r:0}deg) translate3d(${p}px, ${f}px, ${m}px)`;if(c<=1&&c>-1&&(h=90*e+90*c,s&&(h=90*-e-90*c)),t.transform(g),a.slideShadows){let e=t.find(l?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),n=t.find(l?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===e.length&&(e=aw(`<div class="swiper-slide-shadow-${l?"left":"top"}"></div>`),t.append(e)),0===n.length&&(n=aw(`<div class="swiper-slide-shadow-${l?"right":"bottom"}"></div>`),t.append(n)),e.length&&(e[0].style.opacity=Math.max(-c,0)),n.length&&(n[0].style.opacity=Math.max(c,0))}}if(e.css({"-webkit-transform-origin":`50% 50% -${o/2}px`,"-moz-transform-origin":`50% 50% -${o/2}px`,"-ms-transform-origin":`50% 50% -${o/2}px`,"transform-origin":`50% 50% -${o/2}px`}),a.shadow)if(l)c.transform(`translate3d(0px, ${r/2+a.shadowOffset}px, ${-r/2}px) rotateX(90deg) rotateZ(0deg) scale(${a.shadowScale})`);else{const t=Math.abs(h)-90*Math.floor(Math.abs(h)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),n=a.shadowScale/e;c.transform(`scale3d(${a.shadowScale}, 1, ${n}) translate3d(0px, ${i/2+a.shadowOffset}px, ${-i/2/n}px) rotateX(-90deg)`)}e.transform(`translate3d(0px,0,${dw.isSafari||dw.isUiWebView?-o/2:0}px) rotateX(${this.isHorizontal()?0:h}deg) rotateY(${this.isHorizontal()?-h:0}deg)`)},setTransition(t){const{$el:e,slides:n}=this;n.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}},Yw={setTranslate(){const t=this,{slides:e,rtlTranslate:n}=t;for(let r=0;r<e.length;r+=1){const i=e.eq(r);let s=i[0].progress;t.params.flipEffect.limitRotation&&(s=Math.max(Math.min(i[0].progress,1),-1));let o=-180*s,a=0,l=-i[0].swiperSlideOffset,u=0;if(t.isHorizontal()?n&&(o=-o):(u=l,l=0,a=-o,o=0),i[0].style.zIndex=-Math.abs(Math.round(s))+e.length,t.params.flipEffect.slideShadows){let e=t.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),n=t.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===e.length&&(e=aw(`<div class="swiper-slide-shadow-${t.isHorizontal()?"left":"top"}"></div>`),i.append(e)),0===n.length&&(n=aw(`<div class="swiper-slide-shadow-${t.isHorizontal()?"right":"bottom"}"></div>`),i.append(n)),e.length&&(e[0].style.opacity=Math.max(-s,0)),n.length&&(n[0].style.opacity=Math.max(s,0))}i.transform(`translate3d(${l}px, ${u}px, 0px) rotateX(${a}deg) rotateY(${o}deg)`)}},setTransition(t){const e=this,{slides:n,activeIndex:r,$wrapperEl:i}=e;if(n.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.virtualTranslate&&0!==t){let t=!1;n.eq(r).transitionEnd(function(){if(t)return;if(!e||e.destroyed)return;t=!0,e.animating=!1;const n=["webkitTransitionEnd","transitionend"];for(let t=0;t<n.length;t+=1)i.trigger(n[t])})}}},Xw={setTranslate(){const{width:t,height:e,slides:n,$wrapperEl:r,slidesSizesGrid:i}=this,s=this.params.coverflowEffect,o=this.isHorizontal(),a=this.translate,l=o?t/2-a:e/2-a,u=o?s.rotate:-s.rotate,c=s.depth;for(let h=0,d=n.length;h<d;h+=1){const t=n.eq(h),e=i[h],r=(l-t[0].swiperSlideOffset-e/2)/e*s.modifier;let a=o?u*r:0,d=o?0:u*r,p=-c*Math.abs(r),f=o?0:s.stretch*r,m=o?s.stretch*r:0;if(Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(a)<.001&&(a=0),Math.abs(d)<.001&&(d=0),t.transform(`translate3d(${m}px,${f}px,${p}px)  rotateX(${d}deg) rotateY(${a}deg)`),t[0].style.zIndex=1-Math.abs(Math.round(r)),s.slideShadows){let e=t.find(o?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),n=t.find(o?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===e.length&&(e=aw(`<div class="swiper-slide-shadow-${o?"left":"top"}"></div>`),t.append(e)),0===n.length&&(n=aw(`<div class="swiper-slide-shadow-${o?"right":"bottom"}"></div>`),t.append(n)),e.length&&(e[0].style.opacity=r>0?r:0),n.length&&(n[0].style.opacity=-r>0?-r:0)}}(hw.pointerEvents||hw.prefixedPointerEvents)&&(r[0].style.perspectiveOrigin=`${l}px 50%`)},setTransition(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},Zw={init(){const{thumbs:t}=this.params,e=this.constructor;t.swiper instanceof e?(this.thumbs.swiper=t.swiper,cw.extend(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),cw.extend(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):cw.isObject(t.swiper)&&(this.thumbs.swiper=new e(cw.extend({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick)},onThumbClick(){const t=this,e=t.thumbs.swiper;if(!e)return;const n=e.clickedIndex,r=e.clickedSlide;if(r&&aw(r).hasClass(t.params.thumbs.slideThumbActiveClass))return;if(null==n)return;let i;if(i=e.params.loop?parseInt(aw(e.clickedSlide).attr("data-swiper-slide-index"),10):n,t.params.loop){let e=t.activeIndex;t.slides.eq(e).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,e=t.activeIndex);const n=t.slides.eq(e).prevAll(`[data-swiper-slide-index="${i}"]`).eq(0).index(),r=t.slides.eq(e).nextAll(`[data-swiper-slide-index="${i}"]`).eq(0).index();i=void 0===n?r:void 0===r?n:r-e<e-n?r:n}t.slideTo(i)},update(t){const e=this,n=e.thumbs.swiper;if(!n)return;const r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView;if(e.realIndex!==n.realIndex){let i,s=n.activeIndex;if(n.params.loop){n.slides.eq(s).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,s=n.activeIndex);const t=n.slides.eq(s).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),r=n.slides.eq(s).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();i=void 0===t?r:void 0===r?t:r-s==s-t?s:r-s<s-t?r:t}else i=e.realIndex;n.visibleSlidesIndexes.indexOf(i)<0&&(n.params.centeredSlides?i=i>s?i-Math.floor(r/2)+1:i+Math.floor(r/2)-1:i>s&&(i=i-r+1),n.slideTo(i,t?0:void 0))}let i=1;const s=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(i=e.params.slidesPerView),n.slides.removeClass(s),n.params.loop)for(let o=0;o<i;o+=1)n.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+o}"]`).addClass(s);else for(let o=0;o<i;o+=1)n.slides.eq(e.realIndex+o).addClass(s)}},Jw=[xw,Iw,kw,Aw,Ow,Rw,Mw,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create(){cw.extend(this,{mousewheel:{enabled:!1,enable:Lw.enable.bind(this),disable:Lw.disable.bind(this),handle:Lw.handle.bind(this),handleMouseEnter:Lw.handleMouseEnter.bind(this),handleMouseLeave:Lw.handleMouseLeave.bind(this),lastScrollTime:cw.now()}})},on:{init(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create(){cw.extend(this,{navigation:{init:Fw.init.bind(this),update:Fw.update.bind(this),destroy:Fw.destroy.bind(this),onNextClick:Fw.onNextClick.bind(this),onPrevClick:Fw.onPrevClick.bind(this)}})},on:{init(){this.navigation.init(),this.navigation.update()},toEdge(){this.navigation.update()},fromEdge(){this.navigation.update()},destroy(){this.navigation.destroy()},click(t){const e=this,{$nextEl:n,$prevEl:r}=e.navigation;if(e.params.navigation.hideOnClick&&!aw(t.target).is(r)&&!aw(t.target).is(n)){let t;n?t=n.hasClass(e.params.navigation.hiddenClass):r&&(t=r.hasClass(e.params.navigation.hiddenClass)),e.emit(!0===t?"navigationShow":"navigationHide",e),n&&n.toggleClass(e.params.navigation.hiddenClass),r&&r.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create(){cw.extend(this,{pagination:{init:Vw.init.bind(this),render:Vw.render.bind(this),update:Vw.update.bind(this),destroy:Vw.destroy.bind(this),dynamicBulletIndex:0}})},on:{init(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange(){this.params.loop||this.pagination.update()},slidesLengthChange(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy(){this.pagination.destroy()},click(t){const e=this;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!aw(t.target).hasClass(e.params.pagination.bulletClass)){const t=e.pagination.$el.hasClass(e.params.pagination.hiddenClass);e.emit(!0===t?"paginationShow":"paginationHide",e),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create(){cw.extend(this,{scrollbar:{init:Uw.init.bind(this),destroy:Uw.destroy.bind(this),updateSize:Uw.updateSize.bind(this),setTranslate:Uw.setTranslate.bind(this),setTransition:Uw.setTransition.bind(this),enableDraggable:Uw.enableDraggable.bind(this),disableDraggable:Uw.disableDraggable.bind(this),setDragPosition:Uw.setDragPosition.bind(this),onDragStart:Uw.onDragStart.bind(this),onDragMove:Uw.onDragMove.bind(this),onDragEnd:Uw.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update(){this.scrollbar.updateSize()},resize(){this.scrollbar.updateSize()},observerUpdate(){this.scrollbar.updateSize()},setTranslate(){this.scrollbar.setTranslate()},setTransition(t){this.scrollbar.setTransition(t)},destroy(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create(){cw.extend(this,{parallax:{setTransform:Bw.setTransform.bind(this),setTranslate:Bw.setTranslate.bind(this),setTransition:Bw.setTransition.bind(this)}})},on:{beforeInit(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition(t){this.params.parallax.enabled&&this.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create(){const t=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(n=>{e[n]=jw[n].bind(t)}),cw.extend(t,{zoom:e});let n=1;Object.defineProperty(t.zoom,"scale",{get:()=>n,set(e){n!==e&&t.emit("zoomChange",e,t.zoom.gesture.$imageEl?t.zoom.gesture.$imageEl[0]:void 0,t.zoom.gesture.$slideEl?t.zoom.gesture.$slideEl[0]:void 0),n=e}})},on:{init(){this.params.zoom.enabled&&this.zoom.enable()},destroy(){this.zoom.disable()},touchStart(t){this.zoom.enabled&&this.zoom.onTouchStart(t)},touchEnd(t){this.zoom.enabled&&this.zoom.onTouchEnd(t)},doubleTap(t){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(t)},transitionEnd(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create(){cw.extend(this,{lazy:{initialImageLoaded:!1,load:qw.load.bind(this),loadInSlide:qw.loadInSlide.bind(this)}})},on:{beforeInit(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove(){this.params.lazy.enabled&&this.lazy.load()},transitionStart(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create(){cw.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:zw.getInterpolateFunction.bind(this),setTranslate:zw.setTranslate.bind(this),setTransition:zw.setTransition.bind(this)}})},on:{update(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate(t,e){this.controller.control&&this.controller.setTranslate(t,e)},setTransition(t,e){this.controller.control&&this.controller.setTransition(t,e)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create(){const t=this;cw.extend(t,{a11y:{liveRegion:aw(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}}),Object.keys($w).forEach(e=>{t.a11y[e]=$w[e].bind(t)})},on:{init(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create(){cw.extend(this,{history:{init:Hw.init.bind(this),setHistory:Hw.setHistory.bind(this),setHistoryPopState:Hw.setHistoryPopState.bind(this),scrollToSlide:Hw.scrollToSlide.bind(this),destroy:Hw.destroy.bind(this)}})},on:{init(){this.params.history.enabled&&this.history.init()},destroy(){this.params.history.enabled&&this.history.destroy()},transitionEnd(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create(){cw.extend(this,{hashNavigation:{initialized:!1,init:Ww.init.bind(this),destroy:Ww.destroy.bind(this),setHash:Ww.setHash.bind(this),onHashCange:Ww.onHashCange.bind(this)}})},on:{init(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create(){const t=this;cw.extend(t,{autoplay:{running:!1,paused:!1,run:Gw.run.bind(t),start:Gw.start.bind(t),stop:Gw.stop.bind(t),pause:Gw.pause.bind(t),onTransitionEnd(e){t&&!t.destroyed&&t.$wrapperEl&&e.target===this&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}}})},on:{init(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart(t,e){this.autoplay.running&&(e||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(t):this.autoplay.stop())},sliderFirstMove(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create(){cw.extend(this,{fadeEffect:{setTranslate:Kw.setTranslate.bind(this),setTransition:Kw.setTransition.bind(this)}})},on:{beforeInit(){if("fade"!==this.params.effect)return;this.classNames.push(`${this.params.containerModifierClass}fade`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};cw.extend(this.params,t),cw.extend(this.originalParams,t)},setTranslate(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition(t){"fade"===this.params.effect&&this.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create(){cw.extend(this,{cubeEffect:{setTranslate:Qw.setTranslate.bind(this),setTransition:Qw.setTransition.bind(this)}})},on:{beforeInit(){if("cube"!==this.params.effect)return;this.classNames.push(`${this.params.containerModifierClass}cube`),this.classNames.push(`${this.params.containerModifierClass}3d`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};cw.extend(this.params,t),cw.extend(this.originalParams,t)},setTranslate(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition(t){"cube"===this.params.effect&&this.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create(){cw.extend(this,{flipEffect:{setTranslate:Yw.setTranslate.bind(this),setTransition:Yw.setTransition.bind(this)}})},on:{beforeInit(){if("flip"!==this.params.effect)return;this.classNames.push(`${this.params.containerModifierClass}flip`),this.classNames.push(`${this.params.containerModifierClass}3d`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};cw.extend(this.params,t),cw.extend(this.originalParams,t)},setTranslate(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition(t){"flip"===this.params.effect&&this.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create(){cw.extend(this,{coverflowEffect:{setTranslate:Xw.setTranslate.bind(this),setTransition:Xw.setTransition.bind(this)}})},on:{beforeInit(){"coverflow"===this.params.effect&&(this.classNames.push(`${this.params.containerModifierClass}coverflow`),this.classNames.push(`${this.params.containerModifierClass}3d`),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition(t){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create(){cw.extend(this,{thumbs:{swiper:null,init:Zw.init.bind(this),update:Zw.update.bind(this),onThumbClick:Zw.onThumbClick.bind(this)}})},on:{beforeInit(){const{thumbs:t}=this.params;t&&t.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange(){this.thumbs.swiper&&this.thumbs.update()},update(){this.thumbs.swiper&&this.thumbs.update()},resize(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate(){this.thumbs.swiper&&this.thumbs.update()},setTransition(t){const e=this.thumbs.swiper;e&&e.setTransition(t)},beforeDestroy(){const t=this.thumbs.swiper;t&&this.thumbs.swiperCreated&&t&&t.destroy()}}}];void 0===Tw.use&&(Tw.use=Tw.Class.use,Tw.installModule=Tw.Class.installModule),Tw.use(Jw);var tE=Tw;const eE=(()=>(class{constructor(t,e){this.elementRef=t,this.changeDetectorRef=e,this.slideCount=0,this.initialized=!1,this.shouldInitialize=!0}set initialize(t){this.shouldInitialize=!this.initialized&&t}ngAfterViewInit(){this.shouldInitialize&&this.setup()}setup(){this.swiper||(this.elementRef.nativeElement.querySelector&&(this.swiperWrapper=this.elementRef.nativeElement.querySelector(".swiper-wrapper"),this.slideCount=this.swiperWrapper.childElementCount,this.swiper=new tE(this.elementRef.nativeElement.querySelector("swiper > div"),this.config),this.changeDetectorRef.detectChanges()),this.shouldInitialize=!1)}ngAfterViewChecked(){this.shouldInitialize&&this.setup(),this.swiperWrapper&&this.slideCount!==this.swiperWrapper.childElementCount&&(this.slideCount=this.swiperWrapper.childElementCount,this.swiper.update())}}))(),nE=(()=>(class{}))();var rE=Xn({encapsulation:0,styles:["[_nghost-%COMP%]{display:block}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}"],data:{}});function iE(t){return eo(0,[(t()(),Us(0,0,null,null,4,"div",[],null,null,null,null,null)),hi(512,null,xa,Ia,[Sn,Cn,rn,un]),ui(2,278528,null,0,Aa,[xa],{ngClass:[0,"ngClass"]},null),Xs(3,{"swiper-container":0}),Qs(null,0)],function(t,e){var n=e.component,r=t(e,3,0,void 0===(null==n.config?null:n.config.containerModifierClass));t(e,2,0,r)},null)}var sE=n("LvDl");class oE{constructor(t,e,n,r,i,s,o){this.dialog=t,this.api=e,this.profileAPI=n,this.notificationService=r,this.auth=i,this.setupAPI=s,this.afs=o,this.config={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:!0,spaceBetween:30}}ngOnInit(){this.auth.user$.subscribe(t=>{this.uid=t.uid,this.getProfile()})}getProfile(){this.setupAPI.getProfile(this.uid).subscribe(t=>{t.exists?(this.profile=t.data(),this.findFriends()):this.notificationService.showErrorWithTimeout("Profile not found.","Error",5e3)})}findFriends(){this.api.getProfiles(this.profile).subscribe(t=>{let e=[];t.docs.forEach(t=>{t.id===this.uid||sE.find(this.profile.friends,{id:t.id})||e.push(t.data())}),e.forEach(t=>{let e=[];this.profileAPI.getRegion(this.profile.regionId.toString()).subscribe(e=>{t._region=e.data()}),this.profileAPI.getComm(this.profile.communicationPlatformId.toString()).subscribe(e=>{t._communicationPlatform=e.data()}),this.profileAPI.getPlatform(this.profile.platformId.toString()).subscribe(e=>{t._platform=e.data()}),t.steamApps.forEach(t=>{this.profileAPI.getSteamApp(t.toString()).subscribe(t=>{e.push(t.data())})}),t._steamAppChips=e}),this.profiles=e})}addFriend(t,e){null==this.profile.friends&&(this.profile.friends=[]),this.profile.friends.push(this.afs.doc(`profiles/${t.uid}`).ref),this.setupAPI.saveProfile(this.profile).then(t=>{this.friendSwiper.swiper.removeSlide(e),this.notificationService.showSuccessWithTimeout("Friend added successfully.","Success.",1e3)})}decline(t,e){this.friendSwiper.swiper.removeSlide(e)}isDaySelected(t,e){return sE.includes(t.days,e)}}class aE{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lp(-this._previousScrollPosition.left),t.style.top=lp(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function lE(){return Error("Scroll strategy has already been attached.")}class uE{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=(()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())})}attach(t){if(this._overlayRef)throw lE();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cE{enable(){}disable(){}attach(){}}function hE(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function dE(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class pE{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw lE();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();hE(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}const fE=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=(()=>new cE),this.close=(t=>new uE(this._scrollDispatcher,this._ngZone,this._viewportRuler,t)),this.block=(()=>new aE(this._viewportRuler,this._document)),this.reposition=(t=>new pE(this._scrollDispatcher,this._viewportRuler,this._ngZone,t)),this._document=r}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(wv),kt(Cv),kt(ts),kt(Ha))},token:t,providedIn:"root"}),t})();class mE{constructor(t){this.scrollStrategy=new cE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t&&Object.keys(t).forEach(e=>{void 0!==t[e]&&(this[e]=t[e])})}}class gE{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}const yE=(()=>(class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}))();function vE(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function bE(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}const _E=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=(t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}}),this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(Ha))},token:t,providedIn:"root"}),t})(),wE=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(Ha))},token:t,providedIn:"root"}),t})();class EE{constructor(t,e,n,r,i,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new I,this._attachments=new I,this._detachments=new I,this._locationChanges=d.EMPTY,this._keydownEventsObservable=new w(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new I,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(kl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){const t=this._pane.style;t.width=lp(this._config.width),t.height=lp(this._config.height),t.minWidth=lp(this._config.minWidth),t.minHeight=lp(this._config.minHeight),t.maxWidth=lp(this._config.maxWidth),t.maxHeight=lp(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",t=>this._backdropClick.next(t)),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&e.parentNode&&e.parentNode.removeChild(e),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;ap(e).forEach(t=>{n?r.add(t):r.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(qf(Z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const SE="cdk-overlay-connected-position-bounding-box";class CE{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new I,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(SE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&TE(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+(i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let l=0-s,u=s+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return this._previousPushAmount={x:l=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,y:u=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new yE(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,u;if("top"===e.overlayY)i=n.height-(s=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)i=n.height-(o=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;s=t.y-e,(i=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.right-t.x+this._viewportMargin,a=t.x-n.left;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:s,left:l,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=lp(n.height),r.top=lp(n.top),r.bottom=lp(n.bottom),r.width=lp(n.width),r.left=lp(n.left),r.right=lp(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=lp(t)),i&&(r.maxWidth=lp(i))}this._lastBoundingBoxSize=n,TE(this._boundingBox.style,r)}_resetBoundingBoxStyles(){TE(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){TE(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const r=this._viewportRuler.getViewportScrollPosition();TE(n,this._getExactOverlayY(e,t,r)),TE(n,this._getExactOverlayX(e,t,r))}else n.position="static";let r="",i=this._getOffset(e,"x"),s=this._getOffset(e,"y");i&&(r+=`translateX(${i}px) `),s&&(r+=`translateY(${s}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),TE(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=lp(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:null,right:null},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"right"==(r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:i.left=lp(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dE(t,n),isOriginOutsideView:hE(t,n),isOverlayClipped:dE(e,n),isOverlayOutsideView:hE(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{bE("originX",t.originX),vE("originY",t.originY),bE("overlayX",t.overlayX),vE("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&ap(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;return t instanceof rn?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}}}function TE(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class xE{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new CE(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new gE(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const IE="cdk-global-overlay-wrapper";class kE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(IE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(IE),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}const AE=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new kE}connectedTo(t,e,n){return new xE(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new CE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(Cv),kt(Ha),kt(hp),kt(wE))},token:t,providedIn:"root"}),t})();let DE=0;const OE=(()=>(class{constructor(t,e,n,r,i,s,o,a,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new mE(t);return i.direction=i.direction||this._directionality.value,new EE(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${DE++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(bs)),new ep(t,this._componentFactoryResolver,this._appRef,this._injector)}}))(),NE=new Dt("cdk-connected-overlay-scroll-strategy");function RE(t){return()=>t.scrollStrategies.reposition()}const PE=(()=>(class{}))();class ME{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}function LE(){throw Error("Attempting to attach dialog content after content is already attached")}const FE=(()=>(class extends tp{constructor(t,e,n,r,i){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._document=r,this._config=i,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new Ii,this._ariaLabelledBy=i.ariaLabelledBy||null}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&LE(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&LE(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}))();let VE=0;class UE{constructor(t,e,n,r=`mat-dialog-${VE++}`){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new I,this._afterClosed=new I,this._beforeClosed=new I,e._id=r,e._animationStateChanged.pipe(ul(t=>"done"===t.phaseName&&"enter"===t.toState),kl(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ul(t=>"done"===t.phaseName&&"exit"===t.toState),kl(1)).subscribe(()=>this._overlayRef.dispose()),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ul(t=>t.keyCode===yp&&!this.disableClose&&!Ip(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ul(t=>"start"===t.phaseName),kl(1)).subscribe(()=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const BE=new Dt("MatDialogData"),jE=new Dt("mat-dialog-default-options"),qE=new Dt("mat-dialog-scroll-strategy");function zE(t){return()=>t.scrollStrategies.block()}const $E=(()=>(class{constructor(t,e,n,r,i,s,o){this._overlay=t,this._injector=e,this._location=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new I,this._afterOpenedAtThisLevel=new I,this._ariaHiddenElements=new Map,this.afterAllClosed=al(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Fl(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign({},e,t)}(e,this._defaultOptions||new ME)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new mE({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=new ip(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[ME,e]])),r=new Zd(FE,e.viewContainerRef,n);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new UE(n,e,this._location,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{i.disableClose||i.close()}),t instanceof Dn)e.attachTemplatePortal(new Jd(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),s=e.attachComponentPortal(new Zd(t,void 0,n));i.componentInstance=s.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[FE,n],[BE,t.data],[UE,e]]);return!t.direction||r&&r.get(ym,null)||i.set(ym,{value:t.direction,change:tl()}),new ip(r||this._injector,i)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}))(),HE=(()=>(class{}))();function WE(t){return function(t){return new w(e=>({unsubscribe:t.onSnapshot(e)}))}(t).pipe(ot())}function GE(t){return WE(t).pipe(q(t=>({payload:t,type:"query"})))}function KE(t){return GE(t).pipe(q(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function QE(t,e){return GE(t).pipe(q(t=>t.payload.docChanges()),Vl((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),q(t=>t.map(t=>({type:t.type,payload:t}))))}class YE{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded(function(){return fv.schedule.apply(fv,t)})}keepUnstableUntilFirst(t){return Ka(this.platformId)?new w(e=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(t=>{"scheduled"===r.state&&r.invoke(),e.next(t)},t=>{"scheduled"===r.state&&r.invoke(),e.error(t)},()=>{"scheduled"===r.state&&r.invoke(),e.complete()})}):t}runOutsideAngular(t){return new w(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}const XE=t=>e=>new w(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())));function ZE(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class JE{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(KE(this.query))).pipe(q(e=>e.filter(e=>t.indexOf(e.type)>-1)),ul(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(KE(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(Vl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ZE(t),n=QE(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(t={}){const e=GE(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(q(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return W(this.query.get(t)).pipe(XE(this.afs.scheduler.zone))}add(t){return this.ref.add(t)}doc(t){return new tS(this.ref.doc(t),this.afs)}}class tS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=mS(n,e);return new JE(r,i,this.afs)}snapshotChanges(){const t=WE(this.ref).pipe(q(t=>({payload:t,type:"value"}))),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}valueChanges(){return this.snapshotChanges().pipe(q(t=>t.payload.data()))}get(t){return W(this.ref.get(t)).pipe(XE(this.afs.scheduler.zone))}}class eS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(KE(this.query))).pipe(q(e=>e.filter(e=>t.indexOf(e.type)>-1)),ul(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(KE(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(Vl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ZE(t),n=QE(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const t=GE(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(q(t=>t.payload.docs.map(t=>t.data())))}get(t){return W(this.query.get(t)).pipe(XE(this.afs.scheduler.zone))}}var nS,rS=n("Wcq6"),iS=n.n(rS);const sS=new Dt("angularfire2.app.options"),oS=new Dt("angularfire2.app.nameOrConfig");class aS{}function lS(t,e){const n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",iS.a.apps.filter(t=>t&&t.name===n.name)[0]||iS.a.initializeApp(t,n)}const uS=(()=>nS=class{static initializeApp(t,e){return{ngModule:nS,providers:[{provide:sS,useValue:t},{provide:oS,useValue:e}]}}})(),cS=new Dt("angularfire2.enableFirestorePersistence"),hS=new Dt("angularfire2.firestore.persistenceSettings"),dS=new Dt("angularfire2.firestore.settings"),pS=parseInt(iS.a.SDK_VERSION.split(".")[0]),fS=pS<5||5==pS&&parseInt(iS.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function mS(t,e=(t=>t)){return{query:e(t),ref:t}}const gS=(()=>(class{constructor(t,e,n,r,i,s,o){this.scheduler=new YE(s,i),this.firestore=s.runOutsideAngular(()=>{const n=lS(t,e).firestore();return n.settings(r||fS),n}),this.persistenceEnabled$=n&&!Ka(i)?s.runOutsideAngular(()=>{try{return W(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return tl(!1)}}):tl(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=mS(n,e);return new JE(r,i,this)}collectionGroup(t,e){if(pS<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new eS(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new tS(e,this)}createId(){return this.firestore.collection("_").doc().id}}))(),yS=(()=>{class t{constructor(t){this.afs=t}getProfiles(t){return this.afs.collection("profiles",e=>e.where("regionId","==",t.regionId).where("platformId","==",t.platformId).where("communicationPlatformId","==",t.communicationPlatformId)).get()}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(gS))},token:t,providedIn:"root"}),t})(),vS=(()=>{class t{constructor(t){this.afs=t}getRegion(t){return this.afs.doc(`regions/${t}`).get()}getPlatform(t){return this.afs.doc(`platform/${t}`).get()}getComm(t){return this.afs.doc(`communicationPlatform/${t}`).get()}getSteamApp(t){return this.afs.doc(`steamGames/${t}`).get()}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(gS))},token:t,providedIn:"root"}),t})();class bS{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new I,this._onAction=new I,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const _S={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},wS=new Dt("ToastConfig");class ES{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class SS{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class CS extends SS{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}const TS=(()=>{let t=class{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}};return t.ngInjectableDef=gt({factory:function(){return new t(At(Ha))},token:t,providedIn:"root"}),t})();class xS{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}const IS=(()=>{let t=class{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new CS(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new xS(this._createPortalHost(t))}};return t.ngInjectableDef=gt({factory:function(){return new t(At(TS),At(Xe),At(bs),At(Ha))},token:t,providedIn:"root"}),t})();class kS{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new I,this._activate=new I,this._manualClose=new I,this._resetTimeout=new I,this._countDuplicate=new I}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class AS{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===bS?this._toastPackage:this._parentInjector.get(t,e,n)}}const DS=(()=>{let t=class{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},t.default,t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},t.default.iconClasses,t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t,e,n){for(let r=0;r<this.toasts.length;r++){const i=this.toasts[r];if(i.message===t)return i.toastRef.onDuplicate(e,n),i}return null}applyConfig(t={}){return Object.assign({},this.toastrConfig,t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");const i=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const o=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let a=e;e&&r.enableHtml&&(a=this.sanitizer.sanitize(Ae.HTML,e));const l=new kS(o),u=new bS(this.index,r,a,n,t,l),c=new AS(u,this._injector),h=new ES(r.toastComponent,c),d=o.attach(h,this.toastrConfig.newestOnTop);l.componentInstance=d._component;const p={toastId:this.index,message:e||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:d};return s||setTimeout(()=>{p.toastRef.activate(),this.currentlyActive=this.currentlyActive+1}),this.toasts.push(p),p}};return t.ngInjectableDef=gt({factory:function(){return new t(At(wS),At(IS),At(Rt),At(Hu),At(ts))},token:t,providedIn:"root"}),t})(),OS=(()=>(class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){return"inactive"===this.state.value?"none":"inherit"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}))();var NS;const RS=Object.assign({},_S,{toastComponent:OS}),PS=(()=>NS=class{static forRoot(t={}){return{ngModule:NS,providers:[{provide:wS,useValue:{default:RS,config:t}}]}}})(),MS=(()=>{class t{constructor(t){this.toastr=t}showSuccess(t,e){this.toastr.success(t,e,{disableTimeOut:!0})}showSuccessWithTimeout(t,e,n){this.toastr.success(t,e,{timeOut:n,positionClass:"toast-top-center",closeButton:!0})}showErrorWithTimeout(t,e,n){this.toastr.error(t,e,{timeOut:n,positionClass:"toast-top-center",closeButton:!0})}showHTMLMessage(t,e){this.toastr.success(t,e,{enableHtml:!0})}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(DS))},token:t,providedIn:"root"}),t})(),LS=(()=>(class{constructor(t,e,n,r){this.zone=r;const i=new YE(r,n);this.auth=r.runOutsideAngular(()=>lS(t,e).auth()),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new w(t=>({unsubscribe:this.auth.onAuthStateChanged(t)})))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new w(t=>({unsubscribe:this.auth.onIdTokenChanged(t)})))),this.idToken=this.user.pipe(Pl(t=>t?W(t.getIdToken()):tl(null))),this.idTokenResult=this.user.pipe(Pl(t=>t?W(t.getIdTokenResult()):tl(null)))}}))(),FS=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.afs=e,this.router=n,this.user$=this.afAuth.authState.pipe(Pl(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():tl(null)))}googleSignin(){return Bv(this,void 0,void 0,function*(){const t=new rS.auth.GoogleAuthProvider,e=yield this.afAuth.auth.signInWithPopup(t);return this.updateUserData(e.user)})}signOut(){return Bv(this,void 0,void 0,function*(){return yield this.afAuth.auth.signOut(),this.router.navigate(["/about"])})}updateUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(LS),kt(gS),kt(wd))},token:t,providedIn:"root"}),t})();class VS{}class US{}class BS{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof BS?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new BS;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof BS?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jS{encodeKey(t){return qS(t)}encodeValue(t){return qS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function qS(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class zS{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new zS({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function $S(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function HS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function WS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class GS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new BS),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new zS,this.urlWithParams=e}serializeBody(){return null===this.body?null:$S(this.body)||HS(this.body)||WS(this.body)||"string"==typeof this.body?this.body:this.body instanceof zS?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:WS(this.body)?null:HS(this.body)?this.body.type||null:$S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zS?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new GS(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const KS=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class QS{constructor(t,e=200,n="OK"){this.headers=t.headers||new BS,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class YS extends QS{constructor(t={}){super(t),this.type=KS.ResponseHeader}clone(t={}){return new YS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class XS extends QS{constructor(t={}){super(t),this.type=KS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new XS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ZS extends QS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function JS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}const tC=(()=>(class{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof GS)r=t;else{let i=void 0;i=n.headers instanceof BS?n.headers:new BS(n.headers);let s=void 0;n.params&&(s=n.params instanceof zS?n.params:new zS({fromObject:n.params})),r=new GS(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=tl(r).pipe(jl(t=>this.handler.handle(t)));if(t instanceof GS||"events"===n.observe)return i;const s=i.pipe(ul(t=>t instanceof XS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(q(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(q(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(q(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(q(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new zS).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,JS(n,e))}post(t,e,n={}){return this.request("POST",t,JS(n,e))}put(t,e,n={}){return this.request("PUT",t,JS(n,e))}}))();class eC{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const nC=new Dt("HTTP_INTERCEPTORS"),rC=(()=>(class{intercept(t,e){return e.handle(t)}}))(),iC=/^\)\]\}',?\n/;class sC{}const oC=(()=>(class{constructor(){}build(){return new XMLHttpRequest}}))(),aC=(()=>(class{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new BS(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new YS({headers:s,status:e,statusText:r,url:o})},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(iC,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new XS({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new ZS({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new ZS({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(s()),l=!0);let i={type:KS.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:KS.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:KS.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}))(),lC=new Dt("XSRF_COOKIE_NAME"),uC=new Dt("XSRF_HEADER_NAME");class cC{}const hC=(()=>(class{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ta(t,this.cookieName),this.lastCookieString=t),this.lastToken}}))(),dC=(()=>(class{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}))(),pC=(()=>(class{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(nC,[]);this.chain=t.reduceRight((t,e)=>new eC(t,e),this.backend)}return this.chain.handle(t)}}))(),fC=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:dC,useClass:rC}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:lC,useValue:e.cookieName}:[],e.headerName?{provide:uC,useValue:e.headerName}:[]]}}}return t})(),mC=(()=>(class{}))(),gC=(()=>{class t{constructor(t,e){this.afs=t,this.http=e}getRegions(){return this.regionCollection=this.afs.collection("regions",t=>t.orderBy("name","desc")),this.regionCollection.valueChanges()}getDays(){return this.daysCollection=this.afs.collection("days"),this.daysCollection.valueChanges()}getPlatforms(){return this.platformCollection=this.afs.collection("platform"),this.platformCollection.valueChanges()}getComms(){return this.commsCollection=this.afs.collection("communicationPlatform"),this.commsCollection.valueChanges()}getFireSteamGameList(){return this.steamAppCollection=this.afs.collection("steamGames"),this.steamAppCollection.valueChanges()}getProfile(t){return this.afs.doc(`profiles/${t}`).get()}saveProfile(t){return this.afs.doc(`profiles/${t.uid}`).set({uid:t.uid,displayName:t.displayName,regionId:t.regionId,platformId:t.platformId,communicationPlatformId:t.communicationPlatformId,days:t.days,steamApps:t.steamApps,bio:t.bio,photoURL:t.photoURL,friends:t.friends})}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(gS),kt(tC))},token:t,providedIn:"root"}),t})();var yC=Xn({encapsulation:0,styles:[[".avatar[_ngcontent-%COMP%]{width:10%;border-radius:50%;margin-left:auto;margin-right:auto;display:block}"]],data:{}});function vC(t){return eo(0,[(t()(),Us(0,0,null,null,5,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,1)._handleClick(n)&&r),"keydown"===e&&(r=!1!==Yr(t,1)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Yr(t,1).focus()&&r),"blur"===e&&(r=!1!==Yr(t,1)._blur()&&r),r},null,null)),ui(1,147456,[[2,4]],3,vb,[rn,ts,hp,[2,hf]],null,null),$s(603979776,3,{avatar:0}),$s(603979776,4,{trailingIcon:0}),$s(603979776,5,{removeIcon:0}),(t()(),Zs(5,null,[" "," "]))],null,function(t,e){t(e,0,0,Yr(e,1).disabled?null:-1,Yr(e,1).selected,Yr(e,1).avatar,Yr(e,1).trailingIcon||Yr(e,1).removeIcon,Yr(e,1).disabled,Yr(e,1).disabled||null,Yr(e,1).disabled.toString(),Yr(e,1).ariaSelected),t(e,5,0,e.context.$implicit.name)})}function bC(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-mon"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-mon"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Mon"]))],null,function(t,e){t(e,1,0,!0)})}function _C(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-tue"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-tue"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Tue"]))],null,function(t,e){t(e,1,0,!0)})}function wC(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-wed"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-wed"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Wed"]))],null,function(t,e){t(e,1,0,!0)})}function EC(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-thu"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-thu"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Thu"]))],null,function(t,e){t(e,1,0,!0)})}function SC(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-fri"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-fri"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Fri"]))],null,function(t,e){t(e,1,0,!0)})}function CC(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-sat"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-sat"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Sat"]))],null,function(t,e){t(e,1,0,!0)})}function TC(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-sun"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-sun"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Sun"]))],null,function(t,e){t(e,1,0,!0)})}function xC(t){return eo(0,[(t()(),Us(0,0,null,null,65,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,64,"div",[["class","swiper-slide"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,63,"div",[["class","card"],["style","margin: 18px"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,62,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,1,"h3",[["class","card-title"],["style","text-align: center"]],null,null,null,null,null)),(t()(),Zs(5,null,["",""])),(t()(),Us(6,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(7,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Us(8,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(9,0,null,null,0,"img",[["class","avatar"]],[[8,"src",4]],null,null,null,null)),(t()(),Us(10,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(11,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Us(12,0,null,null,2,"div",[["class","fom-group"]],null,null,null,null,null)),(t()(),Us(13,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(14,null,["Region Id: ",""])),(t()(),Us(15,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Us(16,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(17,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(18,null,["Platform: ",""])),(t()(),Us(19,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Us(20,0,null,null,2,"div",[["class","fom-group"]],null,null,null,null,null)),(t()(),Us(21,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(22,null,["Communication Preference: ",""])),(t()(),Us(23,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(24,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Us(25,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(26,0,null,null,1,"label",[["class","form-control-label"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Steam Games"])),(t()(),Us(28,0,null,null,6,"div",[["class",""]],null,null,null,null,null)),(t()(),Us(29,0,null,null,5,"mat-chip-list",[["aria-label","Steam Games"],["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==Yr(t,31).focus()&&r),"blur"===e&&(r=!1!==Yr(t,31)._blur()&&r),"keydown"===e&&(r=!1!==Yr(t,31)._keydown(n)&&r),r},rw,nw)),hi(6144,null,Ab,null,[Tb]),ui(31,1556480,null,1,Tb,[rn,Tn,[2,ym],[2,j_],[2,X_],rf,[8,null]],null,null),$s(603979776,2,{chips:1}),(t()(),Vs(16777216,null,0,1,null,vC)),ui(34,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),(t()(),Us(35,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(36,0,null,null,18,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Us(37,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(38,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Available Day(s)"])),(t()(),Us(40,0,null,null,14,"div",[["class","weekDays-selector"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,bC)),ui(42,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,_C)),ui(44,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,wC)),ui(46,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,EC)),ui(48,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,SC)),ui(50,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,CC)),ui(52,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,TC)),ui(54,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Us(55,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(56,0,null,null,3,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Us(57,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(58,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(59,null,["Bio: ",""])),(t()(),Us(60,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(61,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Us(62,0,null,null,1,"button",[["class","btn btn-danger"],["style","float: left"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.decline(t.context.$implicit,t.context.index)&&r),r},null,null)),(t()(),Zs(-1,null,["Hard Pass"])),(t()(),Us(64,0,null,null,1,"button",[["class","btn btn-primary"],["style","float: right"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addFriend(t.context.$implicit,t.context.index)&&r),r},null,null)),(t()(),Zs(-1,null,["Add"]))],function(t,e){var n=e.component;t(e,31,0),t(e,34,0,e.context.$implicit._steamAppChips),t(e,42,0,n.isDaySelected(e.context.$implicit,1)),t(e,44,0,n.isDaySelected(e.context.$implicit,2)),t(e,46,0,n.isDaySelected(e.context.$implicit,3)),t(e,48,0,n.isDaySelected(e.context.$implicit,4)),t(e,50,0,n.isDaySelected(e.context.$implicit,5)),t(e,52,0,n.isDaySelected(e.context.$implicit,6)),t(e,54,0,n.isDaySelected(e.context.$implicit,7))},function(t,e){t(e,5,0,e.context.$implicit.displayName),t(e,9,0,Cr(1,"",e.context.$implicit.photoURL,"")),t(e,14,0,e.context.$implicit._region.name),t(e,18,0,e.context.$implicit._platform.name),t(e,22,0,e.context.$implicit._communicationPlatform.name),t(e,29,1,[Yr(e,31).disabled?null:Yr(e,31)._tabIndex,Yr(e,31)._ariaDescribedby||null,Yr(e,31).required.toString(),Yr(e,31).disabled.toString(),Yr(e,31).errorState,Yr(e,31).multiple,Yr(e,31).role,Yr(e,31).disabled,Yr(e,31).errorState,Yr(e,31).required,Yr(e,31).ariaOrientation,Yr(e,31)._uid]),t(e,59,0,e.context.$implicit.bio)})}function IC(t){return eo(0,[$s(671088640,1,{friendSwiper:0}),(t()(),Us(1,0,null,null,6,"div",[["class","card centerCard"],["style","width: 90%"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,4,"swiper",[["class","swiper"]],null,null,null,iE,rE)),ui(4,12632064,[[1,4],["friendSwiper",4]],0,eE,[rn,Tn],{config:[0,"config"]},null),(t()(),Us(5,0,null,0,2,"div",[["class","swiper-wrapper"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,xC)),ui(7,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.config),t(e,7,0,n.profiles)},null)}function kC(t){return eo(0,[(t()(),Us(0,0,null,null,1,"app-network",[],null,null,null,IC,yC)),ui(1,114688,null,0,oE,[$E,yS,vS,MS,FS,gC,gS],null,null)],function(t,e){t(e,1,0)},null)}var AC=Ur("app-network",oE,kC,{},{},[]);function DC(t){return Error(`Unable to find icon with the name "${t}"`)}function OC(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function NC(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class RC{constructor(t){t.nodeName?this.svgElement=t:this.url=t}}const PC=(()=>{class t{constructor(t,e,n){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e){return this.addSvgIconInNamespace("",t,e)}addSvgIconLiteral(t,e){return this.addSvgIconLiteralInNamespace("",t,e)}addSvgIconInNamespace(t,e,n){return this._addSvgIconConfig(t,e,new RC(n))}addSvgIconLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Ae.HTML,n);if(!r)throw NC(n);const i=this._createSvgElementForSingleIcon(r);return this._addSvgIconConfig(t,e,new RC(i))}addSvgIconSet(t){return this.addSvgIconSetInNamespace("",t)}addSvgIconSetLiteral(t){return this.addSvgIconSetLiteralInNamespace("",t)}addSvgIconSetInNamespace(t,e){return this._addSvgIconSetConfig(t,new RC(e))}addSvgIconSetLiteralInNamespace(t,e){const n=this._sanitizer.sanitize(Ae.HTML,e);if(!n)throw NC(e);const r=this._svgElementFromString(n);return this._addSvgIconSetConfig(t,new RC(r))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Ae.RESOURCE_URL,t);if(!e)throw OC(t);const n=this._cachedIconsByUrl.get(e);return n?tl(MC(n)):this._loadSvgIconFromConfig(new RC(t)).pipe(yl(t=>this._cachedIconsByUrl.set(e,t)),q(t=>MC(t)))}getNamedSvgIcon(t,e=""){const n=LC(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):mv(DC(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?tl(MC(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(yl(e=>t.svgElement=e),q(t=>MC(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?tl(n):Fb(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Tl(e=>{const n=this._sanitizer.sanitize(Ae.RESOURCE_URL,t.url);return console.error(`Loading icon set URL: ${n} failed: ${e.message}`),tl(null)})))).pipe(q(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw DC(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(q(t=>this._createSvgElementForSingleIcon(t)))}_loadSvgIconSetFromConfig(t){return t.svgElement?tl(t.svgElement):this._fetchUrl(t.url).pipe(q(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t){const e=this._svgElementFromString(t);return this._setSvgAttributes(e),e}_extractSvgIconFromSet(t,e){const n=t.querySelector(`[id="${e}"]`);if(!n)return null;const r=n.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r));const i=this._svgElementFromString("<svg></svg>");return i.appendChild(r),this._setSvgAttributes(i)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let e=this._svgElementFromString("<svg></svg>");for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Ae.RESOURCE_URL,t);if(!e)throw OC(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe(ql(()=>this._inProgressUrlFetches.delete(e)),ot());return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(LC(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(tC,8),kt(Hu),kt(Ha,8))},token:t,providedIn:"root"}),t})();function MC(t){return t.cloneNode(!0)}function LC(t,e){return t+":"+e}class FC{constructor(t){this._elementRef=t}}const VC=Jp(FC),UC=new Dt("mat-icon-location",{providedIn:"root",factory:function(){const t=At(Ha),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),BC=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],jC=BC.map(t=>`[${t}]`).join(", "),qC=/^url\(['"]?#(.*?)['"]?\)$/,zC=(()=>(class extends VC{constructor(t,e,n,r){super(t),this._iconRegistry=e,this._location=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=sp(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(kl(1)).subscribe(t=>this._setSvgElement(t),t=>console.log(`Error retrieving icon: ${t.message}`))}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(jC),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)BC.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(qC):null;if(o){let e=n.get(i);e||n.set(i,e=[]),e.push({name:t,value:o[1]})}})}}))(),$C=(()=>(class{}))();var HC=Xn({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function WC(t){return eo(2,[Qs(null,0)],null,null)}var GC=Xn({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function KC(t){return eo(0,[(t()(),Us(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,XC,YC)),ui(1,49152,null,0,ff,[[2,av]],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"",n.disabled)},function(t,e){t(e,0,0,"indeterminate"===Yr(e,1).state,"checked"===Yr(e,1).state,Yr(e,1).disabled,"NoopAnimations"===Yr(e,1)._animationMode)})}function QC(t){return eo(2,[(t()(),Vs(16777216,null,null,1,null,KC)),ui(1,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Us(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),Qs(null,0),(t()(),Us(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),ui(5,212992,null,0,df,[rn,ts,hp,[2,hf],[2,av]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())},function(t,e){t(e,4,0,Yr(e,5).unbounded)})}var YC=Xn({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],data:{}});function XC(t){return eo(2,[],null,null)}var ZC=Xn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function JC(t){return eo(0,[(t()(),Us(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),Us(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),Us(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Us(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Us(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function tT(t){return eo(0,[(t()(),Us(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Qs(null,0)],null,null)}function eT(t){return eo(0,[(t()(),Us(0,0,null,null,2,null,null,null,null,null,null,null)),Qs(null,2),(t()(),Zs(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component._control.placeholder)})}function nT(t){return eo(0,[Qs(null,3),(t()(),Vs(0,null,null,0))],null,null)}function rT(t){return eo(0,[(t()(),Us(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),Zs(-1,null,[" *"]))],null,null)}function iT(t){return eo(0,[(t()(),Us(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component.updateOutlineGap()&&r),r},null,null)),ui(1,16384,null,0,Fa,[],{ngSwitch:[0,"ngSwitch"]},null),ui(2,1196032,null,0,fm,[pm,rn,ts],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),Vs(16777216,null,null,1,null,eT)),ui(4,278528,null,0,Va,[Nn,Dn,Fa],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Vs(16777216,null,null,1,null,nT)),ui(6,278528,null,0,Va,[Nn,Dn,Fa],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Vs(16777216,null,null,1,null,rT)),ui(8,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)},function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)})}function sT(t){return eo(0,[(t()(),Us(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Qs(null,4)],null,null)}function oT(t){return eo(0,[(t()(),Us(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)})}function aT(t){return eo(0,[(t()(),Us(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Qs(null,5)],null,function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function lT(t){return eo(0,[(t()(),Us(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),Zs(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)})}function uT(t){return eo(0,[(t()(),Us(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,lT)),ui(2,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),Qs(null,6),(t()(),Us(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Qs(null,7)],function(t,e){t(e,2,0,e.component.hintLabel)},function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function cT(t){return eo(2,[$s(671088640,1,{underlineRef:0}),$s(402653184,2,{_connectionContainerRef:0}),$s(671088640,3,{_inputContainerRef:0}),$s(671088640,4,{_label:0}),(t()(),Us(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),Us(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r},null,null)),(t()(),Vs(16777216,null,null,1,null,JC)),ui(7,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,tT)),ui(9,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Us(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Qs(null,1),(t()(),Us(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,iT)),ui(14,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,sT)),ui(16,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,oT)),ui(18,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Us(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),ui(20,16384,null,0,Fa,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Vs(16777216,null,null,1,null,aT)),ui(22,278528,null,0,Va,[Nn,Dn,Fa],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Vs(16777216,null,null,1,null,uT)),ui(24,278528,null,0,Va,[Nn,Dn,Fa],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")},null)}class hT{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new dT(t,this.delay,this.scheduler))}}class dT extends m{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(dT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new pT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(yv.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(yv.createComplete()),this.unsubscribe()}}class pT{constructor(t,e){this.time=t,this.notification=e}}let fT=0;class mT{constructor(t,e){this.source=t,this.option=e}}class gT{}const yT=tf(gT),vT=new Dt("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),bT=(()=>(class extends yT{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Ii,this.opened=new Ii,this.closed=new Ii,this._classList={},this.id=`mat-autocomplete-${fT++}`,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=sp(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new Vp(this.options).withWrap(),this._setVisibility()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new mT(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}}))(),_T=new Dt("mat-autocomplete-scroll-strategy");function wT(t){return()=>t.scrollStrategies.reposition()}const ET=(()=>(class{constructor(t,e,n,r,i,s,o,a,l,u){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=r,this._changeDetectorRef=i,this._dir=o,this._formField=a,this._document=l,this._viewportRuler=u,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=d.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new I,this._windowBlurHandler=(()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen}),this._onChange=(()=>{}),this._onTouched=(()=>{}),this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=al(()=>this.autocomplete&&this.autocomplete.options?Z(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(kl(1),Pl(()=>this.optionSelections))),"undefined"!=typeof window&&r.runOutsideAngular(()=>{window.addEventListener("blur",this._windowBlurHandler)}),this._scrollStrategy=s}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=sp(t)}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){"undefined"!=typeof window&&window.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Z(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ul(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ul(()=>this._overlayAttached)):tl()).pipe(q(t=>t instanceof wf?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Z(xf(this._document,"click"),xf(this._document,"touchend")).pipe(ul(t=>{const e=t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(e===yp&&t.preventDefault(),this.activeOption&&e===gp&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,r=e===bp||e===wp;this.panelOpen||e===mp?this.autocomplete._keyManager.onKeydown(t):r&&this._canOpen()&&this.openPanel(),(r||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=function(t,e,n,r){const i=48*t;return i<n?i:i+48>n+256?Math.max(0,i-256+48):n}(t+function(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}(t,this.autocomplete.options,this.autocomplete.optionGroups),0,this.autocomplete._getScrollTop());this.autocomplete._setScrollTop(e)}_subscribeToClosingActions(){return Z(this._zone.onStable.asObservable().pipe(kl(1)),this.autocomplete.options.changes.pipe(yl(()=>this._positionStrategy.reapplyLastPosition()),function(t,e=Np){const n=0 instanceof Date&&!isNaN(0)?0-e.now():Math.abs(0);return t=>t.lift(new hT(n,e))}())).pipe(Pl(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),kl(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Jd(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(t.keyCode===yp||t.keyCode===bp&&t.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next())}),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new mE({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e={originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},n={originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"};let r;t.withPositions(r="above"===this.position?[n]:"below"===this.position?[e]:[e,n])}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}}))(),ST=(()=>(class{}))();var CT=Xn({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}});function TT(t){return eo(0,[(t()(),Us(0,0,[[2,0],["panel",1]],null,3,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),hi(512,null,xa,Ia,[Sn,Cn,rn,un]),ui(2,278528,null,0,Aa,[xa],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Qs(null,0)],function(t,e){t(e,2,0,"mat-autocomplete-panel",e.component._classList)},function(t,e){t(e,0,0,e.component.id)})}function xT(t){return eo(2,[$s(402653184,1,{template:0}),$s(671088640,2,{panel:0}),(t()(),Vs(0,[[1,2]],null,0,null,TT))],null,null)}class IT{constructor(t,e,n){this.api=t,this.auth=e,this.notificationService=n,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!1,this.separatorKeysCodes=[gp,xp],this.appCtrl=new F_,this.selectedApps=[],this.steamID="",this.invalid=!0,this.profile={uid:"",displayName:"",regionId:null,platformId:null,communicationPlatformId:null,bio:"",days:null,steamApps:null,_steamAppChips:null,friends:null,_friends:null,photoURL:null,_region:null,_communicationPlatform:null,_platform:null},this.auth.user$.subscribe(t=>{this.uid=t.uid,this.profile.uid=this.uid,this.photoURL=t.photoURL,this.getProfile()})}ngOnInit(){this.getDropdowns()}getProfile(){this.api.getProfile(this.uid).subscribe(t=>{if(t.exists){this.profile=t.data();let e=this.steamApps,n=[];sE.forEach(this.profile.steamApps,t=>{n.push(sE.find(e,["appid",t]))}),this.selectedApps=n}})}getDropdowns(){this.api.getFireSteamGameList().subscribe(t=>{this.steamApps=t,this.filteredApps=this.appCtrl.valueChanges.pipe(Fl(null),q(t=>t?this._filter(t):this.steamApps.slice()))}),this.regions=this.api.getRegions(),this.platforms=this.api.getPlatforms(),this.days=this.api.getDays(),this.comms=this.api.getComms()}save(){this.profile.steamApps=sE.map(this.selectedApps,"appid"),this.profile.photoURL=this.photoURL,this.api.saveProfile(this.profile).then(t=>{this.notificationService.showSuccessWithTimeout("Profile saved successfully.","Success.",5e3),window.location.href="/profile?saved=true"})}isDaySelected(t){return sE.includes(this.profile.days,t)}dayChange(t,e){t.target.checked?(null==this.profile.days&&(this.profile.days=[]),this.profile.days.push(e.id)):this.profile.days=sE.remove(this.profile.days,t=>t!==e.id)}add(t){}remove(t){const e=this.selectedApps.indexOf(t);e>=0&&this.selectedApps.splice(e,1)}selected(t){this.selectedApps.push(t.option.value),this.appInput.nativeElement.value="",this.appCtrl.setValue(null)}_filter(t){const e=this.selectedApps;return sE.filter(this.steamApps,t=>-1===sE.findIndex(e,{appid:t.appid})).filter(this.createFilterFor(t||""))}createFilterFor(t){const e=t.toString().toLowerCase();return function(t){return 0===t.name.toString().toLowerCase().indexOf(e)}}delay(t){return new Promise(e=>setTimeout(e,t))}}var kT=Xn({encapsulation:0,styles:[[""]],data:{}});function AT(t){return eo(0,[(t()(),Us(0,0,null,null,3,"option",[],null,null,null,null,null)),ui(1,147456,null,0,d_,[rn,un,[2,h_]],{value:[0,"value"]},null),ui(2,147456,null,0,m_,[rn,un,[8,null]],{value:[0,"value"]},null),(t()(),Zs(3,null,[" "," "]))],function(t,e){t(e,1,0,e.context.$implicit.id),t(e,2,0,e.context.$implicit.id)},function(t,e){t(e,3,0,e.context.$implicit.name)})}function DT(t){return eo(0,[(t()(),Us(0,0,null,null,3,"option",[],null,null,null,null,null)),ui(1,147456,null,0,d_,[rn,un,[2,h_]],{value:[0,"value"]},null),ui(2,147456,null,0,m_,[rn,un,[8,null]],{value:[0,"value"]},null),(t()(),Zs(3,null,[" "," "]))],function(t,e){t(e,1,0,e.context.$implicit.id),t(e,2,0,e.context.$implicit.id)},function(t,e){t(e,3,0,e.context.$implicit.name)})}function OT(t){return eo(0,[(t()(),Us(0,0,null,null,3,"option",[],null,null,null,null,null)),ui(1,147456,null,0,d_,[rn,un,[2,h_]],{value:[0,"value"]},null),ui(2,147456,null,0,m_,[rn,un,[8,null]],{value:[0,"value"]},null),(t()(),Zs(3,null,[" "," "]))],function(t,e){t(e,1,0,e.context.$implicit.id),t(e,2,0,e.context.$implicit.id)},function(t,e){t(e,3,0,e.context.$implicit.name)})}function NT(t){return eo(0,[(t()(),Us(0,0,null,null,9,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Yr(t,1)._handleClick(n)&&r),"keydown"===e&&(r=!1!==Yr(t,1)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Yr(t,1).focus()&&r),"blur"===e&&(r=!1!==Yr(t,1)._blur()&&r),"removed"===e&&(r=!1!==i.remove(t.context.$implicit,t.context.index)&&r),r},null,null)),ui(1,147456,[[12,4]],3,vb,[rn,ts,hp,[2,hf]],{selectable:[0,"selectable"],removable:[1,"removable"]},{removed:"removed"}),$s(603979776,13,{avatar:0}),$s(603979776,14,{trailingIcon:0}),$s(603979776,15,{removeIcon:0}),(t()(),Zs(5,null,[" "," "])),(t()(),Us(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,7)._handleClick(n)&&r),r},WC,HC)),ui(7,16384,[[15,4]],0,bb,[vb],null,null),ui(8,9158656,null,0,zC,[rn,PC,[8,null],[2,UC]],null,null),(t()(),Zs(-1,0,["cancel"]))],function(t,e){t(e,1,0,!0,!0),t(e,8,0)},function(t,e){t(e,0,0,Yr(e,1).disabled?null:-1,Yr(e,1).selected,Yr(e,1).avatar,Yr(e,1).trailingIcon||Yr(e,1).removeIcon,Yr(e,1).disabled,Yr(e,1).disabled||null,Yr(e,1).disabled.toString(),Yr(e,1).ariaSelected),t(e,5,0,e.context.$implicit.name),t(e,6,0,Yr(e,8).inline,"primary"!==Yr(e,8).color&&"accent"!==Yr(e,8).color&&"warn"!==Yr(e,8).color)})}function RT(t){return eo(0,[(t()(),Us(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,1)._selectViaInteraction()&&r),"keydown"===e&&(r=!1!==Yr(t,1)._handleKeydown(n)&&r),r},QC,GC)),ui(1,8568832,[[16,4]],0,Sf,[rn,Tn,[2,Ef],[2,bf]],{value:[0,"value"]},null),(t()(),Zs(2,0,[" "," "]))],function(t,e){t(e,1,0,e.context.$implicit)},function(t,e){t(e,0,0,Yr(e,1)._getTabIndex(),Yr(e,1).selected,Yr(e,1).multiple,Yr(e,1).active,Yr(e,1).id,Yr(e,1)._getAriaSelected(),Yr(e,1).disabled.toString(),Yr(e,1).disabled),t(e,2,0,e.context.$implicit.name)})}function PT(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday"],["type","checkbox"]],[[8,"id",0],[8,"checked",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.dayChange(n,t.context.$implicit)&&r),r},null,null)),(t()(),Us(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(t()(),Zs(3,null,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,Cr(1,"weekday_",e.context.index,""),n.isDaySelected(e.context.$implicit.id)),t(e,2,0,Cr(1,"weekday_",e.context.index,"")),t(e,3,0,e.context.$implicit.name)})}function MT(t){return eo(0,[$s(671088640,1,{appInput:0}),$s(671088640,2,{matAutocomplete:0}),(t()(),Us(2,0,null,null,0,"link",[["href","https://fonts.googleapis.com/icon?family=Material+Icons"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,132,"ng-form",[],null,[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Yr(t,4).onSubmit(n)&&r),"reset"===e&&(r=!1!==Yr(t,4).onReset()&&r),r},null,null)),ui(4,4210688,[["myForm",4]],0,j_,[[8,null],[8,null]],null,null),hi(2048,null,$b,null,[j_]),(t()(),Us(6,0,null,null,129,"div",[["class","card centerCard"],["style","width: 90%"]],null,null,null,null,null)),(t()(),Us(7,0,null,null,128,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(8,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Profile Setup"])),(t()(),Us(10,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(11,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Us(12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(13,0,null,null,1,"label",[["for","maskedName"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Display Name"])),(t()(),Us(15,0,null,null,5,"input",[["class","form-control"],["id","maskedName"],["name","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,16)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,16).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,16)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,16)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.profile.displayName=n)&&r),r},null,null)),ui(16,16384,null,0,qb,[un,rn,[2,jb]],null,null),hi(1024,null,Ub,function(t){return[t]},[qb]),ui(18,671744,null,0,G_,[[2,$b],[8,null],[8,null],[6,Ub]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),hi(2048,null,Wb,null,[G_]),ui(20,16384,null,0,Kb,[[4,Wb]],null,null),(t()(),Us(21,0,null,null,1,"small",[["class","form-text text-muted"],["id","nameHelp"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Name displayed on profile."])),(t()(),Us(23,0,null,null,15,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Us(24,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(25,0,null,null,1,"label",[["for","dllRegion"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Region"])),(t()(),Us(27,0,null,null,11,"select",[["class","form-control"],["id","ddlRegion"],["name","region"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Yr(t,28).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,28).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.profile.regionId=n)&&r),r},null,null)),ui(28,16384,null,0,h_,[un,rn],null,null),hi(1024,null,Ub,function(t){return[t]},[h_]),ui(30,671744,null,0,G_,[[2,$b],[8,null],[8,null],[6,Ub]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),hi(2048,null,Wb,null,[G_]),ui(32,16384,null,0,Kb,[[4,Wb]],null,null),(t()(),Us(33,0,null,null,2,"option",[["value",""]],null,null,null,null,null)),ui(34,147456,null,0,d_,[rn,un,[2,h_]],{value:[0,"value"]},null),ui(35,147456,null,0,m_,[rn,un,[8,null]],{value:[0,"value"]},null),(t()(),Vs(16777216,null,null,2,null,AT)),ui(37,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),ci(131072,za,[Tn]),(t()(),Us(39,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(40,0,null,null,15,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Us(41,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(42,0,null,null,1,"label",[["for","ddlPlatform"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Platform"])),(t()(),Us(44,0,null,null,11,"select",[["class","form-control"],["id","ddlPlatform"],["name","platform"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Yr(t,45).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,45).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.profile.platformId=n)&&r),r},null,null)),ui(45,16384,null,0,h_,[un,rn],null,null),hi(1024,null,Ub,function(t){return[t]},[h_]),ui(47,671744,null,0,G_,[[2,$b],[8,null],[8,null],[6,Ub]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),hi(2048,null,Wb,null,[G_]),ui(49,16384,null,0,Kb,[[4,Wb]],null,null),(t()(),Us(50,0,null,null,2,"option",[["value",""]],null,null,null,null,null)),ui(51,147456,null,0,d_,[rn,un,[2,h_]],{value:[0,"value"]},null),ui(52,147456,null,0,m_,[rn,un,[8,null]],{value:[0,"value"]},null),(t()(),Vs(16777216,null,null,2,null,DT)),ui(54,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),ci(131072,za,[Tn]),(t()(),Us(56,0,null,null,15,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Us(57,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(58,0,null,null,1,"label",[["for","ddlComms"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Communication Preference"])),(t()(),Us(60,0,null,null,11,"select",[["class","form-control"],["id","ddlComms"],["name","comms"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==Yr(t,61).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,61).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.profile.communicationPlatformId=n)&&r),r},null,null)),ui(61,16384,null,0,h_,[un,rn],null,null),hi(1024,null,Ub,function(t){return[t]},[h_]),ui(63,671744,null,0,G_,[[2,$b],[8,null],[8,null],[6,Ub]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),hi(2048,null,Wb,null,[G_]),ui(65,16384,null,0,Kb,[[4,Wb]],null,null),(t()(),Us(66,0,null,null,2,"option",[["value",""]],null,null,null,null,null)),ui(67,147456,null,0,d_,[rn,un,[2,h_]],{value:[0,"value"]},null),ui(68,147456,null,0,m_,[rn,un,[8,null]],{value:[0,"value"]},null),(t()(),Vs(16777216,null,null,2,null,OT)),ui(70,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),ci(131072,za,[Tn]),(t()(),Us(72,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(73,0,null,null,36,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Us(74,0,null,null,1,"label",[["class","form-control-label"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Steam Games"])),(t()(),Us(76,0,null,null,33,"div",[["class","mb-1"]],null,null,null,null,null)),(t()(),Us(77,0,null,null,32,"mat-form-field",[["class","example-chip-list mat-form-field"],["style","width: 100%;"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,cT,ZC)),ui(78,7520256,null,9,Mb,[rn,Tn,[2,Tf],[2,ym],[2,Pb],hp,ts,[2,av]],null,null),$s(603979776,3,{_controlNonStatic:0}),$s(335544320,4,{_controlStatic:0}),$s(603979776,5,{_labelChildNonStatic:0}),$s(335544320,6,{_labelChildStatic:0}),$s(603979776,7,{_placeholderChild:0}),$s(603979776,8,{_errorChildren:1}),$s(603979776,9,{_hintChildren:1}),$s(603979776,10,{_prefixChildren:1}),$s(603979776,11,{_suffixChildren:1}),(t()(),Us(88,0,null,1,13,"mat-chip-list",[["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==Yr(t,89).focus()&&r),"blur"===e&&(r=!1!==Yr(t,89)._blur()&&r),"keydown"===e&&(r=!1!==Yr(t,89)._keydown(n)&&r),r},rw,nw)),ui(89,1556480,[["appList",4]],1,Tb,[rn,Tn,[2,ym],[2,j_],[2,X_],rf,[8,null]],null,null),$s(603979776,12,{chips:1}),hi(2048,[[3,4],[4,4]],Ab,null,[Tb]),(t()(),Vs(16777216,null,0,1,null,NT)),ui(93,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),(t()(),Us(94,16777216,[[1,0],["appInput",1]],0,7,"input",[["class","mat-chip-input mat-input-element"],["placeholder","Add game..."]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[8,"id",0],[1,"disabled",0],[1,"placeholder",0],[1,"aria-invalid",0]],[[null,"matChipInputTokenEnd"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,95)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,95).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,95)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,95)._compositionEnd(n.target.value)&&r),"focusin"===e&&(r=!1!==Yr(t,96)._handleFocus()&&r),"blur"===e&&(r=!1!==Yr(t,96)._onTouched()&&r),"input"===e&&(r=!1!==Yr(t,96)._handleInput(n)&&r),"keydown"===e&&(r=!1!==Yr(t,96)._handleKeydown(n)&&r),"keydown"===e&&(r=!1!==Yr(t,101)._keydown(n)&&r),"blur"===e&&(r=!1!==Yr(t,101)._blur()&&r),"focus"===e&&(r=!1!==Yr(t,101)._focus()&&r),"input"===e&&(r=!1!==Yr(t,101)._onInput()&&r),"matChipInputTokenEnd"===e&&(r=!1!==i.add(n)&&r),r},null,null)),ui(95,16384,null,0,qb,[un,rn,[2,jb]],null,null),ui(96,671744,null,0,ET,[rn,OE,Nn,ts,Tn,_T,[2,ym],[2,Mb],[2,Ha],Cv],{autocomplete:[0,"autocomplete"]},null),hi(1024,null,Ub,function(t,e){return[t,e]},[qb,ET]),ui(98,540672,null,0,Y_,[[8,null],[8,null],[6,Ub],[2,Q_]],{form:[0,"form"]},null),hi(2048,null,Wb,null,[Y_]),ui(100,16384,null,0,Kb,[[4,Wb]],null,null),ui(101,540672,null,0,Ib,[rn,_b],{chipList:[0,"chipList"],addOnBlur:[1,"addOnBlur"],separatorKeyCodes:[2,"separatorKeyCodes"],placeholder:[3,"placeholder"]},{chipEnd:"matChipInputTokenEnd"}),(t()(),Us(102,0,null,1,7,"mat-autocomplete",[["class","mat-autocomplete"]],null,[[null,"optionSelected"]],function(t,e,n){var r=!0;return"optionSelected"===e&&(r=!1!==t.component.selected(n)&&r),r},xT,CT)),hi(6144,null,Ef,null,[bT]),ui(104,1097728,[[2,4],["auto",4]],2,bT,[Tn,rn,vT],null,{optionSelected:"optionSelected"}),$s(603979776,16,{options:1}),$s(603979776,17,{optionGroups:1}),(t()(),Vs(16777216,null,0,2,null,RT)),ui(108,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),ci(131072,za,[Tn]),(t()(),Us(110,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(111,0,null,null,7,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Us(112,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(113,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Available Day(s)"])),(t()(),Us(115,0,null,null,3,"div",[["class","weekDays-selector"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,2,null,PT)),ui(117,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),ci(131072,za,[Tn]),(t()(),Us(119,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(120,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Us(121,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(122,0,null,null,3,"label",[["for","bio"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Bio "])),(t()(),Us(124,0,null,null,1,"small",[["class","text-muted font-italic"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Optional"])),(t()(),Us(126,0,null,null,5,"textarea",[["class","form-control"],["id","bio"],["name","bio"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,127)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,127).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,127)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,127)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.profile.bio=n)&&r),r},null,null)),ui(127,16384,null,0,qb,[un,rn,[2,jb]],null,null),hi(1024,null,Ub,function(t){return[t]},[qb]),ui(129,671744,null,0,G_,[[2,$b],[8,null],[8,null],[6,Ub]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),hi(2048,null,Wb,null,[G_]),ui(131,16384,null,0,Kb,[[4,Wb]],null,null),(t()(),Us(132,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(133,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Us(134,0,null,null,1,"button",[["class","btn btn-primary"],["style","float: right"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.save()&&r),r},null,null)),(t()(),Zs(-1,null,["Save"]))],function(t,e){var n=e.component;t(e,18,0,"name",n.profile.displayName),t(e,30,0,"region",n.profile.regionId),t(e,34,0,""),t(e,35,0,""),t(e,37,0,Kn(e,37,0,Yr(e,38).transform(n.regions))),t(e,47,0,"platform",n.profile.platformId),t(e,51,0,""),t(e,52,0,""),t(e,54,0,Kn(e,54,0,Yr(e,55).transform(n.platforms))),t(e,63,0,"comms",n.profile.communicationPlatformId),t(e,67,0,""),t(e,68,0,""),t(e,70,0,Kn(e,70,0,Yr(e,71).transform(n.comms))),t(e,89,0),t(e,93,0,n.selectedApps),t(e,96,0,Yr(e,104)),t(e,98,0,n.appCtrl),t(e,101,0,Yr(e,89),n.addOnBlur,n.separatorKeysCodes,"Add game..."),t(e,108,0,Kn(e,108,0,Yr(e,109).transform(n.filteredApps))),t(e,117,0,Kn(e,117,0,Yr(e,118).transform(n.days))),t(e,129,0,"bio",n.profile.bio)},function(t,e){t(e,15,0,Yr(e,20).ngClassUntouched,Yr(e,20).ngClassTouched,Yr(e,20).ngClassPristine,Yr(e,20).ngClassDirty,Yr(e,20).ngClassValid,Yr(e,20).ngClassInvalid,Yr(e,20).ngClassPending),t(e,27,0,Yr(e,32).ngClassUntouched,Yr(e,32).ngClassTouched,Yr(e,32).ngClassPristine,Yr(e,32).ngClassDirty,Yr(e,32).ngClassValid,Yr(e,32).ngClassInvalid,Yr(e,32).ngClassPending),t(e,44,0,Yr(e,49).ngClassUntouched,Yr(e,49).ngClassTouched,Yr(e,49).ngClassPristine,Yr(e,49).ngClassDirty,Yr(e,49).ngClassValid,Yr(e,49).ngClassInvalid,Yr(e,49).ngClassPending),t(e,60,0,Yr(e,65).ngClassUntouched,Yr(e,65).ngClassTouched,Yr(e,65).ngClassPristine,Yr(e,65).ngClassDirty,Yr(e,65).ngClassValid,Yr(e,65).ngClassInvalid,Yr(e,65).ngClassPending),t(e,77,1,["standard"==Yr(e,78).appearance,"fill"==Yr(e,78).appearance,"outline"==Yr(e,78).appearance,"legacy"==Yr(e,78).appearance,Yr(e,78)._control.errorState,Yr(e,78)._canLabelFloat,Yr(e,78)._shouldLabelFloat(),Yr(e,78)._hasFloatingLabel(),Yr(e,78)._hideControlPlaceholder(),Yr(e,78)._control.disabled,Yr(e,78)._control.autofilled,Yr(e,78)._control.focused,"accent"==Yr(e,78).color,"warn"==Yr(e,78).color,Yr(e,78)._shouldForward("untouched"),Yr(e,78)._shouldForward("touched"),Yr(e,78)._shouldForward("pristine"),Yr(e,78)._shouldForward("dirty"),Yr(e,78)._shouldForward("valid"),Yr(e,78)._shouldForward("invalid"),Yr(e,78)._shouldForward("pending"),!Yr(e,78)._animationsEnabled]),t(e,88,1,[Yr(e,89).disabled?null:Yr(e,89)._tabIndex,Yr(e,89)._ariaDescribedby||null,Yr(e,89).required.toString(),Yr(e,89).disabled.toString(),Yr(e,89).errorState,Yr(e,89).multiple,Yr(e,89).role,Yr(e,89).disabled,Yr(e,89).errorState,Yr(e,89).required,Yr(e,89).ariaOrientation,Yr(e,89)._uid]),t(e,94,1,[Yr(e,96).autocompleteAttribute,Yr(e,96).autocompleteDisabled?null:"combobox",Yr(e,96).autocompleteDisabled?null:"list",Yr(e,96).panelOpen&&Yr(e,96).activeOption?Yr(e,96).activeOption.id:null,Yr(e,96).autocompleteDisabled?null:Yr(e,96).panelOpen.toString(),Yr(e,96).autocompleteDisabled||!Yr(e,96).panelOpen?null:null==Yr(e,96).autocomplete?null:Yr(e,96).autocomplete.id,!Yr(e,96).autocompleteDisabled,Yr(e,100).ngClassUntouched,Yr(e,100).ngClassTouched,Yr(e,100).ngClassPristine,Yr(e,100).ngClassDirty,Yr(e,100).ngClassValid,Yr(e,100).ngClassInvalid,Yr(e,100).ngClassPending,Yr(e,101).id,Yr(e,101).disabled||null,Yr(e,101).placeholder||null,Yr(e,101)._chipList&&Yr(e,101)._chipList.ngControl?Yr(e,101)._chipList.ngControl.invalid:null]),t(e,126,0,Yr(e,131).ngClassUntouched,Yr(e,131).ngClassTouched,Yr(e,131).ngClassPristine,Yr(e,131).ngClassDirty,Yr(e,131).ngClassValid,Yr(e,131).ngClassInvalid,Yr(e,131).ngClassPending)})}function LT(t){return eo(0,[(t()(),Us(0,0,null,null,1,"app-setup",[],null,null,null,MT,kT)),ui(1,114688,null,0,IT,[gC,FS,MS],null,null)],function(t,e){t(e,1,0)},null)}var FT=Ur("app-setup",IT,LT,{},{},[]);class VT{constructor(){}ngOnInit(){}}var UT=Xn({encapsulation:0,styles:[[""]],data:{}});function BT(t){return eo(0,[(t()(),Us(0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,1,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,0,"img",[["src","../../assets/images/hashmap_globe.svg"],["style","display: block; margin-left: auto;"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,13,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,4,"div",[["class","mt-5"]],null,null,null,null,null)),(t()(),Us(5,0,null,null,1,"h1",[["style","color: white"]],null,null,null,null,null)),(t()(),Zs(-1,null,["HashMap"])),(t()(),Us(7,0,null,null,1,"p",[["style","color: white"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Location based friend search for gamers!"])),(t()(),Us(9,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Us(10,0,null,null,1,"a",[["class","btn btn-light"],["href","/rubric"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Rubric"])),(t()(),Us(12,0,null,null,4,"div",[["class","mt-3"]],null,null,null,null,null)),(t()(),Us(13,0,null,null,3,"a",[["class","btn btn-dark"],["href","https://github.com/adamchlebek/HashMap"],["target","_blank"]],null,null,null,null,null)),(t()(),Us(14,0,null,null,1,"fa",[["name","github"]],null,null,null,cb,ub)),ui(15,114688,null,0,jv,[],{name:[0,"name"]},null),(t()(),Zs(-1,null,["Github Repo"])),(t()(),Us(17,0,null,null,137,"div",[["class","card centerCard"],["style","width: 90%"]],null,null,null,null,null)),(t()(),Us(18,0,null,null,136,"div",[["class","header-body"]],null,null,null,null,null)),(t()(),Us(19,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["About"])),(t()(),Us(21,0,null,null,1,"p",[["class","subheader"]],null,null,null,null,null)),(t()(),Zs(-1,null,["This project was created for CIS 350. HashMap is a location based friend search for people who play similar games to you! You can connect many of your accounts and settings to find friends near you."])),(t()(),Us(23,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(24,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Feature List"])),(t()(),Us(26,0,null,null,33,"div",[["class","container"]],null,null,null,null,null)),(t()(),Us(27,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(28,0,null,null,15,"div",[["class","col"]],null,null,null,null,null)),(t()(),Us(29,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(t()(),Us(30,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(31,0,null,null,3,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Us(32,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Release 1"])),(t()(),Zs(-1,null,[" (July 15th)"])),(t()(),Us(35,0,null,null,8,"ul",[],null,null,null,null,null)),(t()(),Us(36,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Google Sign-In and Account creation"])),(t()(),Us(38,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Profile Creation and Management"])),(t()(),Us(40,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Steam Linking and Game Linking"])),(t()(),Us(42,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Front end and menu created"])),(t()(),Us(44,0,null,null,15,"div",[["class","col"]],null,null,null,null,null)),(t()(),Us(45,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(t()(),Us(46,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(47,0,null,null,3,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Us(48,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Release 2"])),(t()(),Zs(-1,null,[" (July 31st)"])),(t()(),Us(51,0,null,null,8,"ul",[],null,null,null,null,null)),(t()(),Us(52,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Friend Matching Algorithm"])),(t()(),Us(54,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Add friends to List"])),(t()(),Us(56,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Search By Location"])),(t()(),Us(58,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Add search by rank with specific games"])),(t()(),Us(60,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(61,0,null,null,32,"table",[["class","table"]],null,null,null,null,null)),(t()(),Us(62,0,null,null,5,"thead",[],null,null,null,null,null)),(t()(),Us(63,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Us(64,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Languages"])),(t()(),Us(66,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Framework/Plugins and Tools"])),(t()(),Us(68,0,null,null,25,"tbody",[],null,null,null,null,null)),(t()(),Us(69,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Us(70,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Typescript"])),(t()(),Us(72,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Angular 8"])),(t()(),Us(74,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Us(75,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["SQL"])),(t()(),Us(77,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Protractor End-to-End Testing"])),(t()(),Us(79,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Us(80,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["HTML"])),(t()(),Us(82,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Jasime Karma"])),(t()(),Us(84,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Us(85,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["CSS"])),(t()(),Us(87,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Firebase"])),(t()(),Us(89,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Us(90,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["JavaScript"])),(t()(),Us(92,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Visual Studio Code"])),(t()(),Us(94,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(95,0,null,null,51,"div",[["class","color-palette"]],null,null,null,null,null)),(t()(),Us(96,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Color Palette"])),(t()(),Us(98,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(99,0,null,null,11,"div",[["class","col dark"]],null,null,null,null,null)),(t()(),Us(100,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Polar Night"])),(t()(),Us(102,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(103,0,null,null,1,"div",[["class","color col2e3440"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#2e3440"])),(t()(),Us(105,0,null,null,1,"div",[["class","color col3b4252"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#3b4252"])),(t()(),Us(107,0,null,null,1,"div",[["class","color col434c5e"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#434c5e"])),(t()(),Us(109,0,null,null,1,"div",[["class","color col4c566a"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#4c566a"])),(t()(),Us(111,0,null,null,9,"div",[["class","col light"]],null,null,null,null,null)),(t()(),Us(112,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Snow Storm"])),(t()(),Us(114,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(115,0,null,null,1,"div",[["class","color cold8dee9"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#d8dee9"])),(t()(),Us(117,0,null,null,1,"div",[["class","color cole5e9f0"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#e5e9f0"])),(t()(),Us(119,0,null,null,1,"div",[["class","color coleceef4"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#eceef4"])),(t()(),Us(121,0,null,null,11,"div",[["class","col dark"]],null,null,null,null,null)),(t()(),Us(122,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Frost"])),(t()(),Us(124,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(125,0,null,null,1,"div",[["class","color col8fbcbb"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#8fbcbb"])),(t()(),Us(127,0,null,null,1,"div",[["class","color col88c0d0"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#88c0d0"])),(t()(),Us(129,0,null,null,1,"div",[["class","color col81a1c1"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#81a1c1"])),(t()(),Us(131,0,null,null,1,"div",[["class","color col5e81ac"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#5e81ac"])),(t()(),Us(133,0,null,null,13,"div",[["class","col dark"]],null,null,null,null,null)),(t()(),Us(134,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Aurora"])),(t()(),Us(136,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(137,0,null,null,1,"div",[["class","color colbf616a"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#bf616a"])),(t()(),Us(139,0,null,null,1,"div",[["class","color cold08770"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#d08770"])),(t()(),Us(141,0,null,null,1,"div",[["class","color colebcb8b"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#ebcb8b"])),(t()(),Us(143,0,null,null,1,"div",[["class","color cola3be8c"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#a3be8c"])),(t()(),Us(145,0,null,null,1,"div",[["class","color colb48ead"]],null,null,null,null,null)),(t()(),Zs(-1,null,["#b48ead"])),(t()(),Us(147,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Us(148,0,null,null,4,"h6",[],null,null,null,null,null)),(t()(),Zs(-1,null,[" This project is licensed under the "])),(t()(),Us(150,0,null,null,1,"a",[["href","https://github.com/adamchlebek/HashMap/blob/master/LICENSE.md"]],null,null,null,null,null)),(t()(),Zs(-1,null,["MIT"])),(t()(),Zs(-1,null,[" license. "])),(t()(),Us(153,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),Zs(-1,null,[" Created By Adam Chlebek and Collin Larson "]))],function(t,e){t(e,15,0,"github")},null)}function jT(t){return eo(0,[(t()(),Us(0,0,null,null,1,"app-about",[],null,null,null,BT,UT)),ui(1,114688,null,0,VT,[],null,null)],function(t,e){t(e,1,0)},null)}var qT=Ur("app-about",VT,jT,{},{},[]);let zT=0;const $T=(()=>(class{constructor(){this._stateChanges=new I,this._openCloseAllActions=new I,this.id=`cdk-accordion-${zT++}`,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=sp(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}))();let HT=0;const WT=(()=>(class{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=d.EMPTY,this.closed=new Ii,this.opened=new Ii,this.destroyed=new Ii,this.expandedChange=new Ii,this.id=`cdk-accordion-child-${HT++}`,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=(()=>{}),this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=sp(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=sp(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}))(),GT=(()=>(class{}))(),KT=new Dt("MAT_ACCORDION");let QT=0;const YT=new Dt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),XT=(()=>(class extends WT{constructor(t,e,n,r,i,s,o){super(t,e,n),this._viewContainerRef=r,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new Ii,this.afterCollapse=new Ii,this._inputChanges=new I,this._headerId=`mat-expansion-panel-header-${QT++}`,this._bodyAnimationDone=new I,this.accordion=t,this._document=i,this._bodyAnimationDone.pipe(Uf((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),o&&(this.hideToggle=o.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=sp(t)}_hasSpacing(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}_getExpandedState(){return this.expanded?"expanded":"collapsed"}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Fl(null),ul(()=>this.expanded&&!this._portal),kl(1)).subscribe(()=>{this._portal=new Jd(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}))(),ZT=(()=>(class{constructor(t,e,n,r,i){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=r,this._parentChangeSubscription=d.EMPTY;const s=t.accordion?t.accordion._stateChanges.pipe(ul(t=>!!t.hideToggle)):Xa;this._parentChangeSubscription=Z(t.opened,t.closed,s,t._inputChanges.pipe(ul(t=>!(!t.hideToggle&&!t.disabled)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(ul(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case 32:case gp:Ip(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program"){this._focusMonitor.focusVia(this._element,t)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}))(),JT=(()=>(class{}))(),tx=(()=>(class extends $T{constructor(){super(...arguments),this._hideToggle=!1,this.displayMode="default"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=sp(t)}ngAfterContentInit(){this._keyManager=new Up(this._headers).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;36===e?Ip(t)||(n.setFirstItemActive(),t.preventDefault()):35===e?Ip(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}))(),ex=(()=>(class{}))();var nx=Xn({encapsulation:2,styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(.4,0,.2,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (-ms-high-contrast:active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel._mat-animation-noopable,.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"bodyExpansion",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"0px",visibility:"hidden"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{height:"*",visibility:"visible"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}});function rx(t){return eo(0,[(t()(),Vs(0,null,null,0))],null,null)}function ix(t){return eo(2,[$s(671088640,1,{_body:0}),Qs(null,0),(t()(),Us(2,0,[[1,0],["body",1]],null,5,"div",[["class","mat-expansion-panel-content"],["role","region"]],[[24,"@bodyExpansion",0],[1,"aria-labelledby",0],[8,"id",0]],[[null,"@bodyExpansion.done"]],function(t,e,n){var r=!0;return"@bodyExpansion.done"===e&&(r=!1!==t.component._bodyAnimationDone.next(n)&&r),r},null,null)),(t()(),Us(3,0,null,null,3,"div",[["class","mat-expansion-panel-body"]],null,null,null,null,null)),Qs(null,1),(t()(),Vs(16777216,null,null,1,null,rx)),ui(6,212992,null,0,np,[Xe,Nn],{portal:[0,"portal"]},null),Qs(null,2)],function(t,e){t(e,6,0,e.component._portal)},function(t,e){var n=e.component;t(e,2,0,n._getExpandedState(),n._headerId,n.id)})}var sx=Xn({encapsulation:2,styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],data:{animation:[{type:7,name:"indicatorRotate",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}},{type:7,name:"expansionHeight",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"{{collapsedHeight}}"},offset:null},options:{params:{collapsedHeight:"48px"}}},{type:0,name:"expanded",styles:{type:6,styles:{height:"{{expandedHeight}}"},offset:null},options:{params:{expandedHeight:"64px"}}},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:3,steps:[{type:11,selector:"@indicatorRotate",animation:{type:9,options:null},options:{optional:!0}},{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"}],options:null},options:null}],options:{}}]}});function ox(t){return eo(0,[(t()(),Us(0,0,null,null,0,"span",[["class","mat-expansion-indicator"]],[[24,"@indicatorRotate",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component._getExpandedState())})}function ax(t){return eo(2,[(t()(),Us(0,0,null,null,3,"span",[["class","mat-content"]],null,null,null,null,null)),Qs(null,0),Qs(null,1),Qs(null,2),(t()(),Vs(16777216,null,null,1,null,ox)),ui(5,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,5,0,e.component._showToggle())},null)}class lx{constructor(){}ngOnInit(){}}var ux=Xn({encapsulation:0,styles:[[""]],data:{}});function cx(t){return eo(0,[(t()(),Us(0,0,null,null,26,"div",[["class","card contain"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,25,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,24,null,null,null,null,null,null,null)),(t()(),Us(3,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Us(5,0,null,null,0,"img",[["class","friend-icon"]],[[8,"src",4]],null,null,null,null)),(t()(),Us(6,0,null,null,20,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),Us(7,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(8,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),Zs(9,null,["",""])),(t()(),Us(10,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(11,0,null,null,15,"mat-accordion",[["class","mat-accordion"]],null,null,null,null,null)),ui(12,1720320,null,1,tx,[],null,null),$s(603979776,1,{_headers:1}),hi(2048,null,KT,null,[tx]),(t()(),Us(15,16777216,null,null,11,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,ix,nx)),ui(16,1753088,null,1,XT,[[3,KT],Tn,bv,Nn,Ha,[2,av],[2,YT]],null,null),$s(603979776,2,{_lazyContent:0}),hi(256,null,KT,void 0,[]),(t()(),Us(19,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,20)._toggle()&&r),"keydown"===e&&(r=!1!==Yr(t,20)._keydown(n)&&r),r},ax,sx)),ui(20,180224,[[1,4]],0,ZT,[XT,rn,Gp,Tn,[2,YT]],null,null),Xs(21,{collapsedHeight:0,expandedHeight:1}),Xs(22,{value:0,params:1}),(t()(),Us(23,0,null,1,2,"mat-panel-description",[["class","mat-expansion-panel-header-description"]],null,null,null,null,null)),ui(24,16384,null,0,JT,[],null,null),(t()(),Zs(-1,null,[" Bio "])),(t()(),Zs(26,1,[" "," "]))],null,function(t,e){t(e,5,0,Cr(1,"",e.context.$implicit.photoURL,"")),t(e,9,0,e.context.$implicit.displayName),t(e,15,0,Yr(e,16).expanded,"NoopAnimations"===Yr(e,16)._animationMode,Yr(e,16)._hasSpacing());var n=Yr(e,20).panel._headerId,r=Yr(e,20).disabled?-1:0,i=Yr(e,20)._getPanelId(),s=Yr(e,20)._isExpanded(),o=Yr(e,20).panel.disabled,a=Yr(e,20)._isExpanded(),l=t(e,22,0,Yr(e,20)._getExpandedState(),t(e,21,0,Yr(e,20).collapsedHeight,Yr(e,20).expandedHeight));t(e,19,0,n,r,i,s,o,a,l),t(e,26,0,e.context.$implicit.bio)})}function hx(t){return eo(0,[(t()(),Vs(16777216,null,null,1,null,cx)),ui(1,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.friends)},null)}class dx{constructor(t,e,n,r,i){this.route=t,this.notificationService=e,this.auth=n,this.setupAPI=r,this.api=i,this.profile={uid:"",displayName:"",regionId:null,platformId:null,communicationPlatformId:null,bio:"",days:null,steamApps:null,_steamAppChips:null,friends:null,_friends:null,photoURL:null,_region:null,_communicationPlatform:null,_platform:null},this.noProfile=!1}ngOnInit(){this.route.queryParams.subscribe(t=>{this.fromSaved=t.saved,"true"===this.fromSaved&&this.notificationService.showSuccessWithTimeout("Profile saved successfully.","Success.",5e3)}),this.auth.user$.subscribe(t=>{this.uid=t.uid,this.getProfile()})}getProfile(){this.setupAPI.getProfile(this.uid).subscribe(t=>{if(t.exists){this.profile=t.data();let e=[],n=[];this.profile.steamApps.forEach(t=>{this.api.getSteamApp(t.toString()).subscribe(t=>{n.push(t.data())})}),this.steamApps=n,this.api.getRegion(this.profile.regionId.toString()).subscribe(t=>{this.region=t.data()}),this.api.getComm(this.profile.communicationPlatformId.toString()).subscribe(t=>{this.comm=t.data()}),this.api.getPlatform(this.profile.platformId.toString()).subscribe(t=>{this.platform=t.data()}),sE.forEach(this.profile.friends,t=>{t.get().then(t=>{t.exists&&e.push(t.data())})}),this.profile._friends=e,this.isLoaded=Promise.resolve(!0)}else this.notificationService.showErrorWithTimeout("Profile not found.","Error",5e3),this.noProfile=!0})}isDaySelected(t){return sE.includes(this.profile.days,t)}}var px=Xn({encapsulation:0,styles:[[".avatar[_ngcontent-%COMP%]{vertical-align:middle;width:25%;height:25%;border-radius:10%}"]],data:{}});function fx(t){return eo(0,[(t()(),Us(0,0,null,null,8,"div",[["class",""]],null,null,null,null,null)),(t()(),Us(1,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","maskedName"]],null,null,null,null,null)),(t()(),Zs(3,null,["",""])),(t()(),Us(4,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(5,0,null,null,0,"img",[["class","avatar"]],[[8,"src",4]],null,null,null,null)),(t()(),Us(6,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(7,0,null,null,1,"label",[["for","bio"]],null,null,null,null,null)),(t()(),Zs(8,null,["",""]))],null,function(t,e){var n=e.component;t(e,3,0,e.context.ngIf.displayName),t(e,5,0,Cr(1,"",e.context.ngIf.photoURL,"")),t(e,8,0,n.profile.bio)})}function mx(t){return eo(0,[(t()(),Us(0,0,null,null,5,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,1)._handleClick(n)&&r),"keydown"===e&&(r=!1!==Yr(t,1)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Yr(t,1).focus()&&r),"blur"===e&&(r=!1!==Yr(t,1)._blur()&&r),r},null,null)),ui(1,147456,[[1,4]],3,vb,[rn,ts,hp,[2,hf]],null,null),$s(603979776,2,{avatar:0}),$s(603979776,3,{trailingIcon:0}),$s(603979776,4,{removeIcon:0}),(t()(),Zs(5,null,[" "," "]))],null,function(t,e){t(e,0,0,Yr(e,1).disabled?null:-1,Yr(e,1).selected,Yr(e,1).avatar,Yr(e,1).trailingIcon||Yr(e,1).removeIcon,Yr(e,1).disabled,Yr(e,1).disabled||null,Yr(e,1).disabled.toString(),Yr(e,1).ariaSelected),t(e,5,0,e.context.$implicit.name)})}function gx(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-mon"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-mon"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Mon"]))],null,function(t,e){t(e,1,0,!0)})}function yx(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-tue"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-tue"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Tue"]))],null,function(t,e){t(e,1,0,!0)})}function vx(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-wed"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-wed"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Wed"]))],null,function(t,e){t(e,1,0,!0)})}function bx(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-thu"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-thu"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Thu"]))],null,function(t,e){t(e,1,0,!0)})}function _x(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-fri"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-fri"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Fri"]))],null,function(t,e){t(e,1,0,!0)})}function wx(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-sat"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-sat"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Sat"]))],null,function(t,e){t(e,1,0,!0)})}function Ex(t){return eo(0,[(t()(),Us(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"input",[["class","weekday disabled"],["disabled","disabled"],["id","weekday-sun"],["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(t()(),Us(2,0,null,null,1,"label",[["for","weekday-sun"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Sun"]))],null,function(t,e){t(e,1,0,!0)})}function Sx(t){return eo(0,[(t()(),Us(0,0,null,null,59,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Zs(2,null,["",""])),(t()(),Us(3,0,null,null,56,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,3,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,2,null,fx)),ui(6,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),ci(131072,za,[Tn]),(t()(),Us(8,0,null,null,51,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),Us(9,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(10,0,null,null,1,"label",[["class","col-md-6 pl-0"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Region: "])),(t()(),Us(12,0,null,null,1,"label",[["class","col-md-6 pl-0 strong"]],null,null,null,null,null)),(t()(),Zs(13,null,["",""])),(t()(),Us(14,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(15,0,null,null,1,"label",[["class","col-md-6 pl-0"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Platform: "])),(t()(),Us(17,0,null,null,1,"label",[["class","col-md-6 pl-0 strong"]],null,null,null,null,null)),(t()(),Zs(18,null,["",""])),(t()(),Us(19,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(20,0,null,null,1,"label",[["class","col-md-6 pl-0"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Communication Preference: "])),(t()(),Us(22,0,null,null,1,"label",[["class","col-md-6 pl-0 strong"]],null,null,null,null,null)),(t()(),Zs(23,null,["",""])),(t()(),Us(24,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(25,0,null,null,1,"label",[["class","form-control-label"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Steam Games"])),(t()(),Us(27,0,null,null,6,"div",[["class","mb-1"]],null,null,null,null,null)),(t()(),Us(28,0,null,null,5,"mat-chip-list",[["aria-label","Steam Games"],["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==Yr(t,30).focus()&&r),"blur"===e&&(r=!1!==Yr(t,30)._blur()&&r),"keydown"===e&&(r=!1!==Yr(t,30)._keydown(n)&&r),r},rw,nw)),hi(6144,null,Ab,null,[Tb]),ui(30,1556480,null,1,Tb,[rn,Tn,[2,ym],[2,j_],[2,X_],rf,[8,null]],null,null),$s(603979776,1,{chips:1}),(t()(),Vs(16777216,null,0,1,null,mx)),ui(33,278528,null,0,Oa,[Nn,Dn,Sn],{ngForOf:[0,"ngForOf"]},null),(t()(),Us(34,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(35,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Available Day(s)"])),(t()(),Us(37,0,null,null,14,"div",[["class","weekDays-selector"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,gx)),ui(39,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,yx)),ui(41,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,vx)),ui(43,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,bx)),ui(45,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,_x)),ui(47,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,wx)),ui(49,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,Ex)),ui(51,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Us(52,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(53,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Friends List "])),(t()(),Us(55,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Zs(56,null,[""," Total Friends"])),(t()(),Us(57,0,null,null,2,"div",[["class","friends-list"]],null,null,null,null,null)),(t()(),Us(58,0,null,null,1,"app-friend-card",[],null,null,null,hx,ux)),ui(59,114688,null,0,lx,[],{friends:[0,"friends"]},null)],function(t,e){var n=e.component;t(e,6,0,Kn(e,6,0,Yr(e,7).transform(n.auth.user$))),t(e,30,0),t(e,33,0,n.steamApps),t(e,39,0,n.isDaySelected(1)),t(e,41,0,n.isDaySelected(2)),t(e,43,0,n.isDaySelected(3)),t(e,45,0,n.isDaySelected(4)),t(e,47,0,n.isDaySelected(5)),t(e,49,0,n.isDaySelected(6)),t(e,51,0,n.isDaySelected(7)),t(e,59,0,n.profile._friends)},function(t,e){var n=e.component;t(e,2,0,n.profile.displayName),t(e,13,0,n.region.name),t(e,18,0,n.platform.name),t(e,23,0,n.comm.name),t(e,28,1,[Yr(e,30).disabled?null:Yr(e,30)._tabIndex,Yr(e,30)._ariaDescribedby||null,Yr(e,30).required.toString(),Yr(e,30).disabled.toString(),Yr(e,30).errorState,Yr(e,30).multiple,Yr(e,30).role,Yr(e,30).disabled,Yr(e,30).errorState,Yr(e,30).required,Yr(e,30).ariaOrientation,Yr(e,30)._uid]),t(e,56,0,n.profile._friends.length)})}function Cx(t){return eo(0,[(t()(),Us(0,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,3,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,2,"div",[["class","form-control d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),Zs(-1,null,["Navigate to the Setup tab to create a profile."]))],null,null)}function Tx(t){return eo(0,[(t()(),Us(0,0,null,null,4,"div",[["class","card centerCard"],["style","width: 90%;"]],null,null,null,null,null)),(t()(),Vs(16777216,null,null,1,null,Sx)),ui(2,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,Cx)),ui(4,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.profile&&n.region&&n.platform&&n.comm),t(e,4,0,n.noProfile)},null)}function xx(t){return eo(0,[(t()(),Us(0,0,null,null,1,"app-profile",[],null,null,null,Tx,px)),ui(1,114688,null,0,dx,[ch,MS,FS,gC,vS],null,null)],function(t,e){t(e,1,0)},null)}var Ix=Ur("app-profile",dx,xx,{},{},[]),kx=Xn({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function Ax(t){return eo(0,[(t()(),Vs(0,null,null,0))],null,null)}function Dx(t){return eo(0,[$s(402653184,1,{_portalOutlet:0}),(t()(),Vs(16777216,null,null,1,null,Ax)),ui(2,212992,[[1,4]],0,np,[Xe,Nn],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function Ox(t){return eo(0,[(t()(),Us(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(t,e,n){var r=!0;return"component:@dialogContainer.start"===e&&(r=!1!==Yr(t,1)._onAnimationStart(n)&&r),"component:@dialogContainer.done"===e&&(r=!1!==Yr(t,1)._onAnimationDone(n)&&r),r},Dx,kx)),ui(1,49152,null,0,FE,[rn,$p,Tn,[2,Ha],ME],null,null)],null,function(t,e){t(e,0,0,Yr(e,1)._id,Yr(e,1)._config.role,Yr(e,1)._config.ariaLabel?null:Yr(e,1)._ariaLabelledBy,Yr(e,1)._config.ariaLabel,Yr(e,1)._config.ariaDescribedBy||null,Yr(e,1)._state)})}var Nx=Ur("mat-dialog-container",FE,Ox,{},{},[]),Rx=Xn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"inactive",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"active",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"removed",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"inactive => active",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null},{type:1,expr:"active => removed",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null}],options:{}}]}});function Px(t){return eo(0,[(t()(),Us(0,0,null,null,2,"button",[["aria-label","Close"],["class","toast-close-button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.remove()&&r),r},null,null)),(t()(),Us(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Zs(-1,null,["\xd7"]))],null,null)}function Mx(t){return eo(0,[(t()(),Us(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Zs(1,null,["[","]"]))],null,function(t,e){t(e,1,0,e.component.duplicatesCount+1)})}function Lx(t){return eo(0,[(t()(),Us(0,0,null,null,3,"div",[],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(t()(),Zs(1,null,[" "," "])),(t()(),Vs(16777216,null,null,1,null,Mx)),ui(3,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.component.duplicatesCount)},function(t,e){var n=e.component;t(e,0,0,n.options.titleClass,n.title),t(e,1,0,n.title)})}function Fx(t){return eo(0,[(t()(),Us(0,0,null,null,0,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.options.messageClass,n.message)})}function Vx(t){return eo(0,[(t()(),Us(0,0,null,null,1,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(t()(),Zs(1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.options.messageClass,n.message),t(e,1,0,n.message)})}function Ux(t){return eo(0,[(t()(),Us(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"div",[["class","toast-progress"]],[[4,"width",null]],null,null,null,null))],null,function(t,e){t(e,1,0,e.component.width+"%")})}function Bx(t){return eo(0,[(t()(),Vs(16777216,null,null,1,null,Px)),ui(1,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,Lx)),ui(3,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,Fx)),ui(5,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,Vx)),ui(7,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(16777216,null,null,1,null,Ux)),ui(9,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.options.closeButton),t(e,3,0,n.title),t(e,5,0,n.message&&n.options.enableHtml),t(e,7,0,n.message&&!n.options.enableHtml),t(e,9,0,n.options.progressBar)},null)}function jx(t){return eo(0,[(t()(),Us(0,0,null,null,1,"div",[["toast-component",""]],[[8,"className",0],[40,"@flyInOut",0],[4,"display",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,1).tapToast()&&r),"mouseenter"===e&&(r=!1!==Yr(t,1).stickAround()&&r),"mouseleave"===e&&(r=!1!==Yr(t,1).delayedHideToast()&&r),r},Bx,Rx)),ui(1,180224,null,0,OS,[DS,bS,ts],null,null)],null,function(t,e){t(e,0,0,Yr(e,1).toastClasses,Yr(e,1).state,Yr(e,1).displayStyle)})}var qx=Ur("[toast-component]",OS,jx,{},{},[]);class zx{constructor(){}ngOnInit(){}}var $x=Xn({encapsulation:0,styles:[[".btn-circle.btn-xl[_ngcontent-%COMP%]{width:60px;height:60px;padding:10px 16px;border-radius:35px}.btn-circle[_ngcontent-%COMP%]{width:30px;height:30px;padding:6px 0;border-radius:15px;text-align:center;font-size:14px;line-height:1.42857;background-color:#a3be8c;border-color:#a3be8c}.messageButton[_ngcontent-%COMP%]{overflow:hidden;position:fixed;bottom:18px;right:18px;width:100%;z-index:2}"]],data:{}});function Hx(t){return eo(0,[(t()(),Us(0,0,null,null,2,"button",[["class","btn btn-primary btn-circle btn-xl messageButton"],["type","button"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,1,"i",[["class","material-icons"],["style","padding-top: 6px;"]],null,null,null,null,null)),(t()(),Zs(-1,null,["message"]))],null,null)}class Wx{constructor(t){this.auth=t}ngOnInit(){}}var Gx=Xn({encapsulation:0,styles:[[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:60px auto 0}.error[_ngcontent-%COMP%]{color:tomato;font-size:12px;padding-top:4px}.photo-img[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;width:30px}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:50px;height:50px;border-radius:50%;margin-right:15px}.welcomeText[_ngcontent-%COMP%]{padding-right:18px;color:#fff}.google-button[_ngcontent-%COMP%]{height:35px;border-width:0;background:#fff;color:#737373;border-radius:5px;white-space:nowrap;box-shadow:1px 1px 0 1px rgba(0,0,0,.05);transition-property:background-color,box-shadow;transition-duration:150ms;transition-timing-function:ease-in-out;padding:0;margin-top:10px}.google-button[_ngcontent-%COMP%]:focus, .google-button[_ngcontent-%COMP%]:hover{box-shadow:1px 4px 5px 1px rgba(0,0,0,.1)}.google-button[_ngcontent-%COMP%]:active{background-color:#e5e5e5;box-shadow:none;transition-duration:10ms}.google-button__icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:8px 0 8px 8px;width:18px;height:18px;box-sizing:border-box}.google-button__icon--plus[_ngcontent-%COMP%]{width:27px}.google-button__text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding:0 18px;font-size:14px;font-weight:700;font-family:Roboto,arial,sans-serif}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#f0f0f0;display:flex;align-items:center;justify-content:center}button[_ngcontent-%COMP%] ~ button[_ngcontent-%COMP%]{margin-left:20px}"]],data:{}});function Kx(t){return eo(0,[(t()(),Us(0,0,null,null,6,"div",[["class","form-group mb-0"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,1,"label",[["class","welcomeText mb-0"],["style","color: #d8dee9"]],null,null,null,null,null)),(t()(),Zs(2,null,["Hello, ","!"])),(t()(),Us(3,0,null,null,1,"a",[["href","/profile"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,0,"img",[["class","avatar"]],[[8,"src",4]],null,null,null,null)),(t()(),Us(5,0,null,null,1,"button",[["class","btn btn-light"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.signOut()&&r),r},null,null)),(t()(),Zs(-1,null,["Sign Out"]))],null,function(t,e){t(e,2,0,e.context.ngIf.displayName),t(e,4,0,Cr(1,"",e.context.ngIf.photoURL,""))})}function Qx(t){return eo(0,[(t()(),Us(0,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,4,"button",[["class","google-button"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.googleSignin()&&r),r},null,null)),(t()(),Us(2,0,null,null,1,"span",[["class","google-button__icon"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,0,"img",[["src","../../assets/images/g-normal.png"],["style","width: 100%; vertical-align: baseline"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,1,"span",[["class","google-button__text"]],null,null,null,null,null)),(t()(),Zs(-1,null,[" Sign in with Google "]))],null,null)}function Yx(t){return eo(0,[(t()(),Us(0,0,null,null,43,"nav",[["class","navbar navbar-expand-md navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),Us(1,0,null,null,0,"img",[["src","../../assets/images/hashmap_color.svg"],["style","width: 60px"]],null,null,null,null,null)),(t()(),Us(2,0,null,null,1,"button",[["aria-controls","navbarsExample04"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarsExample04"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Us(3,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Us(4,0,null,null,39,"div",[["class","collapse navbar-collapse"],["id","navbarsExample04"]],null,null,null,null,null)),(t()(),Us(5,0,null,null,29,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),Us(6,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Us(7,0,null,null,3,"a",[["class","nav-link"],["href","/about"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Home "])),(t()(),Us(9,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Zs(-1,null,["(current)"])),(t()(),Us(11,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Us(12,0,null,null,1,"a",[["class","divider"]],null,null,null,null,null)),(t()(),Zs(-1,null,["|"])),(t()(),Us(14,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Us(15,0,null,null,1,"a",[["class","nav-link"],["href","/rubric"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Rubric"])),(t()(),Us(17,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Us(18,0,null,null,1,"a",[["class","divider"]],null,null,null,null,null)),(t()(),Zs(-1,null,["|"])),(t()(),Us(20,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Us(21,0,null,null,1,"a",[["class","nav-link"],["href","/network"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Network"])),(t()(),Us(23,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Us(24,0,null,null,1,"a",[["class","divider"]],null,null,null,null,null)),(t()(),Zs(-1,null,["|"])),(t()(),Us(26,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Us(27,0,null,null,1,"a",[["class","nav-link"],["href","/setup"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Setup"])),(t()(),Us(29,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Us(30,0,null,null,1,"a",[["class","divider"]],null,null,null,null,null)),(t()(),Zs(-1,null,["|"])),(t()(),Us(32,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Us(33,0,null,null,1,"a",[["class","nav-link"],["href","/profile"]],null,null,null,null,null)),(t()(),Zs(-1,null,["Profile"])),(t()(),Us(35,0,null,null,8,"form",[["class",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Yr(t,37).onSubmit(n)&&r),"reset"===e&&(r=!1!==Yr(t,37).onReset()&&r),r},null,null)),ui(36,16384,null,0,K_,[],null,null),ui(37,4210688,null,0,j_,[[8,null],[8,null]],null,null),hi(2048,null,$b,null,[j_]),ui(39,16384,null,0,Qb,[[4,$b]],null,null),(t()(),Vs(16777216,null,null,2,null,Kx)),ui(41,16384,null,0,Ra,[Nn,Dn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),ci(131072,za,[Tn]),(t()(),Vs(0,[["login",2]],null,0,null,Qx))],function(t,e){var n=e.component;t(e,41,0,Kn(e,41,0,Yr(e,42).transform(n.auth.user$)),Yr(e,43))},function(t,e){t(e,35,0,Yr(e,39).ngClassUntouched,Yr(e,39).ngClassTouched,Yr(e,39).ngClassPristine,Yr(e,39).ngClassDirty,Yr(e,39).ngClassValid,Yr(e,39).ngClassInvalid,Yr(e,39).ngClassPending)})}var Xx=Xn({encapsulation:0,styles:[[""]],data:{}});function Zx(t){return eo(0,[(t()(),Us(0,0,null,null,1,"app-chat-button",[],null,null,null,Hx,$x)),ui(1,114688,null,0,zx,[],null,null),(t()(),Us(2,0,null,null,1,"app-nav",[],null,null,null,Yx,Gx)),ui(3,114688,null,0,Wx,[FS],null,null),(t()(),Us(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ui(5,212992,null,0,Cd,[Sd,Nn,Xe,[8,null],Tn],null,null)],function(t,e){t(e,1,0),t(e,3,0),t(e,5,0)},null)}function Jx(t){return eo(0,[(t()(),Us(0,0,null,null,1,"app-root",[],null,null,null,Zx,Xx)),ui(1,49152,null,0,ca,[],null,null)],null,null)}var tI,eI=Ur("app-root",ca,Jx,{},{},[]);n("6Joi");const nI=(()=>tI=class{static enablePersistence(t){return{ngModule:tI,providers:[{provide:cS,useValue:!0},{provide:hS,useValue:t}]}}})();var rI=n("wj3C"),iI=n.n(rI);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];o in i||(i[o]={}),i=i[o]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function s(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=n.setTimeout;r.prototype.c=function(t){o(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.o),reject:t(this.g)}},e.prototype.o=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.u(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.l(t):this.h(t)}},e.prototype.l=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.m()},e.prototype.m=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.u=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){s(n)}}:e}var i,s,o=new e(function(t,e){i=t,s=e});return this.Ja(r(t,i),r(n,s)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=s,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),o=r.next();!o.done;o=r.next())s(o.value).Ja(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?s([]):new e(function(t,e){function i(e){return function(n){o[e]=n,0==--a&&t(o)}}var o=[],a=0;do{o.push(void 0),a++,s(r.value).Ja(i(o.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},o=this;function a(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var u=/^[\w+\/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function f(t){return"array"==d(t)}function m(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.cd=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function I(t){if(Error.captureStackTrace)Error.captureStackTrace(this,I);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function k(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");I.call(this,n+t[r])}function A(t,e){throw new k("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function O(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function N(){this.b=this.a=null}T(I,Error),I.prototype.name="CustomError",T(k,I),k.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var R=new D(function(){return new M},function(t){t.reset()});function P(){var t=yt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}N.prototype.add=function(t,e){var n=R.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=a(t)?t.split(""):t,s=0;s<n;s++)s in i&&(r[s]=e.call(void 0,i[s],s,t));return r},U=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function B(t,e){return 0<=L(t,e)}function j(t,e){var n;return(n=0<=(e=L(t,e)))&&Array.prototype.splice.call(t,e,1),n}function q(t,e){!function(t,e){for(var n=a(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function z(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var H,W=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},G=/&/g,K=/</g,Q=/>/g,Y=/"/g,X=/'/g,Z=/\x00/g,J=/[\x00&<>"']/;function tt(t,e){return-1!=t.indexOf(e)}function et(t,e){return t<e?-1:t>e?1:0}t:{var nt=o.navigator;if(nt){var rt=nt.userAgent;if(rt){H=rt;break t}}H=""}function it(t){return tt(H,t)}function st(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ot(t){for(var e in t)return!1;return!0}function at(t){var e,n={};for(e in t)n[e]=t[e];return n}var lt,ut,ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ct.length;s++)n=ct[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function pt(t){return J.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(G,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(K,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Y,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(X,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Z,"&#0;"))),t}function ft(t){o.setTimeout(function(){throw t},0)}function mt(t,e){ut||function(){if(o.Promise&&o.Promise.resolve){var t=o.Promise.resolve(void 0);ut=function(){t.then(vt)}}else ut=function(){var t=vt;!g(o.setImmediate)||o.Window&&o.Window.prototype&&!it("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(lt||(lt=function(){var t=o.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!it("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!it("Trident")&&!it("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){o.setTimeout(t,0)}}()),lt(t)):o.setImmediate(t)}}(),gt||(ut(),gt=!0),yt.add(t,e)}var gt=!1,yt=new N;function vt(){for(var t;t=P();){try{t.a.call(t.b)}catch(e){ft(e)}O(R,t)}gt=!1}function bt(t,e){if(this.a=_t,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Nt(n,wt,t)},function(t){if(!(t instanceof Ut))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Nt(n,Et,t)})}catch(r){Nt(this,Et,r)}}var _t=0,wt=2,Et=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new D(function(){return new St},function(t){t.reset()});function Tt(t,e,n){var r=Ct.get();return r.g=t,r.b=e,r.f=n,r}function xt(t){if(t instanceof bt)return t;var e=new bt(h);return Nt(e,wt,t),e}function It(t){return new bt(function(e,n){n(t)})}function kt(t,e,n){Rt(t,e,n,null)||mt(S(e,t))}function At(t){return new bt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,s){n--,r[t]=i?{Eb:!0,value:s}:{Eb:!1,reason:s},0==n&&e(r)},s=0;s<t.length;s++)kt(t[s],S(i,s,!0),S(i,s,!1));else e(r)})}function Dt(t,e){t.b||t.a!=wt&&t.a!=Et||Pt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ot(t,e,n,r){var i=Tt(null,null,null);return i.a=new bt(function(t,s){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(o){s(o)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ut?s(e):t(i)}catch(o){s(o)}}:s}),i.a.c=t,Dt(t,i),i.a}function Nt(t,e,n){t.a==_t&&(t===n&&(e=Et,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Rt(n,t.Lc,t.Mc,t)||(t.i=n,t.a=e,t.c=null,Pt(t),e!=Et||n instanceof Ut||function(t,e){t.g=!0,mt(function(){t.g&&Vt.call(null,e)})}(t,n)))}function Rt(t,e,n,r){if(t instanceof bt)return Dt(t,Tt(e||h,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function s(t){o||(o=!0,r.call(i,t))}var o=!1;try{e.call(t,function(t){o||(o=!0,n.call(i,t))},s)}catch(a){s(a)}}(t,i,e,n,r),!0}catch(s){return n.call(r,s),!0}return!1}function Pt(t){t.h||(t.h=!0,mt(t.Xb,t))}function Mt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Lt(t,e,n,r){if(n==Et&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ft(e,n,r);else try{e.c?e.g.call(e.f):Ft(e,n,r)}catch(i){Vt.call(null,i)}O(Ct,e)}function Ft(t,e,n){e==wt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}bt.prototype.then=function(t,e,n){return Ot(this,g(t)?t:null,g(e)?e:null,n)},bt.prototype.$goog_Thenable=!0,(t=bt.prototype).ia=function(t,e){return(t=Tt(t,t,e)).c=!0,Dt(this,t),this},t.s=function(t,e){return Ot(this,null,t,e)},t.cancel=function(t){this.a==_t&&mt(function(){!function t(e,n){if(e.a==_t)if(e.c){var r=e.c;if(r.b){for(var i=0,s=null,o=null,a=r.b;a&&(a.c||(i++,a.a==e&&(s=a),!(s&&1<i)));a=a.next)s||(o=a);s&&(r.a==_t&&1==i?t(r,n):(o?((i=o).next==r.f&&(r.f=i),i.next=i.next.next):Mt(r),Lt(r,s,Et,n)))}e.c=null}else Nt(e,Et,n)}(this,new Ut(t))},this)},t.Lc=function(t){this.a=_t,Nt(this,wt,t)},t.Mc=function(t){this.a=_t,Nt(this,Et,t)},t.Xb=function(){for(var t;t=Mt(this);)Lt(this,t,this.a,this.i);this.h=!1};var Vt=ft;function Ut(t){I.call(this,t)}function Bt(){0!=jt&&(qt[this[v]||(this[v]=++b)]=this),this.qa=this.qa,this.ja=this.ja}T(Ut,I),Ut.prototype.name="cancel";var jt=0,qt={};function zt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=jt)){var e=t[v]||(t[v]=++b);if(0!=jt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qt[e]}}function $t(t){return $t[" "](t),t}Bt.prototype.qa=!1,Bt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},$t[" "]=h;var Ht,Wt,Gt=it("Opera"),Kt=it("Trident")||it("MSIE"),Qt=it("Edge"),Yt=Qt||Kt,Xt=it("Gecko")&&!(tt(H.toLowerCase(),"webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),Zt=tt(H.toLowerCase(),"webkit")&&!it("Edge");function Jt(){var t=o.document;return t?t.documentMode:void 0}t:{var te="",ee=(Wt=H,Xt?/rv:([^\);]+)(\)|;)/.exec(Wt):Qt?/Edge\/([\d\.]+)/.exec(Wt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):Gt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ee&&(te=ee?ee[1]:""),Kt){var ne=Jt();if(null!=ne&&ne>parseFloat(te)){Ht=String(ne);break t}}Ht=te}var re,ie={};function se(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=W(String(Ht)).split("."),r=W(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=et(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||et(0==o[2].length,0==a[2].length)||et(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var oe=o.document;re=oe&&Kt?Jt()||("CSS1Compat"==oe.compatMode?parseInt(Ht,10):5):void 0;var ae=Object.freeze||function(t){return t},le=!Kt||9<=Number(re),ue=Kt&&!se("9"),ce=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",h,e),o.removeEventListener("test",h,e)}catch(n){}return t}();function he(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function de(t,e){if(he.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{$t(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:pe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}he.prototype.preventDefault=function(){this.Kb=!1},T(de,he);var pe=ae({2:"touch",3:"pen",4:"mouse"});de.prototype.preventDefault=function(){de.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ue)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},de.prototype.f=function(){return this.a};var fe="closure_listenable_"+(1e6*Math.random()|0),me=0;function ge(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++me,this.oa=this.Ia=!1}function ye(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function ve(t){this.src=t,this.a={},this.b=0}function be(t,e){var n=e.type;n in t.a&&j(t.a[n],e)&&(ye(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function _e(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.oa&&s.listener==e&&s.capture==!!n&&s.Na==r)return i}return-1}ve.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=_e(t,e,r,i);return-1<o?(e=t[o],n||(e.Ia=!1)):((e=new ge(e,this.src,s,!!r,i)).Ia=n,t.push(e)),e};var we="closure_lm_"+(1e6*Math.random()|0),Ee={};function Se(t,e,n,r,i){if(r&&r.once)Te(t,e,n,r,i);else if(f(e))for(var s=0;s<e.length;s++)Se(t,e[s],n,r,i);else n=Pe(n),t&&t[fe]?Le(t,e,n,y(r)?!!r.capture:!!r,i):Ce(t,e,n,!1,r,i)}function Ce(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=y(i)?!!i.capture:!!i,a=Ne(t);if(a||(t[we]=a=new ve(t)),!(n=a.add(e,n,r,o,s)).proxy)if(r=function(){var t=Oe,e=le?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ke(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Te(t,e,n,r,i){if(f(e))for(var s=0;s<e.length;s++)Te(t,e[s],n,r,i);else n=Pe(n),t&&t[fe]?Fe(t,e,n,y(r)?!!r.capture:!!r,i):Ce(t,e,n,!0,r,i)}function xe(t,e,n,r,i){if(f(e))for(var s=0;s<e.length;s++)xe(t,e[s],n,r,i);else r=y(r)?!!r.capture:!!r,n=Pe(n),t&&t[fe]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=_e(s=t.a[e],n,r,i))&&(ye(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Ne(t))&&(e=t.a[e.toString()],t=-1,e&&(t=_e(e,n,r,i)),(n=-1<t?e[t]:null)&&Ie(n))}function Ie(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[fe])be(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ke(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ne(e))?(be(n,t),0==n.b&&(n.src=null,e[we]=null)):ye(t)}}}function ke(t){return t in Ee?Ee[t]:Ee[t]="on"+t}function Ae(t,e,n,r){var i=!0;if((t=Ne(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var s=e[t];s&&s.capture==n&&!s.oa&&(s=De(s,r),i=i&&!1!==s)}return i}function De(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&Ie(t),n.call(r,e)}function Oe(t,e){if(t.oa)return!0;if(!le){if(!e)t:{e=["window","event"];for(var n=o,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new de(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var s=Ae(r[i],t,!0,e);n=n&&s}for(i=0;i<r.length;i++)e.b=r[i],s=Ae(r[i],t,!1,e),n=n&&s}return n}return De(t,new de(e,this))}function Ne(t){return(t=t[we])instanceof ve?t:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(t){return g(t)?t:(t[Re]||(t[Re]=function(e){return t.handleEvent(e)}),t[Re])}function Me(){Bt.call(this),this.m=new ve(this),this.Qb=this,this.Va=null}function Le(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function Fe(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function Ve(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.oa&&o.capture==n){var a=o.listener,l=o.Na||o.src;o.Ia&&be(t.m,o),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Kb}function Ue(t,e,n){if(g(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function Be(t){var e=null;return new bt(function(n,r){-1==(e=Ue(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw o.clearTimeout(e),t})}function je(t){if(t.S&&"function"==typeof t.S)return t.S();if(a(t))return t.split("");if(m(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function qe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(m(t)||a(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function ze(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ze)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $e(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];He(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)He(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(Me,Bt),Me.prototype[fe]=!0,Me.prototype.addEventListener=function(t,e,n,r){Se(this,t,e,n,r)},Me.prototype.removeEventListener=function(t,e,n,r){xe(this,t,e,n,r)},Me.prototype.dispatchEvent=function(t){var e,n=this.Va;if(n)for(e=[];n;n=n.Va)e.push(n);n=this.Qb;var r=t.type||t;if(a(t))t=new he(t,n);else if(t instanceof he)t.target=t.target||n;else{var i=t;ht(t=new he(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.b=e[s];i=Ve(o,r,!0,t)&&i}if(i=Ve(o=t.b=n,r,!0,t)&&i,i=Ve(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=Ve(o=t.b=e[s],r,!1,t)&&i;return i},Me.prototype.va=function(){if(Me.qb.va.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ye(n[r]);delete e.a[t],e.b--}}this.Va=null},(t=ze.prototype).S=function(){$e(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return $e(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return He(this.b,t)?this.b[t]:e},t.set=function(t,e){He(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var We=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ge(t,e){var n;this.b=this.i=this.f="",this.m=null,this.g=this.c="",this.h=!1,t instanceof Ge?(this.h=void 0!==e?e:t.h,Ke(this,t.f),this.i=t.i,this.b=t.b,Qe(this,t.m),this.c=t.c,Ye(this,gn(t.a)),this.g=t.g):t&&(n=String(t).match(We))?(this.h=!!e,Ke(this,n[1]||"",!0),this.i=en(n[2]||""),this.b=en(n[3]||"",!0),Qe(this,n[4]),this.c=en(n[5]||"",!0),Ye(this,n[6]||"",!0),this.g=en(n[7]||"")):(this.h=!!e,this.a=new cn(null,this.h))}function Ke(t,e,n){t.f=n?en(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ye(t,e,n){e instanceof cn?(t.a=e,function(t,e){e&&!t.f&&(hn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),mn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=nn(e,ln)),t.a=new cn(e,t.h))}function Xe(t,e,n){t.a.set(e,n)}function Ze(t,e){return t.a.get(e)}function Je(t){return t instanceof Ge?new Ge(t):new Ge(t,void 0)}function tn(t,e){var n=new Ge(null,void 0);return Ke(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function en(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nn(t,e,n){return a(t)?(t=encodeURI(t).replace(e,rn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ge.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nn(e,sn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(nn(e,sn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(nn(n,"/"==n.charAt(0)?an:on,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",nn(n,un)),t.join("")},Ge.prototype.resolve=function(t){var e=new Ge(this),n=!!t.f;n?Ke(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.m;var r=t.c;if(n)Qe(e,t.m);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(tt(i,"./")||tt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Ye(e,gn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var sn=/[#\/\?@]/g,on=/[#\?:]/g,an=/[#\?]/g,ln=/[#\?@]/g,un=/#/g;function cn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hn(t){t.a||(t.a=new ze,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function dn(t){var e=qe(t);if(void 0===e)throw Error("Keys are undefined");var n=new cn(null,void 0);t=je(t);for(var r=0;r<e.length;r++){var i=e[r],s=t[r];f(s)?mn(n,i,s):n.add(i,s)}return n}function pn(t,e){hn(t),e=yn(t,e),He(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,He((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$e(t)))}function fn(t,e){return hn(t),e=yn(t,e),He(t.a.b,e)}function mn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(yn(t,e),$(n)),t.b+=n.length)}function gn(t){var e=new cn;return e.c=t.c,t.a&&(e.a=new ze(t.a),e.b=t.b),e}function yn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=cn.prototype).add=function(t,e){hn(this),this.c=null,t=yn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){hn(this),this.a.forEach(function(n,r){F(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){hn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},t.S=function(t){hn(this);var e=[];if(a(t))fn(this,t)&&(e=z(e,this.a.get(yn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},t.set=function(t,e){return hn(this),this.c=null,fn(this,t=yn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var vn=!Kt||9<=Number(re);function bn(t,e){this.a=t===En&&e||"",this.b=wn}function _n(t){return t instanceof bn&&t.constructor===bn&&t.b===wn?t.a:(A("expected object of type Const, got '"+t+"'"),"type_error:Const")}bn.prototype.na=!0,bn.prototype.ma=function(){return this.a},bn.prototype.toString=function(){return"Const{"+this.a+"}"};var wn={},En={};function Sn(){this.a="",this.b=kn}function Cn(t){return t instanceof Sn&&t.constructor===Sn&&t.b===kn?t.a:(A("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Tn(t,e){var n=_n(t);if(!In.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new Sn;return e.a=t,e}(t=n.replace(xn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bn?_n(t):encodeURIComponent(String(t))}))}Sn.prototype.na=!0,Sn.prototype.ma=function(){return this.a.toString()},Sn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xn=/%{(\w+)}/g,In=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,kn={};function An(){this.a="",this.b=Rn}function Dn(t){return t instanceof An&&t.constructor===An&&t.b===Rn?t.a:(A("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}An.prototype.na=!0,An.prototype.ma=function(){return this.a.toString()},An.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var On=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Nn(t){return t instanceof An?t:(t="object"==typeof t&&t.na?t.ma():String(t),On.test(t)||(t="about:invalid#zClosurez"),Pn(t))}var Rn={};function Pn(t){var e=new An;return e.a=t,e}function Mn(){this.a="",this.b=Ln}Pn("about:blank"),Mn.prototype.na=!0,Mn.prototype.ma=function(){return this.a.toString()},Mn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ln={};function Fn(t){var e=new Mn;return e.a=t,e}function Vn(t){var e=document;return a(t)?e.getElementById(t):t}function Un(t,e){st(e,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Bn.hasOwnProperty(n)?t.setAttribute(Bn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Fn("<!DOCTYPE html>"),Fn(""),Fn("<br>");var Bn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function jn(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function qn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var i=n;n=i.length,r.push("[");for(var s="",o=0;o<n;o++)r.push(s),t(e,i[o],r),s=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),s="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(o=n[i])&&(r.push(s),Wn(i,r),r.push(":"),t(e,o,r),s=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Wn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new zn,t,e),e.join("")}function zn(){}var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Hn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Wn(t,e){e.push('"',t.replace(Hn,function(t){var e=$n[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),$n[t]=e),e}),'"')}function Gn(){var t=dr();return Kt&&!!re&&11==re||/Edge\/\d+/.test(t)}function Kn(){return o.window&&o.window.location.href||self&&self.location&&self.location.href||""}function Qn(t,e){e=e||o.window;var n="about:blank";t&&(n=Dn(Nn(t)).toString()),e.location.href=n}function Yn(t){return!!((t=(t||dr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Xn(t){t=t||o.window;try{t.close()}catch(e){}}function Zn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(o in e={width:e,height:n,top:0<i?i:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=dr().toLowerCase(),r&&(e.target=r,tt(n,"crios/")&&(e.target="_blank")),ur(dr())==ar&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof An?n:Nn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(t[o]?1:0))}var o=i.join(",");if((it("iPhone")&&!it("iPod")&&!it("iPad")||it("iPad")||it("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(o=r.document.createElement("A"),e instanceof An||e instanceof An||(e="object"==typeof e&&e.na?e.ma():String(e),On.test(e)||(e="about:invalid#zClosurez"),e=Pn(e)),o.href=Dn(e),o.setAttribute("target",n),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),o.dispatchEvent(t),o={}):t.noreferrer?(o=r.open("",n,o),t=Dn(e).toString(),o&&(Yt&&tt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),o.opener=null,t=Fn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+pt(t)+'">'),o.document.write(function(t){return t instanceof Mn&&t.constructor===Mn&&t.b===Ln?t.a:(A("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),o.document.close())):(o=r.open(Dn(e).toString(),n,o))&&t.noopener&&(o.opener=null),o)try{o.focus()}catch(a){}return o}var Jn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tr=/^[^@]+@[^@]+$/;function er(){var t=null;return new bt(function(e){"complete"==o.document.readyState?e():(t=function(){e()},Te(window,"load",t))}).s(function(e){throw xe(window,"load",t),e})}function nr(t){return t=t||dr(),!("file:"!==yr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){var t=o.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ir(){return void 0!==o.WorkerGlobalScope&&"function"==typeof o.importScripts}function sr(){return iI.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":iI.a.INTERNAL.hasOwnProperty("node")?"Node":ir()?"Worker":"Browser"}function or(){var t=sr();return"ReactNative"===t||"Node"===t}var ar="Firefox",lr="Chrome";function ur(t){var e=t.toLowerCase();return tt(e,"opera/")||tt(e,"opr/")||tt(e,"opios/")?"Opera":tt(e,"iemobile")?"IEMobile":tt(e,"msie")||tt(e,"trident/")?"IE":tt(e,"edge/")?"Edge":tt(e,"firefox/")?ar:tt(e,"silk/")?"Silk":tt(e,"blackberry")?"Blackberry":tt(e,"webos")?"Webos":!tt(e,"safari/")||tt(e,"chrome/")||tt(e,"crios/")||tt(e,"android")?!tt(e,"chrome/")&&!tt(e,"crios/")||tt(e,"edge/")?tt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":lr:"Safari"}var cr={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};function hr(t,e){e=e||[];var n,r=[],i={};for(n in cr)i[cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=sr())?r=ur(i=dr()):"Worker"===r&&(r=ur(i=dr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function dr(){return o.navigator&&o.navigator.userAgent||""}function pr(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function fr(){try{var t=o.localStorage,e=Er();if(t)return t.setItem(e,"1"),t.removeItem(e),!Gn()||!!o.indexedDB}catch(n){return ir()&&!!o.indexedDB}return!1}function mr(){return(gr()||"chrome-extension:"===yr()||nr())&&!or()&&fr()&&!ir()}function gr(){return"http:"===yr()||"https:"===yr()}function yr(){return o.location&&o.location.protocol||null}function vr(t){return!Yn(t=t||dr())&&ur(t)!=ar}function br(t){return void 0===t?null:qn(t)}function _r(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function wr(t){if(null!==t)return JSON.parse(t)}function Er(t){return t||Math.floor(1e9*Math.random()).toString()}function Sr(t){return"Safari"!=ur(t=t||dr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Cr(){var t=o.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Tr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=dr(),e=sr(),this.b=Yn(t)||"ReactNative"===e}function xr(){var t=o.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Ir(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function kr(){return!(!pr("fireauth.oauthhelper",o)&&!pr("fireauth.iframe",o))}Tr.prototype.get=function(){var t=o.navigator;return!t||"boolean"!=typeof t.onLine||!gr()&&"chrome-extension:"!==yr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ar,Dr={};function Or(t){Dr[t]||(Dr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Nr={};Object.defineProperty(Nr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Nr,"abcd",{configurable:!0,enumerable:!0,value:2}),Ar=2==Nr.abcd}catch(Wt){Ar=!1}function Rr(t,e,n){Ar?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Pr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Rr(t,n,e[n])}function Mr(t){var e={};return Pr(e,t),e}function Lr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Rr(e,n,Lr(t[n]));return e}function Fr(t){var e={},n=t[Ur],r=t[Br];if(!(t=t[jr])||t!=Vr&&!n)throw Error("Invalid provider user info!");e[zr]=r||null,e[qr]=n||null,Rr(this,Hr,t),Rr(this,$r,Lr(e))}var Vr="EMAIL_SIGNIN",Ur="email",Br="newEmail",jr="requestType",qr="email",zr="fromEmail",$r="data",Hr="operation";function Wr(t,e){this.code=Kr+t,this.message=e||Qr[t]||""}function Gr(t){var e=t&&t.code;return e?new Wr(e.substring(Kr.length),t.message):null}T(Wr,Error),Wr.prototype.w=function(){return{code:this.code,message:this.message}},Wr.prototype.toJSON=function(){return this.w()};var Kr="auth/",Qr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Yr(t){var e=t[ei];if(void 0===e)throw new Wr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Wr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Xr];if(n&&"object"==typeof n){e=n[ii];var r=n[ni];if(n=n[ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Wr("argument-error",ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Wr("argument-error",ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Wr("argument-error",ii+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Wr("missing-android-pkg-name")}}else if(void 0!==n)throw new Wr("argument-error",Xr+" property must be a non null object when specified.");if(this.f=null,(e=t[ti])&&"object"==typeof e){if("string"==typeof(e=e[si])&&e.length)this.f=e;else if(void 0!==e)throw new Wr("argument-error",si+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Wr("argument-error",ti+" property must be a non null object when specified.");if(void 0!==(e=t[Jr])&&"boolean"!=typeof e)throw new Wr("argument-error",Jr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Zr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Wr("argument-error",Zr+" property must be a non empty string when specified.");this.i=t||null}var Xr="android",Zr="dynamicLinkDomain",Jr="handleCodeInApp",ti="iOS",ei="url",ni="installApp",ri="minimumVersion",ii="packageName",si="bundleId";function oi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ai=null,li=null;function ui(t){this.c=t.sub,C(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function ci(t){return(t=hi(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ui(t):null}function hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ai){ai={},li={};for(var t=0;65>t;t++)ai[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),li[ai[t]]=t,62<=t&&(li["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),s=n(0),o=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|s>>4),64!=o&&(e(s<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}ui.prototype.f=function(){return this.b};var di,pi={Yc:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function fi(t){for(var e in pi)if(pi[e].id===t)return{firebaseEndpoint:(t=pi[e]).ab,secureTokenEndpoint:t.ib};return null}di=fi("__EID__")?"__EID__":void 0;var mi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),gi=["client_id","response_type","scope","redirect_uri","state"],yi={Tc:{Oa:"locale",Ba:500,Aa:600,Pa:"facebook.com",hb:gi},Vc:{Oa:null,Ba:500,Aa:620,Pa:"github.com",hb:gi},Wc:{Oa:"hl",Ba:515,Aa:680,Pa:"google.com",hb:gi},bd:{Oa:"lang",Ba:485,Aa:705,Pa:"twitter.com",hb:mi}};function vi(t){for(var e in yi)if(yi[e].Pa==t)return yi[e];return null}function bi(t){var e={};e["facebook.com"]=Ci,e["google.com"]=xi,e["github.com"]=Ti,e["twitter.com"]=Ii;var n=t&&t[wi];try{if(n)return e[n]?new e[n](t):new Si(t);if(void 0!==t[_i])return new Ei(t)}catch(r){}return null}var _i="idToken",wi="providerId";function Ei(t){var e=t[wi];if(!e&&t[_i]){var n=ci(t[_i]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Rr(this,"providerId",e),Rr(this,"isNewUser",n)}function Si(t){Ei.call(this,t),Rr(this,"profile",Lr((t=wr(t.rawUserInfo||"{}"))||{}))}function Ci(t){if(Si.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ti(t){if(Si.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Rr(this,"username",this.profile&&this.profile.login||null)}function xi(t){if(Si.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ii(t){if(Si.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Rr(this,"username",t.screenName||null)}function ki(t){this.a=Je(t)}function Ai(t){var e=Je(t),n=Ze(e,"link"),r=Ze(Je(n),"link");return e=Ze(e,"deep_link_id"),Ze(Je(e),"link")||e||r||n||t}function Di(){}function Oi(t,e){return t.then(function(t){if(t[yo]){var n=ci(t[yo]);if(!n||e!=n.c)throw new Wr("user-mismatch");return t}throw new Wr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Kr+"user-not-found"?new Wr("user-mismatch"):t})}function Ni(t,e){if(!e)throw new Wr("internal-error","failed to construct a credential");this.a=e,Rr(this,"providerId",t),Rr(this,"signInMethod",t)}function Ri(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Pi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Ni(t.providerId,t.pendingToken)}catch(e){}return null}function Mi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Rr(this,"idToken",e.idToken),e.accessToken&&Rr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Rr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Wr("internal-error","failed to construct a credential");Rr(this,"accessToken",e.oauthToken),Rr(this,"secret",e.oauthTokenSecret)}Rr(this,"providerId",t),Rr(this,"signInMethod",n)}function Li(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:dn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Fi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Mi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Vi(t,e){this.Dc=e||[],Pr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(vi(t)||{}).Oa||null,this.$a=null}function Ui(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Wr("argument-error",'SAML provider IDs must be prefixed with "saml."');Vi.call(this,t,[])}function Bi(t){Vi.call(this,t,gi),this.a=[]}function ji(){Bi.call(this,"facebook.com")}function qi(t){if(!t)throw new Wr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new ji).credential({accessToken:e})}function zi(){Bi.call(this,"github.com")}function $i(t){if(!t)throw new Wr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new zi).credential({accessToken:e})}function Hi(){Bi.call(this,"google.com"),this.ua("profile")}function Wi(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new Hi).credential({idToken:n,accessToken:e})}function Gi(){Vi.call(this,"twitter.com",mi)}function Ki(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Wr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Mi("twitter.com",n,"twitter.com")}function Qi(t,e,n){this.a=t,this.c=e,Rr(this,"providerId","password"),Rr(this,"signInMethod",n===Xi.EMAIL_LINK_SIGN_IN_METHOD?Xi.EMAIL_LINK_SIGN_IN_METHOD:Xi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Yi(t){return t&&t.email&&t.password?new Qi(t.email,t.password,t.signInMethod):null}function Xi(){Pr(this,{providerId:"password",isOAuthProvider:!1})}function Zi(t,e){if(!(e=Ji(e)))throw new Wr("argument-error","Invalid email link!");return new Qi(t,e,Xi.EMAIL_LINK_SIGN_IN_METHOD)}function Ji(t){var e=Ze((t=new ki(t=Ai(t))).a,"oobCode")||null;return"signIn"===(Ze(t.a,"mode")||null)&&e?e:null}function ts(t){if(!(t.Ta&&t.Sa||t.Fa&&t.$))throw new Wr("internal-error");this.a=t,Rr(this,"providerId","phone"),Rr(this,"signInMethod","phone")}function es(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new ts(e)}return null}function ns(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ta,code:t.a.Sa}}function rs(t){try{this.a=t||iI.a.auth()}catch(e){throw new Wr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Pr(this,{providerId:"phone",isOAuthProvider:!1})}function is(t,e){if(!t)throw new Wr("missing-verification-id");if(!e)throw new Wr("missing-verification-code");return new ts({Ta:t,Sa:e})}function ss(t){if(t.temporaryProof&&t.phoneNumber)return new ts({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,s=t&&t.oauthIdToken,o=t&&t.pendingToken;try{switch(e){case"google.com":return Wi(s,n);case"facebook.com":return qi(n);case"github.com":return $i(n);case"twitter.com":return Ki(n,r);default:return n||r||s||o?o?0==e.indexOf("saml.")?new Ni(e,o):new Mi(e,{pendingToken:o,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Bi(e).credential({idToken:s,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function os(t){if(!t.isOAuthProvider)throw new Wr("invalid-oauth-provider")}function as(t,e,n,r,i,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new Wr("invalid-auth-event");if(this.g&&this.a)throw new Wr("invalid-auth-event");if(this.g&&!this.f)throw new Wr("invalid-auth-event")}function ls(t){return(t=t||{}).type?new as(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Gr(t.error),t.postBody):null}function us(){this.b=null,this.a=[]}T(Si,Ei),T(Ci,Si),T(Ti,Si),T(xi,Si),T(Ii,Si),Ni.prototype.la=function(t){return Mo(t,Ri(this))},Ni.prototype.b=function(t,e){var n=Ri(this);return n.idToken=e,Lo(t,n)},Ni.prototype.f=function(t,e){return Oi(Fo(t,Ri(this)),e)},Ni.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Mi.prototype.la=function(t){return Mo(t,Li(this))},Mi.prototype.b=function(t,e){var n=Li(this);return n.idToken=e,Lo(t,n)},Mi.prototype.f=function(t,e){return Oi(Fo(t,Li(this)),e)},Mi.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Vi.prototype.Da=function(t){return this.zb=at(t),this},T(Ui,Vi),T(Bi,Vi),Bi.prototype.ua=function(t){return B(this.a,t)||this.a.push(t),this},Bi.prototype.Fb=function(){return $(this.a)},Bi.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Wr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mi(this.providerId,n,this.providerId)},T(ji,Bi),Rr(ji,"PROVIDER_ID","facebook.com"),Rr(ji,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(zi,Bi),Rr(zi,"PROVIDER_ID","github.com"),Rr(zi,"GITHUB_SIGN_IN_METHOD","github.com"),T(Hi,Bi),Rr(Hi,"PROVIDER_ID","google.com"),Rr(Hi,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Gi,Vi),Rr(Gi,"PROVIDER_ID","twitter.com"),Rr(Gi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Qi.prototype.la=function(t){return this.signInMethod==Xi.EMAIL_LINK_SIGN_IN_METHOD?da(t,Ho,{email:this.a,oobCode:this.c}):da(t,la,{email:this.a,password:this.c})},Qi.prototype.b=function(t,e){return this.signInMethod==Xi.EMAIL_LINK_SIGN_IN_METHOD?da(t,Wo,{idToken:e,email:this.a,oobCode:this.c}):da(t,na,{idToken:e,email:this.a,password:this.c})},Qi.prototype.f=function(t,e){return Oi(this.la(t),e)},Qi.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Pr(Xi,{PROVIDER_ID:"password"}),Pr(Xi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Pr(Xi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ts.prototype.la=function(t){return t.Ua(ns(this))},ts.prototype.b=function(t,e){var n=ns(this);return n.idToken=e,da(t,ca,n)},ts.prototype.f=function(t,e){var n=ns(this);return n.operation="REAUTH",Oi(t=da(t,ha,n),e)},ts.prototype.w=function(){var t={providerId:"phone"};return this.a.Ta&&(t.verificationId=this.a.Ta),this.a.Sa&&(t.verificationCode=this.a.Sa),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},rs.prototype.Ua=function(t,e){var n=this.a.c;return xt(e.verify()).then(function(r){if(!a(r))throw new Wr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return da(n,ta,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Wr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Pr(rs,{PROVIDER_ID:"phone"}),Pr(rs,{PHONE_SIGN_IN_METHOD:"phone"}),as.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},as.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var cs,hs=null;function ds(t){var e="unauthorized-domain",n=void 0,r=Je(t);t=r.b,"chrome-extension"==(r=r.f)?n=dt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=dt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Wr.call(this,e,n)}function ps(t,e,n){Wr.call(this,t,n),(t=e||{}).Ab&&Rr(this,"email",t.Ab),t.$&&Rr(this,"phoneNumber",t.$),t.credential&&Rr(this,"credential",t.credential)}function fs(t){if(t.code){var e=t.code||"";0==e.indexOf(Kr)&&(e=e.substring(Kr.length));var n={credential:ss(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Wr(e,t.message||void 0);return new ps(e,n,t.message)}return null}function ms(){}function gs(){}function ys(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function vs(){}function bs(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.dc,this),this.a.onerror=E(this.Gb,this),this.a.onprogress=E(this.ec,this),this.a.ontimeout=E(this.ic,this)}function _s(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ws(t,e,n){this.reset(t,e,n,void 0,void 0)}function Es(t){this.f=t,this.b=this.c=this.a=null}function Ss(t,e){this.name=t,this.value=e}us.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=pr("universalLinks.subscribe",o))&&t(null,this.b))},us.prototype.unsubscribe=function(t){q(this.a,function(e){return e==t})},T(ds,Wr),T(ps,Wr),ps.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.w();return e&&ht(t,e),t},ps.prototype.toJSON=function(){return this.w()},ms.prototype.c=null,T(gs,ms),gs.prototype.a=function(){var t=ys(this);return t?new ActiveXObject(t):new XMLHttpRequest},gs.prototype.b=function(){var t={};return ys(this)&&(t[0]=!0,t[1]=!0),t},cs=new gs,T(vs,ms),vs.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new bs;throw Error("Unsupported browser")},vs.prototype.b=function(){return{}},(t=bs.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.dc=function(){this.status=200,this.response=this.responseText=this.a.responseText,_s(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",_s(this,4)},t.ic=function(){this.Gb()},t.ec=function(){this.status=200,_s(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ws.prototype.a=null,ws.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},Ss.prototype.toString=function(){return this.name};var Cs=new Ss("SEVERE",1e3),Ts=new Ss("WARNING",900),xs=new Ss("CONFIG",700),Is=new Ss("FINE",500);Es.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(A("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new ws(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ks={},As=null;function Ds(t){var e;if(As||(As=new Es(""),ks[""]=As,As.c=xs),!(e=ks[t])){e=new Es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Ds(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ks[t]=e}return e}function Os(t,e){t&&t.log(Is,e,void 0)}function Ns(t){this.f=t}function Rs(t){Me.call(this),this.u=t,this.readyState=Ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.o="GET",this.g="",this.a=!1,this.h=Ds("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Ns,ms),Ns.prototype.a=function(){return new Rs(this.f)},Ns.prototype.b=function(t){return function(){return t}}({}),T(Rs,Me);var Ps=0;function Ms(t){t.c.read().then(t.cc.bind(t)).catch(t.Ma.bind(t))}function Ls(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Fs(t)}function Fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Vs(t){Me.call(this),this.headers=new ze,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Us,this.v=this.O=!1}(t=Rs.prototype).open=function(t,e){if(this.readyState!=Ps)throw this.abort(),Error("Error reopening a connection");this.o=t,this.g=e,this.readyState=1,Fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.o,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.hc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ls(this,!1)),this.readyState=Ps},t.hc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Fs(this)),this.a&&(this.readyState=3,Fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.fc.bind(this),this.Ma.bind(this)):void 0!==o.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Ms(this)):t.text().then(this.gc.bind(this),this.Ma.bind(this)))))},t.cc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ls(this,!0):Fs(this),3==this.readyState&&Ms(this)}},t.gc=function(t){this.a&&(this.response=this.responseText=t,Ls(this,!0))},t.fc=function(t){this.a&&(this.response=t,Ls(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(Ts,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Ls(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Ts,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Ts,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(Vs,Me);var Us="";Vs.prototype.b=Ds("goog.net.XhrIo");var Bs=/^https?$/i,js=["POST","PUT"];function qs(t){return"content-type"==t.toLowerCase()}function zs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,$s(t),Ws(t)}function $s(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Hs(t){if(t.c&&void 0!==s)if(t.A[1]&&4==Ks(t)&&2==Qs(t))Os(t.b,Ys(t,"Local request error detected and ignored"));else if(t.i&&4==Ks(t))Ue(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ks(t)){Os(t.b,Ys(t,"Request complete")),t.c=!1;try{var e,n=Qs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(We)[1]||null;if(!a&&o.self&&o.self.location){var l=o.self.location.protocol;a=l.substr(0,l.length-1)}i=!Bs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Ks(t)?t.a.statusText:""}catch(c){Os(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+Qs(t)+"]",$s(t)}}finally{Ws(t)}}}function Ws(t,e){if(t.a){Gs(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Cs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Gs(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(o.clearTimeout(t.u),t.u=null)}function Ks(t){return t.a?t.a.readyState:0}function Qs(t){try{return 2<Ks(t)?t.a.status:-1}catch(e){return-1}}function Ys(t,e){return e+" ["+t.N+" "+t.l+" "+Qs(t)+"]"}function Xs(t){var e=lo;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.m=0}function Zs(t,e,n){t.a=!0,t.c=n,t.f=!e,no(t)}function Js(t){if(t.a){if(!t.l)throw new ro(t);t.l=!1}}function to(t,e,n,r){t.g.push([e,n,r]),t.a&&no(t)}function eo(t){return U(t.g,function(t){return g(t[1])})}function no(t){if(t.h&&t.a&&eo(t)){var e=t.h,n=oo[e];n&&(o.clearTimeout(n.a),delete oo[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),s=i[0],a=i[1];if(i=i[2],s=t.f?a:s)try{var l=s.call(i||t.u,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(x(e)||"function"==typeof o.Promise&&e instanceof o.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,eo(t)||(n=!0)}}t.c=e,r&&(l=E(t.o,t,!0),r=E(t.o,t,!1),e instanceof Xs?(to(e,l,r),e.A=!0):e.then(l,r)),n&&(e=new so(e),oo[e.a]=e,t.h=e.a)}function ro(){I.call(this)}function io(){I.call(this)}function so(t){this.a=o.setTimeout(E(this.c,this),0),this.b=t}(t=Vs.prototype).Ga=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Os(this.b,Ys(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Os(this.b,Ys(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ws(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ws(this,!0)),Vs.qb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Hs(this):this.wc())},t.wc=function(){Hs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Us:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Cs,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return Os(this.b,"Can not get response: "+e.message),null}},Xs.prototype.cancel=function(t){if(this.a)this.c instanceof Xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new io(this),Js(this),Zs(this,!1,t))}},Xs.prototype.o=function(t,e){this.i=!1,Zs(this,t,e)},Xs.prototype.then=function(t,e,n){var r,i,s=new bt(function(t,e){r=t,i=e});return to(this,r,function(t){t instanceof io?s.cancel():i(t)}),s.then(t,e,n)},Xs.prototype.$goog_Thenable=!0,T(ro,I),ro.prototype.message="Deferred has already fired",ro.prototype.name="AlreadyCalledError",T(io,I),io.prototype.message="Deferred was canceled",io.prototype.name="CanceledError",so.prototype.c=function(){throw delete oo[this.a],this.b};var oo={};function ao(t){var e={},n=e.document||document,r=Cn(t).toString(),i=document.createElement("SCRIPT"),s={Lb:i,Ga:void 0},a=new Xs(s),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){uo(i,!0);var t=new po(ho,"Timeout reached for loading script "+r);Js(a),Zs(a,!1,t)},h),s.Ga=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(uo(i,e.dd||!1,l),Js(a),Zs(a,!0,null))},i.onerror=function(){uo(i,!0,l);var t=new po(co,"Error while loading script "+r);Js(a),Zs(a,!1,t)},ht(s=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Un(i,s),function(t,e){t.src=Cn(e),null===c&&(c=(e=(e=o.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function lo(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&uo(t,!0,this.Ga)}}function uo(t,e,n){null!=n&&o.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var co=0,ho=1;function po(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),I.call(this,n),this.code=t}function fo(t){this.f=t}function mo(t,e,n){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||vo,this.f=at(t.secureTokenHeaders||bo),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||_o,this.a=at(t.firebaseHeaders||wo),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==sr(),!(n=o.XMLHttpRequest||n&&iI.a.INTERNAL.node&&iI.a.INTERNAL.node.XMLHttpRequest)&&!ir())throw new Wr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=ir()?new Ns(self):or()?new fo(n):new vs}T(po,I),T(fo,ms),fo.prototype.a=function(){return new this.f},fo.prototype.b=function(){return{}};var go,yo="idToken",vo=new Tr(3e4,6e4),bo={"Content-Type":"application/x-www-form-urlencoded"},_o=new Tr(3e4,6e4),wo={"Content-Type":"application/json"};function Eo(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function So(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Co(t,e,n,r,i,s,a){(function(){var t=dr();return!((t=ur(t)!=lr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&re&&!(9<re))})()||ir()?t=E(t.o,t):(go||(go=new bt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{o[xo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Tn(To,{onload:xo});!function(t,e){to(ao(n),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=E(t.l,t)),t(e,n,r,i,s,a)}mo.prototype.o=function(t,e,n,r,i,s){if(ir()&&(void 0===o.fetch||void 0===o.Headers||void 0===o.Request))throw new Wr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new Vs(this.c);if(s){l.g=Math.max(0,s);var u=setTimeout(function(){l.dispatchEvent("timeout")},s)}Le(l,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Os(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Fe(l,"ready",function(){u&&clearTimeout(u),zt(this)}),Fe(l,"timeout",function(){u&&clearTimeout(u),zt(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():cs.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:cs),t.a.onreadystatechange=E(t.Jb,t);try{Os(t.b,Ys(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(l){return Os(t.b,Ys(t,"Error opening Xhr: "+l.message)),void zs(t,l)}e=r||"";var s=new ze(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||a(t))F(t,e,void 0);else for(var n=qe(t),r=je(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(i,function(t,e){s.set(e,t)}),i=function(t){t:{for(var e=qs,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(s.U()),r=o.FormData&&e instanceof o.FormData,!B(js,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Gs(t),0<t.g&&(t.v=function(t){return Kt&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Os(t.b,Ys(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ga,t)):t.u=Ue(t.Ga,t.g,t)),Os(t.b,Ys(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){Os(t.b,Ys(t,"Send error: "+l.message)),zs(t,l)}}(l,t,n,r,i)};var To=new bn(En,"https://apis.google.com/js/client.js?onload=%{onload}"),xo="__fcb"+Math.floor(1e6*Math.random()).toString();function Io(t){if(!a(t=t.email)||!tr.test(t))throw new Wr("invalid-email")}function ko(t){"email"in t&&Io(t)}function Ao(t){if(!t[yo])throw new Wr("internal-error")}function Do(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Wr("internal-error")}else{if(!t.sessionInfo)throw new Wr("missing-verification-id");if(!t.code)throw new Wr("missing-verification-code")}}mo.prototype.l=function(t,e,n,r,i){var s=this;go.then(function(){window.gapi.client.setApiKey(s.b);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(o),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},mo.prototype.ob=function(){return da(this,ra,{})},mo.prototype.rb=function(t,e){return da(this,ea,{idToken:t,email:e})},mo.prototype.sb=function(t,e){return da(this,na,{idToken:t,password:e})};var Oo={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function No(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Wr("internal-error")}function Ro(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&fn(t=new cn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Po(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=fs(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=fs(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=fs(t)):t.errorMessage&&(e=pa(t.errorMessage)),e)throw e;if(!t[yo])throw new Wr("internal-error")}function Mo(t,e){return e.returnIdpCredential=!0,da(t,ia,e)}function Lo(t,e){return e.returnIdpCredential=!0,da(t,oa,e)}function Fo(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,da(t,sa,e)}function Vo(t){if(!t.oobCode)throw new Wr("invalid-action-code")}(t=mo.prototype).tb=function(t,e){var n={idToken:t},r=[];return st(Oo,function(t,i){var s=e[i];null===s?r.push(t):i in e&&(n[i]=s)}),r.length&&(n.deleteAttribute=r),da(this,ea,n)},t.kb=function(t,e){return ht(t={requestType:"PASSWORD_RESET",email:t},e),da(this,Yo,t)},t.lb=function(t,e){return ht(t={requestType:"EMAIL_SIGNIN",email:t},e),da(this,Ko,t)},t.jb=function(t,e){return ht(t={requestType:"VERIFY_EMAIL",idToken:t},e),da(this,Qo,t)},t.Ua=function(t){return da(this,ua,t)},t.Za=function(t,e){return da(this,Jo,{oobCode:t,newPassword:e})},t.Ka=function(t){return da(this,Bo,{oobCode:t})},t.Wa=function(t){return da(this,Uo,{oobCode:t})};var Uo={endpoint:"setAccountInfo",C:Vo,da:"email"},Bo={endpoint:"resetPassword",C:Vo,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Wr("internal-error")}},jo={endpoint:"signupNewUser",C:function(t){if(Io(t),!t.password)throw new Wr("weak-password")},J:Ao,R:!0},qo={endpoint:"createAuthUri"},zo={endpoint:"deleteAccount",T:["idToken"]},$o={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(t){if(!f(t.deleteProvider))throw new Wr("internal-error")}},Ho={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Io,J:Ao,R:!0},Wo={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Io,J:Ao,R:!0},Go={endpoint:"getAccountInfo"},Ko={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Wr("internal-error");Io(t)},da:"email"},Qo={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Wr("internal-error")},da:"email"},Yo={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Wr("internal-error");Io(t)},da:"email"},Xo={wb:!0,endpoint:"getProjectConfig",Ib:"GET"},Zo={wb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Wr("internal-error")}},Jo={endpoint:"resetPassword",C:Vo,da:"email"},ta={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},ea={endpoint:"setAccountInfo",T:["idToken"],C:ko,R:!0},na={endpoint:"setAccountInfo",T:["idToken"],C:function(t){if(ko(t),!t.password)throw new Wr("weak-password")},J:Ao,R:!0},ra={endpoint:"signupNewUser",J:Ao,R:!0},ia={endpoint:"verifyAssertion",C:No,Qa:Ro,J:Po,R:!0},sa={endpoint:"verifyAssertion",C:No,Qa:Ro,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Wr("user-not-found");if(t.errorMessage)throw pa(t.errorMessage);if(!t[yo])throw new Wr("internal-error")},R:!0},oa={endpoint:"verifyAssertion",C:function(t){if(No(t),!t.idToken)throw new Wr("internal-error")},Qa:Ro,J:Po,R:!0},aa={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new Wr("invalid-custom-token")},J:Ao,R:!0},la={endpoint:"verifyPassword",C:function(t){if(Io(t),!t.password)throw new Wr("wrong-password")},J:Ao,R:!0},ua={endpoint:"verifyPhoneNumber",C:Do,J:Ao},ca={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new Wr("internal-error");Do(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",fs(t);Ao(t)}},ha={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Do,J:Ao};function da(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return It(new Wr("internal-error"));var r,i=e.Ib||"POST";return xt(n).then(e.C).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,s){var o=Je(t.g+e);Xe(o,"key",t.b),s&&Xe(o,"cb",C().toString());var a="GET"==n;if(a)for(var l in r)r.hasOwnProperty(l)&&Xe(o,l,r[l]);return new bt(function(e,s){Co(t,o.toString(),function(t){t?t.error?s(fa(t,i||{})):e(t):s(new Wr("network-request-failed"))},n,a?void 0:qn(_r(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Wb,e.wb||!1)}).then(function(t){return r=t,e.Qa?e.Qa(n,r):r}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Wr("internal-error");return r[e.da]})}function pa(t){return fa({error:{errors:[{message:t}],code:400,message:t}})}function fa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Wr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ht(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Wr(r[i],e);return!e&&t&&(e=br(t)),new Wr("internal-error",e)}function ma(t){this.b=t,this.a=null,this.fb=function(t){return(ba||(ba=new bt(function(t,e){function n(){Cr(),pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Cr(),e(Error("Network Error"))},timeout:ya.get()})}if(pr("gapi.iframes.Iframe"))t();else if(pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();o[r]=function(){pr("gapi.load")?n():e(Error("Network Error"))},xt(ao(r=Tn(ga,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw ba=null,t}))).then(function(){return new bt(function(e,n){pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(s),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var s=setTimeout(function(){n(Error("Network Error"))},va.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ga=new bn(En,"https://apis.google.com/js/api.js?onload=%{onload}"),ya=new Tr(3e4,6e4),va=new Tr(5e3,15e3),ba=null;function _a(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=tn(this.i,"/__/auth/iframe"),Xe(this.a,"apiKey",this.g),Xe(this.a,"appName",this.h),this.b=null,this.c=[]}function wa(t,e,n,r,i){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Ea(t){try{return iI.a.app(t).auth().ya()}catch(e){return[]}}function Sa(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Ca(t){var e=Kn();return function(t){return da(t,Xo,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Je(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var s=t[i],o=n,a=r;if(0==s.indexOf("chrome-extension://")?o=Je(s).b==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:Jn.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new ds(Kn())})}function Ta(t){return t.m?t.m:(t.m=er().then(function(){if(!t.u){var e=t.c,n=t.h,r=Ea(t.b),i=new _a(t.l,t.f,t.b);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.i=new ma(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ls(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)})}(t)}),t.m)}function xa(t){return t.o||(t.v=t.c?hr(t.c,Ea(t.b)):null,t.o=new mo(t.f,fi(t.h),t.v)),t.o}function Ia(t,e,n,r,i,s,o,a,l,u){return(t=new wa(t,e,n,r,i)).i=s,t.g=o,t.h=a,t.b=at(l||null),t.f=u,t.toString()}function ka(t){if(this.a=t||iI.a.INTERNAL.reactNative&&iI.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Wr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Aa(t){this.b=t,this.a={},this.c=E(this.f,this)}_a.prototype.toString=function(){return this.f?Xe(this.a,"v",this.f):pn(this.a.a,"v"),this.b?Xe(this.a,"eid",this.b):pn(this.a.a,"eid"),this.c.length?Xe(this.a,"fw",this.c.join(",")):pn(this.a.a,"fw"),this.a.toString()},wa.prototype.toString=function(){var t=tn(this.o,"/__/auth/handler");if(Xe(t,"apiKey",this.l),Xe(t,"appName",this.c),Xe(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=iI.a.app(this.c).auth().ea()}catch(a){n=null}for(var r in e.$a=n,Xe(t,"providerId",this.a.providerId),n=_r((e=this.a).zb))n[r]=n[r].toString();r=e.Dc,n=at(n);for(var i=0;i<r.length;i++){var s=r[i];s in n&&delete n[s]}e.cb&&e.$a&&!n[e.cb]&&(n[e.cb]=e.$a),ot(n)||Xe(t,"customParameters",br(n))}if("function"==typeof this.a.Fb&&(e=this.a.Fb()).length&&Xe(t,"scopes",e.join(",")),this.i?Xe(t,"redirectUrl",this.i):pn(t.a,"redirectUrl"),this.g?Xe(t,"eventId",this.g):pn(t.a,"eventId"),this.h?Xe(t,"v",this.h):pn(t.a,"v"),this.b)for(var o in this.b)this.b.hasOwnProperty(o)&&!Ze(t,o)&&Xe(t,o,this.b[o]);return this.f?Xe(t,"eid",this.f):pn(t.a,"eid"),(o=Ea(this.c)).length&&Xe(t,"fw",o.join(",")),t.toString()},(t=Sa.prototype).Ea=function(t,e,n){var r=new Wr("popup-closed-by-user"),i=new Wr("web-storage-unsupported"),s=this,o=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return Ta(t).then(function(){return function(t,e){return t.fb.then(function(){return new bt(function(n){t.a.send(e.type,e,n,pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(s).then(function(n){n||(t&&Xn(t),e(i),o=!0)})}).s(function(){}).then(function(){if(!o)return function(t){return new bt(function(e){return function n(){Be(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!o)return Be(n).then(function(){e(r)})})},t.Mb=function(){var t=dr();return!vr(t)&&!Sr(t)},t.Hb=function(){return!1},t.Db=function(t,e,n,r,i,s,o){if(!t)return It(new Wr("popup-blocked"));if(o&&!vr())return this.ga().s(function(e){Xn(t),i(e)}),r(),xt();this.a||(this.a=Ca(xa(this)));var a=this;return this.a.then(function(){var e=a.ga().s(function(e){throw Xn(t),i(e),e});return r(),e}).then(function(){os(n),o||Qn(Ia(a.l,a.f,a.b,e,n,null,s,a.c,void 0,a.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=Ca(xa(this)));var r=this;return this.a.then(function(){os(e),Qn(Ia(r.l,r.f,r.b,t,e,Kn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return Ta(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new Wr("network-request-failed")})},t.Pb=function(){return!0},t.wa=function(t){this.g.push(t)},t.La=function(t){q(this.g,function(e){return e==t})},(t=ka.prototype).get=function(t){return xt(this.a.getItem(t)).then(function(t){return t&&wr(t)})},t.set=function(t,e){return xt(this.a.setItem(t,br(e)))},t.P=function(t){return xt(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Da,Oa=[];function Na(t){this.a=t}function Ra(t){this.c=t,this.b=!1,this.a=[]}function Pa(t,e,n,r){var i,s,o,a,l=n||{},u=null;if(t.b)return It(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),o=setTimeout(function(){r(Error("unsupported_event"))},c),t.a.push(u={messageChannel:h,onMessage:s=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(o),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(o),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",s),t.c.postMessage({eventType:e,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Ma(t,u),e}).s(function(e){throw Ma(t,u),e})}function Ma(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),q(t.a,function(t){return t==e})}}function La(){if(!Va())throw new Wr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=o.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.i=null,this.u=!1,this.h=null;var t=this;ir()&&self?(this.m=function(){var t=ir()?self:null;if(F(Oa,function(n){n.b==t&&(e=n)}),!e){var e=new Aa(t);Oa.push(e)}return e}(),this.m.subscribe("keyChanged",function(e,n){return za(t).then(function(e){return 0<e.length&&F(t.a,function(t){t(e)}),{keyProcessed:B(e,n.key)}})}),this.m.subscribe("ping",function(){return xt(["keyChanged"])})):function(){var t=o.navigator;return t&&t.serviceWorker?xt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):xt(null)}().then(function(e){(t.h=e)&&(t.g=new Ra(new Na(e)),Pa(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&B(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Fa(t){return t.o||(t.o=function t(e){return new bt(function(n,r){var i=e.l.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new bt(function(e,n){var r=t.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.o}function Va(){try{return!!o.indexedDB}catch(Wt){return!1}}function Ua(t){return t.objectStore("firebaseLocalStorage")}function Ba(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ja(t){return new bt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function qa(t,e){return t.g&&t.h&&function(){var t=o.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Pa(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):xt()}function za(t){return Fa(t).then(function(t){var e=Ua(Ba(t,!1));return e.getAll?ja(e.getAll()):new bt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function $a(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ha(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xt().then(function(){if(Va()){var t=Er(),r="__sak"+t;return Da||(Da=new La),(n=Da).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){F(e.a,function(e){e(t)})}),t})}function Wa(){this.a={},this.type="inMemory"}function Ga(){if(!function(){var t="Node"==sr();if(!(t=Ka()||t&&iI.a.INTERNAL.node&&iI.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==sr())throw new Wr("internal-error","The LocalStorage compatibility library was not found.");throw new Wr("web-storage-unsupported")}this.a=Ka()||iI.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ka(){try{var t=o.localStorage,e=Er();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Qa(){this.type="nullStorage"}function Ya(){if(!function(){var t="Node"==sr();if(!(t=Xa()||t&&iI.a.INTERNAL.node&&iI.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==sr())throw new Wr("internal-error","The SessionStorage compatibility library was not found.");throw new Wr("web-storage-unsupported")}this.a=Xa()||iI.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xa(){try{var t=o.sessionStorage,e=Er();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Za(){var t={};t.Browser=el,t.Node=nl,t.ReactNative=rl,t.Worker=il,this.a=t[sr()]}Aa.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];F(r,function(e){i.push(xt().then(function(){return e(t.origin,t.data.data)}))}),At(i).then(function(r){var i=[];F(r,function(t){i.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})}),F(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Aa.prototype.subscribe=function(t,e){ot(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},Aa.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(q(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],ot(this.a)&&this.b.removeEventListener("message",this.c)},Na.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ra.prototype.close=function(){for(;0<this.a.length;)Ma(this,this.a[0]);this.b=!0},(t=La.prototype).set=function(t,e){var n,r=!1,i=this;return Fa(this).then(function(e){return ja((e=Ua(Ba(n=e,!0))).get(t))}).then(function(s){var o=Ua(Ba(n,!0));return s?(s.value=e,ja(o.put(s))):(i.b++,r=!0,(s={}).fbase_key=t,s.value=e,ja(o.add(s)))}).then(function(){return i.c[t]=e,qa(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return Fa(this).then(function(e){return ja(Ua(Ba(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return Fa(this).then(function(r){return e=!0,n.b++,ja(Ua(Ba(r,!0)).delete(t))}).then(function(){return delete n.c[t],qa(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){$a(t),function e(){t.f=setTimeout(function(){t.i=za(t).then(function(e){0<e.length&&F(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){q(this.a,function(e){return e==t}),0==this.a.length&&$a(this)},(t=Ha.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){q(this.a,function(e){return e==t})},(t=Wa.prototype).get=function(t){return xt(this.a[t])},t.set=function(t,e){return this.a[t]=e,xt()},t.P=function(t){return delete this.a[t],xt()},t.Y=function(){},t.ca=function(){},(t=Ga.prototype).get=function(t){var e=this;return xt().then(function(){return wr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xt().then(function(){var r=br(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return xt().then(function(){e.a.removeItem(t)})},t.Y=function(t){o.window&&Se(o.window,"storage",t)},t.ca=function(t){o.window&&xe(o.window,"storage",t)},(t=Qa.prototype).get=function(){return xt(null)},t.set=function(){return xt()},t.P=function(){return xt()},t.Y=function(){},t.ca=function(){},(t=Ya.prototype).get=function(t){var e=this;return xt().then(function(){return wr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xt().then(function(){var r=br(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return xt().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Ja,tl,el={B:Ga,Ra:Ya},nl={B:Ga,Ra:Ya},rl={B:ka,Ra:Qa},il={B:Ga,Ra:Qa},sl={Xc:"local",NONE:"none",Zc:"session"};function ol(){var t=!(Sr(dr())||!rr()),e=vr(),n=fr();this.o=t,this.h=e,this.m=n,this.a={},Ja||(Ja=new Za),t=Ja;try{this.g=!Gn()&&kr()||!o.indexedDB?new t.a.B:new Ha(ir()?new Wa:new t.a.B)}catch(r){this.g=new Wa,this.h=!0}try{this.i=new t.a.Ra}catch(r){this.i=new Wa}this.l=new Wa,this.f=E(this.Ob,this),this.b={}}function al(){return tl||(tl=new ol),tl}function ll(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function ul(t,e){return"firebase:"+t.name+(e?":"+e:"")}function cl(t,e,n){return n=ul(e,n),"local"==e.B&&(t.b[n]=null),ll(t,e.B).P(n)}function hl(t){t.c&&(clearInterval(t.c),t.c=null)}function dl(t){this.a=t,this.b=al()}(t=ol.prototype).get=function(t,e){return ll(this,t.B).get(ul(t,e))},t.set=function(t,e,n){var r=ul(t,n),i=this,s=ll(this,t.B);return s.set(r,e).then(function(){return s.get(r)}).then(function(e){"local"==t.B&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=ul(t,e),this.m&&(this.b[t]=o.localStorage.getItem(t)),ot(this.a)&&(ll(this,"local").Y(this.f),this.h||(Gn()||!kr())&&o.indexedDB||!this.m||function(t){hl(t),t.c=setInterval(function(){for(var e in t.a){var n=o.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new de({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Ob(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ul(t,e),this.a[t]&&(q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ot(this.a)&&(ll(this,"local").ca(this.f),hl(this))},t.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=o.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Xa(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ll(this,"local").ca(this.f):hl(this),this.o)if(n=o.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?o.localStorage.setItem(e,r):o.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var s=this;n=function(){void 0===t.a.a&&s.b[e]===o.localStorage.getItem(e)||(s.b[e]=o.localStorage.getItem(e),s.Xa(e))},Kt&&re&&10==re&&o.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,E(this.Xa,this))},t.Xa=function(t){this.a[t]&&F(this.a[t],function(t){t()})};var pl,fl={name:"authEvent",B:"local"};function ml(){this.a=al()}function gl(t,e){this.b=yl,this.f=o.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=o.Int32Array?new Int32Array(64):Array(64),void 0!==pl||(pl=o.Int32Array?new Int32Array(Cl):Cl),this.reset()}T(gl,function(){this.b=-1});for(var yl=64,vl=yl-1,bl=[],_l=0;_l<vl;_l++)bl[_l]=0;var wl=z(128,bl);function El(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var s=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,o=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=s+o|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(s=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;o=(s=s+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((o=(o=u&c^~u&h)+(0|pl[e])|0)+(0|n[e])|0)|0,s=h,h=c,c=u,u=l+o|0,l=a,a=i,i=r,r=o+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+s|0}function Sl(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(a(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(El(t),i=0);else{if(!m(e))throw Error("message must be string or array");for(;r<n;){var s=e[r++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");t.f[i++]=s,i==t.b&&(El(t),i=0)}}t.c=i,t.g+=n}gl.prototype.reset=function(){this.g=this.c=0,this.a=o.Int32Array?new Int32Array(this.h):$(this.h)};var Cl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tl(){gl.call(this,8,xl)}T(Tl,gl);var xl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Il(t,e,n,r,i){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new ml,this.g=new dl(this.h),this.f=null,this.b=[],this.a=this.c=null}function kl(t){return new Wr("invalid-cordova-configuration",t)}function Al(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Dl(t){return t.f||(t.f=t.ga().then(function(){return new bt(function(e){t.wa(function n(r){return e(r),t.La(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Ol(t).then(function(r){var i=n;if(r&&e&&e.url){var s=null;-1!=(i=Ai(e.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=wr(Ze(s=Je(i),"firebaseError")||null))?Gr(s):null)?new as(r.c,r.b,null,null,s):new as(r.c,r.b,i,r.f)),i=s||n}Al(t,i)})}var n=new as("unknown",null,null,null,new Wr("no-auth-event")),r=!1,i=Be(500).then(function(){return Ol(t).then(function(){r||Al(t,n)})}),s=o.handleOpenURL;o.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(pr("BuildInfo.packageName",o).toLowerCase()+"://")&&e({url:t}),"function"==typeof s)try{s(t)}catch(n){console.error(n)}},hs||(hs=new us),hs.subscribe(e)}(t)})})),t.f}function Ol(t){var e=null;return function(t){return t.b.get(fl,t.a).then(function(t){return ls(t)})}(t.g).then(function(n){return e=n,cl((n=t.g).b,fl,n.a)}).then(function(){return e})}function Nl(t){this.a=t,this.b=al()}(t=Il.prototype).ga=function(){return this.za?this.za:this.za=(nr(void 0)?er().then(function(){return new bt(function(t,e){var n=o.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):It(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof pr("universalLinks.subscribe",o))throw kl("cordova-universal-links-plugin-fix is not installed");if(void 0===pr("BuildInfo.packageName",o))throw kl("cordova-plugin-buildinfo is not installed");if("function"!=typeof pr("cordova.plugins.browsertab.openUrl",o))throw kl("cordova-plugin-browsertab is not installed");if("function"!=typeof pr("cordova.InAppBrowser.open",o))throw kl("cordova-plugin-inappbrowser is not installed")},function(){throw new Wr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Wr("operation-not-supported-in-this-environment")),xt()},t.Db=function(){return It(new Wr("operation-not-supported-in-this-environment"))},t.Pb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,n){if(this.c)return It(new Wr("redirect-operation-pending"));var r=this,i=o.document,s=null,a=null,l=null,u=null;return this.c=xt().then(function(){return os(e),Dl(r)}).then(function(){return function(t,e,n,r){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new as(e,r,null,i,new Wr("no-auth-event")),a=pr("BuildInfo.packageName",o);if("string"!=typeof a)throw new Wr("invalid-cordova-configuration");var l=pr("BuildInfo.displayName",o),u={};if(dr().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!dr().toLowerCase().match(/android/))return It(new Wr("operation-not-supported-in-this-environment"));u.apn=a}l&&(u.appDisplayName=l),i=function(t){var e=new Tl;Sl(e,t),t=[];var n=8*e.g;Sl(e,wl,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(El(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return V(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(i),u.sessionId=i;var c=Ia(t.l,t.i,t.m,e,n,null,r,t.o,u,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(fl,s.w(),e)}).then(function(){var e=pr("cordova.plugins.browsertab.isAvailable",o);if("function"!=typeof e)throw new Wr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=pr("cordova.plugins.browsertab.openUrl",o)))throw new Wr("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=pr("cordova.InAppBrowser.open",o)))throw new Wr("invalid-cordova-configuration");e=dr(),t.a=n(c,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n)}).then(function(){return new bt(function(t,e){a=function(){var e=pr("cordova.plugins.browsertab.close",o);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(a),u=function(){xr()&&l()},i.addEventListener("resume",l=function(){s||(s=Be(2e3).then(function(){e(new Wr("redirect-cancelled-by-user"))}))},!1),dr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).s(function(t){return Ol(r).then(function(){throw t})})}).ia(function(){l&&i.removeEventListener("resume",l,!1),u&&i.removeEventListener("visibilitychange",u,!1),s&&s.cancel(),a&&r.La(a),r.c=null})},t.wa=function(t){this.b.push(t),Dl(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new as("unknown",null,null,null,new Wr("no-auth-event")),t(e))})},t.La=function(t){q(this.b,function(e){return e==t})};var Rl={name:"pendingRedirect",B:"session"};function Pl(t){return cl(t.b,Rl,t.a)}function Ml(t,e,n){this.i={},this.u=0,this.A=t,this.l=e,this.o=n,this.h=[],this.f=!1,this.m=E(this.bb,this),this.b=new Hl,this.v=new Ql,this.g=new Nl(this.l+":"+this.o),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Ll(this.A,this.l,this.o,di)}function Ll(t,e,n,r){var i=iI.a.SDK_VERSION||null;return nr()?new Il(t,e,n,i,r):new Sa(t,e,n,i,r)}function Fl(t){t.f||(t.f=!0,t.a.wa(t.m));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Vl(t){t.a.Mb()&&Fl(t).s(function(e){var n=new as("unknown",null,null,null,new Wr("operation-not-supported-in-this-environment"));ql(e)&&t.bb(n)}),t.a.Hb()||Wl(t.b)}(t=Ml.prototype).reset=function(){this.f=!1,this.a.La(this.m),this.a=Ll(this.A,this.l,this.o),this.i={}},t.Ya=function(){this.b.Ya()},t.subscribe=function(t){if(B(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Rl,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Pl(e.g).then(function(){Fl(e).s(function(t){var n=new as("unknown",null,null,null,new Wr("operation-not-supported-in-this-environment"));ql(t)&&e.bb(n)})}):Vl(e)}).s(function(){Vl(e)})}},t.unsubscribe=function(t){q(this.h,function(e){return e==t})},t.bb=function(t){if(!t)throw new Wr("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=C())),e=!0;break}}return Wl(this.b),e};var Ul=new Tr(2e3,1e4),Bl=new Tr(3e4,6e4);function jl(t,e,n,r,i,s){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.wa(t.m))},function(){t.reset()},i,s)}function ql(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Ml.prototype.fa=function(){return this.b.fa()},Ml.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Rl,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(ql(t))throw new Wr("operation-not-supported-in-this-environment");return r=t,Pl(i.g).then(function(){throw r})}).then(function(){return i.a.Pb()?new bt(function(){}):Pl(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ml.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Ul.get())};var zl={};function $l(t,e,n){var r=e+":"+n;return zl[r]||(zl[r]=new Ml(t,e,n)),zl[r]}function Hl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wl(t){t.g||(t.g=!0,Kl(t,!1,null,null))}function Gl(t,e){if(t.b=function(){return xt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Kl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return It(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Gl(t,n):Gl(t,{user:null}),t.f=[],t.c=[]}function Ql(){}function Yl(){this.ub=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ub},set:function(t){this.ub=t},enumerable:!1})}function Xl(t,e){this.a=e,Rr(this,"verificationId",t)}function Zl(t,e,n,r){return new rs(t).Ua(e,n).then(function(t){return new Xl(t,r)})}function Jl(t){var e=hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Wr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Pr(this,{token:t,expirationTime:Ir(1e3*e.exp),authTime:Ir(1e3*e.auth_time),issuedAtTime:Ir(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function tu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function eu(t){this.f=t,this.b=this.a=null,this.c=0}function nu(t,e){var n=e[yo],r=e.refreshToken;e=ru(e.expiresIn),t.b=n,t.c=e,t.a=r}function ru(t){return C()+1e3*parseInt(t,10)}function iu(t,e){this.a=t||null,this.b=e||null,Pr(this,{lastSignInTime:Ir(e||null),creationTime:Ir(t||null)})}function su(t,e,n,r,i,s){Pr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:s||null,providerId:e})}function ou(t,e){for(var n in he.call(this,t),e)this[n]=e[n]}function au(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=iI.a.SDK_VERSION?hr(iI.a.SDK_VERSION):null,this.c=new mo(this.l,fi(di),t),this.h=new eu(this.c),fu(this,e[yo]),nu(this.h,e),Rr(this,"refreshToken",this.h.a),yu(this,n||{}),Me.call(this),this.I=!1,this.u&&mr()&&(this.a=$l(this.u,this.l,this.o)),this.N=[],this.i=null,this.A=function(t){return new tu(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-C()-3e5;return 0<e?e:0})}(this),this.V=E(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){uu(r,t.c)},this.W=null}function lu(t,e){t.X&&xe(t.X,"languageCodeChanged",t.ta),(t.X=e)&&Se(e,"languageCodeChanged",t.ta)}function uu(t,e){t.O=e,So(t.c,iI.a.SDK_VERSION?hr(iI.a.SDK_VERSION,t.O):null)}function cu(t,e){t.W&&xe(t.W,"frameworkChanged",t.sa),(t.W=e)&&Se(e,"frameworkChanged",t.sa)}function hu(t){try{return iI.a.app(t.o).auth()}catch(e){throw new Wr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function du(t){t.D||t.A.b||(t.A.start(),xe(t,"tokenChanged",t.V),Se(t,"tokenChanged",t.V))}function pu(t){xe(t,"tokenChanged",t.V),t.A.stop()}function fu(t,e){t.ra=e,Rr(t,"_lat",e)}function mu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return At(e).then(function(){return t})}function gu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function yu(t,e){Pr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new iu(e.createdAt,e.lastLoginAt),providerData:[]})}function vu(){}function bu(t){return xt().then(function(){if(t.D)throw new Wr("app-deleted")})}function _u(t){return V(t.providerData,function(t){return t.providerId})}function wu(t,e){e&&(Eu(t,e.providerId),t.providerData.push(e))}function Eu(t,e){q(t.providerData,function(t){return t.providerId==e})}function Su(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Rr(t,e,n)}function Cu(t,e){t!=e&&(Pr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Rr(t,"metadata",e.metadata?function(t){return new iu(t.a,t.b)}(e.metadata):new iu),F(e.providerData,function(e){wu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Rr(t,"refreshToken",t.h.a))}function Tu(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return da(t.c,Go,{idToken:e}).then(E(t.xc,t))}(t,e).then(function(){return n||Su(t,"isAnonymous",!1),e})})}function xu(t,e){e[yo]&&t.ra!=e[yo]&&(nu(t.h,e),t.dispatchEvent(new ou("tokenChanged")),fu(t,e[yo]),Su(t,"refreshToken",t.h.a))}function Iu(t,e){return Tu(t).then(function(){if(B(_u(t),e))return mu(t).then(function(){throw new Wr("provider-already-linked")})})}function ku(t,e,n){return Mr({user:t,credential:ss(e),additionalUserInfo:e=bi(e),operationType:n})}function Au(t,e){return xu(t,e),t.reload().then(function(){return t})}function Du(t,e,n,r,i){if(!mr())return It(new Wr("operation-not-supported-in-this-environment"));if(t.i&&!i)return It(t.i);var s=vi(n.providerId),o=Er(t.uid+":::"),a=null;(!vr()||rr())&&t.u&&n.isOAuthProvider&&(a=Ia(t.u,t.l,t.o,e,n,null,o,iI.a.SDK_VERSION||null));var l=Zn(a,s&&s.Ba,s&&s.Aa);return r=r().then(function(){if(Nu(t),!i)return t.F().then(function(){})}).then(function(){return jl(t.a,l,e,n,o,!!a)}).then(function(){return new bt(function(n,r){t.ha(e,null,new Wr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=o,t.b=t.a.Ea(t,e,l,o)})}).then(function(t){return l&&Xn(l),t?Mr(t):null}).s(function(t){throw l&&Xn(l),t}),Ru(t,r,i)}function Ou(t,e,n,r,i){if(!mr())return It(new Wr("operation-not-supported-in-this-environment"));if(t.i&&!i)return It(t.i);var s=null,o=Er(t.uid+":::");return r=r().then(function(){if(Nu(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=o,mu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Lu,t.w(),e.a)),e}).then(function(){return t.a.Ca(e,n,o)}).s(function(e){if(s=e,t.ba)return Fu(t.ba);throw s}).then(function(){if(s)throw s}),Ru(t,r,i)}function Nu(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Wr("internal-error");throw new Wr("auth-domain-config-required")}}function Ru(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),It(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ou("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){j(t.G,r)}),r}function Pu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[yo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-C())/1e3;var r=new au(e,n,t);return t.providerData&&F(t.providerData,function(t){t&&wu(r,Mr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Mu(t){this.a=t,this.b=al()}Hl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,s=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!s),"unknown"!=n||i||s?t.a?(Kl(this,!0,null,t.a),xt()):e.xa(n,r)?function(t,e,n){n=n.xa(e.c,e.b);var r=e.g,i=e.f,s=e.h,o=!!e.c.match(/Redirect$/);n(r,i,s).then(function(e){Kl(t,o,e,null)}).s(function(e){Kl(t,o,null,e)})}(this,t,e):It(new Wr("invalid-auth-event")):(Kl(this,!1,null,null),xt())}else It(new Wr("invalid-auth-event"))},Hl.prototype.Ya=function(){this.g&&!this.i&&Kl(this,!1,null,null)},Hl.prototype.fa=function(){var t=this;return new bt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Wr("timeout");t.a&&t.a.cancel(),t.a=Be(Bl.get()).then(function(){t.b||(t.g=!0,Kl(t,!0,null,e))})}(t))})},Ql.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ha(t.c,null,t.a,t.b),xt()):e.xa(n,r)?function(t,e){var n=t.b,r=t.c;e.xa(r,n)(t.g,t.f,t.h).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):It(new Wr("invalid-auth-event"))}else It(new Wr("invalid-auth-event"))},Xl.prototype.confirm=function(t){return t=is(this.verificationId,t),this.a(t)},tu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Be(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=o.document,e=null,xr()||!t?xt():new bt(function(n){e=function(){xr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},tu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},eu.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},eu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?It(new Wr("user-token-expired")):t||!this.b||C()>this.c-3e4?this.a?function(t,e){return function(t,e){return new bt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Co(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(fa(t)):t.access_token&&t.refresh_token?n(t):r(new Wr("internal-error")):r(new Wr("network-request-failed"))},"POST",dn(e).toString(),t.f,t.m.get()):r(new Wr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=ru(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},iu.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(ou,he),T(au,Me),au.prototype.pa=function(t){this.ka=t,Eo(this.c,t)},au.prototype.ea=function(){return this.ka},au.prototype.ya=function(){return $(this.O)},au.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Rr(au.prototype,"providerId","firebase"),(t=au.prototype).reload=function(){var t=this;return Ru(this,bu(this).then(function(){return Tu(t).then(function(){return mu(t)}).then(vu)}))},t.bc=function(t){return this.F(t).then(function(t){return new Jl(t)})},t.F=function(t){var e=this;return Ru(this,bu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Wr("internal-error");return t.accessToken!=e.ra&&(fu(e,t.accessToken),e.dispatchEvent(new ou("tokenChanged"))),Su(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(!(t=t.users)||!t.length)throw new Wr("internal-error");yu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,function(t){return new su(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)wu(this,e[n]);Su(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.yc=function(t){return Or("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return Ru(this,t.f(this.c,this.uid).then(function(t){return xu(e,t),n=ku(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.pc=function(t){return Or("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(t){var e=this,n=null;return Ru(this,Iu(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.c,n)}).then(function(t){return n=ku(e,t,"link"),Au(e,t)}).then(function(){return n}))},t.qc=function(t,e){var n=this;return Ru(this,Iu(this,"phone").then(function(){return Zl(hu(n),t,e,E(n.eb,n))}))},t.zc=function(t,e){var n=this;return Ru(this,xt().then(function(){return Zl(hu(n),t,e,E(n.gb,n))}),!0)},t.rb=function(t){var e=this;return Ru(this,this.F().then(function(n){return e.c.rb(n,t)}).then(function(t){return xu(e,t),e.reload()}))},t.Pc=function(t){var e=this;return Ru(this,this.F().then(function(n){return t.b(e.c,n)}).then(function(t){return xu(e,t),e.reload()}))},t.sb=function(t){var e=this;return Ru(this,this.F().then(function(n){return e.c.sb(n,t)}).then(function(t){return xu(e,t),e.reload()}))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return bu(this);var e=this;return Ru(this,this.F().then(function(n){return e.c.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return xu(e,t),Su(e,"displayName",t.displayName||null),Su(e,"photoURL",t.photoUrl||null),F(e.providerData,function(t){"password"===t.providerId&&(Rr(t,"displayName",e.displayName),Rr(t,"photoURL",e.photoURL))}),mu(e)}).then(vu))},t.Nc=function(t){var e=this;return Ru(this,Tu(this).then(function(n){return B(_u(e),t)?function(t,e,n){return da(t,$o,{idToken:e,deleteProvider:n})}(e.c,n,[t]).then(function(t){var n={};return F(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),F(_u(e),function(t){n[t]||Eu(e,t)}),n[rs.PROVIDER_ID]||Rr(e,"phoneNumber",null),mu(e)}):mu(e).then(function(){throw new Wr("no-such-provider")})}))},t.delete=function(){var t=this;return Ru(this,this.F().then(function(e){return da(t.c,zo,{idToken:e})}).then(function(){t.dispatchEvent(new ou("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");lu(t,null),cu(t,null),t.G=[],t.D=!0,pu(t),Rr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?E(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?E(this.Cb,this):null},t.rc=function(t){var e=this;return Du(this,"linkViaPopup",t,function(){return Iu(e,t.providerId).then(function(){return mu(e)})},!1)},t.Ac=function(t){return Du(this,"reauthViaPopup",t,function(){return xt()},!0)},t.sc=function(t){var e=this;return Ou(this,"linkViaRedirect",t,function(){return Iu(e,t.providerId)},!1)},t.Bc=function(t){return Ou(this,"reauthViaRedirect",t,function(){return xt()},!0)},t.Bb=function(t,e,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Ru(this,this.F().then(function(i){return Lo(r.c,{requestUri:t,postBody:n,sessionId:e,idToken:i})}).then(function(t){return i=ku(r,t,"link"),Au(r,t)}).then(function(){return i}))},t.Cb=function(t,e,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Ru(this,xt().then(function(){return Oi(Fo(r.c,{requestUri:t,sessionId:e,postBody:n}),r.uid)}).then(function(t){return i=ku(r,t,"reauthenticate"),xu(r,t),r.i=null,r.reload()}).then(function(){return i}),!0)},t.jb=function(t){var e=this,n=null;return Ru(this,this.F().then(function(e){return n=e,void 0===t||ot(t)?{}:oi(new Yr(t))}).then(function(t){return e.c.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&ht(t,this.metadata.w()),F(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Lu={name:"redirectUser",B:"session"};function Fu(t){return cl(t.b,Lu,t.a)}function Vu(t){this.a=t,this.b=al(),this.c=null,this.f=function(t){var e=ju("local"),n=ju("session"),r=ju("none");return function(t,e,n){var r=ul(e,n),i=ll(t,e.B);return t.get(e,n).then(function(s){var a=null;try{a=wr(o.localStorage.getItem(r))}catch(l){}if(a&&!s)return o.localStorage.removeItem(r),t.set(e,a,n);a&&s&&"localStorage"!=i.type&&o.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Bu,t.a).then(function(t){return t?ju(t):e})})})}).then(function(e){return t.c=e,Uu(t,e.B)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(ju("local"),this.a,E(this.g,this))}function Uu(t,e){var n,r=[];for(n in sl)sl[n]!==e&&r.push(cl(t.b,ju(sl[n]),t.a));return r.push(cl(t.b,Bu,t.a)),function(t){return new bt(function(e,n){var r=t.length,i=[];if(r)for(var s=function(t,n){r--,i[t]=n,0==r&&e(i)},o=function(t){n(t)},a=0;a<t.length;a++)kt(t[a],S(s,a),o);else e(i)})}(r)}Vu.prototype.g=function(){var t=this,e=ju("local");Hu(this,function(){return xt().then(function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null}).then(function(n){if(n)return Uu(t,"local").then(function(){t.c=e})})})};var Bu={name:"persistence",B:"session"};function ju(t){return{name:"authUser",B:t}}function qu(t,e){return Hu(t,function(){return t.b.set(t.c,e.w(),t.a)})}function zu(t){return Hu(t,function(){return cl(t.b,t.c,t.a)})}function $u(t,e){return Hu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Pu(t||{})})})}function Hu(t,e){return t.f=t.f.then(e,e),t.f}function Wu(t){if(this.l=!1,Rr(this,"settings",new Yl),Rr(this,"app",t),!Ju(this).options||!Ju(this).options.apiKey)throw new Wr("invalid-api-key");t=iI.a.SDK_VERSION?hr(iI.a.SDK_VERSION):null,this.c=new mo(Ju(this).options&&Ju(this).options.apiKey,fi(di),t),this.N=[],this.o=[],this.I=[],this.Sb=iI.a.INTERNAL.createSubscribe(E(this.mc,this)),this.O=void 0,this.Tb=iI.a.INTERNAL.createSubscribe(E(this.nc,this)),Xu(this,null),this.h=new Vu(Ju(this).options.apiKey+":"+Ju(this).name),this.A=new Mu(Ju(this).options.apiKey+":"+Ju(this).name),this.V=rc(this,function(t){var e=Ju(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Lu,t.a).then(function(t){return t&&e&&(t.authDomain=e),Pu(t||{})})}(t.A,Ju(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.A),Fu(t.A)});return rc(t,e)}(t).then(function(){return $u(t.h,e)}).then(function(e){return e?(e.ba=t.A,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return qu(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:zu(t.h)})):null}).then(function(e){Xu(t,e||null)});return rc(t,n)}(this)),this.i=rc(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(ju("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=E(this.Kc,this),this.Ha=E(this.Z,this),this.ra=E(this.$b,this),this.sa=E(this.jc,this),this.ta=E(this.kc,this),function(t){var e=Ju(t).options.authDomain,n=Ju(t).options.apiKey;e&&mr()&&(t.Rb=t.V.then(function(){if(!t.l){if(t.a=$l(e,n,Ju(t).name),t.a.subscribe(t),tc(t)&&gu(tc(t)),t.D){gu(t.D);var r=t.D;r.pa(t.ea()),lu(r,t),uu(r=t.D,t.G),cu(r,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.tc,this),this.u=0,Me.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Gu(t){he.call(this,"languageCodeChanged"),this.g=t}function Ku(t){he.call(this,"frameworkChanged"),this.c=t}function Qu(t){return t.Rb||It(new Wr("auth-domain-config-required"))}function Yu(t,e){var n={};return n.apiKey=Ju(t).options.apiKey,n.authDomain=Ju(t).options.authDomain,n.appName=Ju(t).name,t.V.then(function(){return function(t,e,n,r){var i=new au(t,e);return n&&(i.ba=n),r&&uu(i,r),i.reload().then(function(){return i})}(n,e,t.A,t.ya())}).then(function(e){return tc(t)&&e.uid==tc(t).uid?(Cu(tc(t),e),t.Z(e)):(Xu(t,e),gu(e),t.Z(e))}).then(function(){nc(t)})}function Xu(t,e){tc(t)&&(function(t,e){q(t.N,function(t){return t==e})}(tc(t),t.Ha),xe(tc(t),"tokenChanged",t.ra),xe(tc(t),"userDeleted",t.sa),xe(tc(t),"userInvalidated",t.ta),pu(tc(t))),e&&(e.N.push(t.Ha),Se(e,"tokenChanged",t.ra),Se(e,"userDeleted",t.sa),Se(e,"userInvalidated",t.ta),0<t.u&&du(e)),Rr(t,"currentUser",e),e&&(e.pa(t.ea()),lu(e,t),uu(e,t.G),cu(e,t))}function Zu(t,e){var n=null,r=null;return rc(t,e.then(function(e){return n=ss(e),r=bi(e),Yu(t,e)}).then(function(){return Mr({user:tc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ju(t){return t.app}function tc(t){return t.currentUser}function ec(t){return tc(t)&&tc(t)._lat||null}function nc(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](ec(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](ec(t))}}function rc(t,e){return t.N.push(e),e.ia(function(){j(t.N,e)}),e}function ic(){}function sc(){this.a={},this.b=1e12}Vu.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Wr("invalid-persistence-type"),n=new Wr("unsupported-persistence-type");t:{for(r in sl)if(sl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(sr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!fr()&&"none"!==t)throw n}}(t),Hu(this,function(){return t!=n.c.B?n.b.get(n.c,n.a).then(function(r){return e=r,Uu(n,t)}).then(function(){if(n.c=ju(t),e)return n.b.set(n.c,e,n.a)}):xt()})},T(Wu,Me),T(Gu,he),T(Ku,he),(t=Wu.prototype).mb=function(t){return rc(this,t=this.h.mb(t))},t.pa=function(t){this.W===t||this.l||(this.W=t,Eo(this.c,this.W),this.dispatchEvent(new Gu(this.ea())))},t.ea=function(){return this.W},t.Qc=function(){var t=o.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),So(this.c,iI.a.SDK_VERSION?hr(iI.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Ku(this.G))},t.ya=function(){return $(this.G)},t.toJSON=function(){return{apiKey:Ju(this).options.apiKey,authDomain:Ju(this).options.authDomain,appName:Ju(this).name,currentUser:tc(this)&&tc(this).w()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.Zb,this):null},t.Zb=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var i=null,s=null,o=Mo(r.c,t).then(function(t){return i=ss(t),s=bi(t),t});return rc(this,t=r.V.then(function(){return o}).then(function(t){return Yu(r,t)}).then(function(){return Mr({user:tc(r),credential:i,additionalUserInfo:s,operationType:"signIn"})}))},t.Ic=function(t){if(!mr())return It(new Wr("operation-not-supported-in-this-environment"));var e=this,n=vi(t.providerId),r=Er(),i=null;(!vr()||rr())&&Ju(this).options.authDomain&&t.isOAuthProvider&&(i=Ia(Ju(this).options.authDomain,Ju(this).options.apiKey,Ju(this).name,"signInViaPopup",t,null,r,iI.a.SDK_VERSION||null));var s=Zn(i,n&&n.Ba,n&&n.Aa);return rc(this,n=Qu(this).then(function(e){return jl(e,s,"signInViaPopup",t,r,!!i)}).then(function(){return new bt(function(t,n){e.ha("signInViaPopup",null,new Wr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ea(e,"signInViaPopup",s,r)})}).then(function(t){return s&&Xn(s),t?Mr(t):null}).s(function(t){throw s&&Xn(s),t}))},t.Jc=function(t){if(!mr())return It(new Wr("operation-not-supported-in-this-environment"));var e=this;return rc(this,Qu(this).then(function(){return Hu(t=e.h,function(){return t.b.set(Bu,t.c.B,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!mr())return It(new Wr("operation-not-supported-in-this-environment"));var t=this;return rc(this,Qu(this).then(function(){return t.a.fa()}).then(function(t){return t?Mr(t):null}))},t.Oc=function(t){if(!t)return It(new Wr("null-user"));var e=this,n={};n.apiKey=Ju(this).options.apiKey,n.authDomain=Ju(this).options.authDomain,n.appName=Ju(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,s={};return s[yo]=i.b,s.refreshToken=i.a,s.expiresIn=(i.c-C())/1e3,e=new au(e,s),n&&(e.ba=n),r&&uu(e,r),Cu(e,t),e}(t,n,e.A,e.ya());return rc(this,this.i.then(function(){if(Ju(e).options.apiKey!=t.l)return r.reload()}).then(function(){return tc(e)&&t.uid==tc(e).uid?(Cu(tc(e),t),e.Z(t)):(Xu(e,r),gu(r),e.Z(r))}).then(function(){nc(e)}))},t.pb=function(){var t=this;return rc(this,this.i.then(function(){return tc(t)?(Xu(t,null),zu(t.h).then(function(){nc(t)})):xt()}))},t.Kc=function(){var t=this;return $u(this.h,Ju(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=tc(t)&&e){n=tc(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Cu(tc(t),e),tc(t).F();(tc(t)||e)&&(Xu(t,e),e&&(gu(e),e.ba=t.A),t.a&&t.a.subscribe(t),nc(t))}})},t.Z=function(t){return qu(this.h,t)},t.$b=function(){nc(this),this.Z(tc(this))},t.jc=function(){this.pb()},t.kc=function(){this.pb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(tc(e))})},t.nc=function(t){var e=this;!function(t,e){t.I.push(e),rc(t,t.i.then(function(){!t.l&&B(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(ec(t)))}))}(this,function(){t.next(tc(e))})},t.vc=function(t,e,n){var r=this;return this.X&&Promise.resolve().then(function(){g(t)?t(tc(r)):g(t.next)&&t.next(tc(r))}),this.Sb(t,e,n)},t.uc=function(t,e,n){var r=this;return this.X&&Promise.resolve().then(function(){r.O=r.getUid(),g(t)?t(tc(r)):g(t.next)&&t.next(tc(r))}),this.Tb(t,e,n)},t.ac=function(t){var e=this;return rc(this,this.i.then(function(){return tc(e)?tc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Ec=function(t){var e=this;return this.i.then(function(){return Zu(e,da(e.c,aa,{token:t}))}).then(function(t){var n=t.user;return Su(n,"isAnonymous",!1),e.Z(n),t})},t.Fc=function(t,e){var n=this;return this.i.then(function(){return Zu(n,da(n.c,la,{email:t,password:e}))})},t.Vb=function(t,e){var n=this;return this.i.then(function(){return Zu(n,da(n.c,jo,{email:t,password:e}))})},t.Nb=function(t){var e=this;return this.i.then(function(){return Zu(e,t.la(e.c))})},t.nb=function(t){return Or("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Nb(t)},t.ob=function(){var t=this;return this.i.then(function(){var e=tc(t);if(e&&e.isAnonymous){var n=Mr({providerId:null,isNewUser:!1});return Mr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Zu(t,t.c.ob()).then(function(e){var n=e.user;return Su(n,"isAnonymous",!0),t.Z(n),e})})},t.getUid=function(){return tc(this)&&tc(this).uid||null},t.Ub=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&tc(this)&&du(tc(this))},t.Cc=function(t){var e=this;F(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&tc(this)&&pu(tc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),rc(this,this.i.then(function(){e.l||B(e.o,t)&&t(ec(e))}))},t.removeAuthTokenListener=function(t){q(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(ju("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),Promise.resolve()},t.Yb=function(t){return rc(this,function(t,e){return da(t,qo,{identifier:e,continueUri:gr()?Kn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.c,t))},t.oc=function(t){return!!Ji(t)},t.lb=function(t,e){var n=this;return rc(this,xt().then(function(){var t=new Yr(e);if(!t.c)throw new Wr("argument-error",Jr+" must be true when sending sign in link to email");return oi(t)}).then(function(e){return n.c.lb(t,e)}).then(function(){}))},t.Rc=function(t){return this.Ka(t).then(function(t){return t.data.email})},t.Za=function(t,e){return rc(this,this.c.Za(t,e).then(function(){}))},t.Ka=function(t){return rc(this,this.c.Ka(t).then(function(t){return new Fr(t)}))},t.Wa=function(t){return rc(this,this.c.Wa(t).then(function(){}))},t.kb=function(t,e){var n=this;return rc(this,xt().then(function(){return void 0===e||ot(e)?{}:oi(new Yr(e))}).then(function(e){return n.c.kb(t,e)}).then(function(){}))},t.Hc=function(t,e){return rc(this,Zl(this,t,e,E(this.nb,this)))},t.Gc=function(t,e){var n=this;return rc(this,xt().then(function(){var r=Zi(t,e||Kn());return n.nb(r)}))},ic.prototype.render=function(){},ic.prototype.reset=function(){},ic.prototype.getResponse=function(){},ic.prototype.execute=function(){};var oc=null;function ac(t,e){return(e=lc(e))&&t.a[e]||null}function lc(t){return(t=void 0===t?1e12:t)?t.toString():null}function uc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Vn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Se(this.f,"click",this.i)}function cc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function hc(){}sc.prototype.render=function(t,e){return this.a[this.b.toString()]=new uc(t,e),this.b++},sc.prototype.reset=function(t){var e=ac(this,t);t=lc(t),e&&t&&(e.delete(),delete this.a[t])},sc.prototype.getResponse=function(t){return(t=ac(this,t))?t.getResponse():null},sc.prototype.execute=function(t){(t=ac(this,t))&&t.execute()},uc.prototype.getResponse=function(){return cc(this),this.b},uc.prototype.execute=function(){cc(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},uc.prototype.delete=function(){cc(this),this.g=!0,clearTimeout(this.a),this.a=null,xe(this.f,"click",this.i)},hc.prototype.g=function(){return oc||(oc=new sc),xt(oc)},hc.prototype.c=function(){};var dc=null;function pc(){this.b=o.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var fc=new bn(En,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mc=new Tr(3e4,6e4);pc.prototype.g=function(t){var e=this;return new bt(function(n,r){var i=setTimeout(function(){r(new Wr("network-request-failed"))},mc.get());!o.grecaptcha||t!==e.f&&!e.b?(o[e.a]=function(){if(o.grecaptcha){e.f=t;var s=o.grecaptcha.render;o.grecaptcha.render=function(t,n){return t=s(t,n),e.b++,t},clearTimeout(i),n(o.grecaptcha)}else clearTimeout(i),r(new Wr("internal-error"));delete o[e.a]},xt(ao(Tn(fc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new Wr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(o.grecaptcha))})},pc.prototype.c=function(){this.b--};var gc=null;function yc(t,e,n,r,i,s,a){if(Rr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,a?(dc||(dc=new hc),a=dc):(gc||(gc=new pc),a=gc),this.o=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[_c])throw new Wr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[wc],!o.document)throw new Wr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Vn(e)||!this.i&&Vn(e).hasChildNodes())throw new Wr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new mo(t,s||null,i||null),this.v=r||function(){return null};var l=this;this.m=[];var u=this.a[vc];this.a[vc]=function(t){if(Ec(l,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=pr(u,o);"function"==typeof e&&e(t)}};var c=this.a[bc];this.a[bc]=function(){if(Ec(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=pr(c,o);"function"==typeof t&&t()}}}var vc="callback",bc="expired-callback",_c="sitekey",wc="size";function Ec(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(r){}}function Sc(t,e){return t.h.push(e),e.ia(function(){j(t.h,e)}),e}function Cc(t){if(t.D)throw new Wr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Tc(t,e,n){var r=!1;try{this.b=n||iI.a.app()}catch(o){throw new Wr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Wr("invalid-api-key");n=this.b.options.apiKey;var i=this,s=null;try{s=this.b.auth().ya()}catch(o){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(o){}s=iI.a.SDK_VERSION?hr(iI.a.SDK_VERSION,s):null,yc.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},s,fi(di),r)}function xc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,s=!1,o=0;o<e.length;o++)if(e[o].optional)s=!0;else{if(s)throw new Wr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(s=e.length,n.length<i||s<n.length)r="Expected "+(i==s?1==i?"1 argument":i+" arguments":i+"-"+s+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(s=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!s){if(e=e[i],0>i||i>=Ic.length)throw new Wr("internal-error","Argument validator received an unsupported number of arguments.");n=Ic[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Wr("argument-error",t+" failed: "+r)}(t=yc.prototype).za=function(){var t=this;return this.f?this.f:this.f=Sc(this,xt().then(function(){if(gr()&&!ir())return er();throw new Wr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,da(t.u,Zo,{})}).then(function(e){t.a[_c]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Cc(this);var t=this;return Sc(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Vn(e);e=function(t,e,n){var r=arguments,i=document,s=String(r[0]),o=r[1];if(!vn&&o&&(o.name||o.type)){if(s=["<",s],o.name&&s.push(' name="',pt(o.name),'"'),o.type){s.push(' type="',pt(o.type),'"');var l={};ht(l,o),delete l.type,o=l}s.push(">"),s=s.join("")}return s=i.createElement(s),o&&(a(o)?s.className=o:f(o)?s.className=o.join(" "):Un(s,o)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(a(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var s=n[i];!m(s)||y(s)&&0<s.nodeType?r(s):F(jn(s)?$(s):s,r)}}(i,s,r),s}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Cc(this);var t=this;return Sc(this,this.render().then(function(e){return new bt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){q(t.m,function(t){return t==e})}(t,i),n(e))};t.m.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Cc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Cc(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Vn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Tc,yc);var Ic="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function kc(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:a}}function Ac(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:l}}function Dc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function Oc(t,e){return{name:t||"",K:"a function",optional:!!e,M:g}}function Nc(t,e){return{name:t||"",K:"null",optional:!!e,M:p}}function Rc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function Pc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&a(t.type)&&g(t.verify))}}}function Mc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Lc(t,e){for(var n in e){var r=e[n].name;t[r]=Uc(r,t[n],e[n].j)}}function Fc(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:S(function(t){return this[t]},n),set:S(function(t,e,n,r){xc(t,[n],[r],!0),this[e]=r},r,n,e[n].vb),enumerable:!0})}}function Vc(t,e,n,r){t[e]=Uc(e,n,r)}function Uc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return xc(s,n,t),e.apply(this,t)}if(!n)return e;var i,s=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Lc(Wu.prototype,{Wa:{name:"applyActionCode",j:[kc("code")]},Ka:{name:"checkActionCode",j:[kc("code")]},Za:{name:"confirmPasswordReset",j:[kc("code"),kc("newPassword")]},Vb:{name:"createUserWithEmailAndPassword",j:[kc("email"),kc("password")]},Yb:{name:"fetchSignInMethodsForEmail",j:[kc("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[kc("emailLink")]},uc:{name:"onAuthStateChanged",j:[Mc(Dc(),Oc(),"nextOrObserver"),Oc("opt_error",!0),Oc("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[Mc(Dc(),Oc(),"nextOrObserver"),Oc("opt_error",!0),Oc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[kc("email"),Mc(Dc("opt_actionCodeSettings",!0),Nc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[kc("email"),Dc("actionCodeSettings")]},mb:{name:"setPersistence",j:[kc("persistence")]},nb:{name:"signInAndRetrieveDataWithCredential",j:[Rc()]},ob:{name:"signInAnonymously",j:[]},Nb:{name:"signInWithCredential",j:[Rc()]},Ec:{name:"signInWithCustomToken",j:[kc("token")]},Fc:{name:"signInWithEmailAndPassword",j:[kc("email"),kc("password")]},Gc:{name:"signInWithEmailLink",j:[kc("email"),kc("emailLink",!0)]},Hc:{name:"signInWithPhoneNumber",j:[kc("phoneNumber"),Pc()]},Ic:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"updateCurrentUser",j:[Mc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof au)}},Nc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[kc(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[kc("code")]}}),Fc(Wu.prototype,{lc:{name:"languageCode",vb:Mc(kc(),Nc(),"languageCode")}}),(Wu.Persistence=sl).LOCAL="local",Wu.Persistence.SESSION="session",Wu.Persistence.NONE="none",Lc(au.prototype,{delete:{name:"delete",j:[]},bc:{name:"getIdTokenResult",j:[Ac("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Ac("opt_forceRefresh",!0)]},pc:{name:"linkAndRetrieveDataWithCredential",j:[Rc()]},eb:{name:"linkWithCredential",j:[Rc()]},qc:{name:"linkWithPhoneNumber",j:[kc("phoneNumber"),Pc()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},yc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Rc()]},gb:{name:"reauthenticateWithCredential",j:[Rc()]},zc:{name:"reauthenticateWithPhoneNumber",j:[kc("phoneNumber"),Pc()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[Mc(Dc("opt_actionCodeSettings",!0),Nc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[kc(null,!0)]},Nc:{name:"unlink",j:[kc("provider")]},rb:{name:"updateEmail",j:[kc("email")]},sb:{name:"updatePassword",j:[kc("password")]},Pc:{name:"updatePhoneNumber",j:[Rc("phone")]},tb:{name:"updateProfile",j:[Dc("profile")]}}),Lc(sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Lc(ic.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Lc(bt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Fc(Yl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",vb:Ac("appVerificationDisabledForTesting")}}),Lc(Xl.prototype,{confirm:{name:"confirm",j:[kc("verificationCode")]}}),Vc(Di,"fromJSON",function(t){t=a(t)?JSON.parse(t):t;for(var e,n=[Fi,Yi,es,Pi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Mc(kc(),Dc(),"json")]),Vc(Xi,"credential",function(t,e){return new Qi(t,e)},[kc("email"),kc("password")]),Lc(Qi.prototype,{w:{name:"toJSON",j:[kc(null,!0)]}}),Lc(ji.prototype,{ua:{name:"addScope",j:[kc("scope")]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Vc(ji,"credential",qi,[Mc(kc(),Dc(),"token")]),Vc(Xi,"credentialWithLink",Zi,[kc("email"),kc("emailLink")]),Lc(zi.prototype,{ua:{name:"addScope",j:[kc("scope")]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Vc(zi,"credential",$i,[Mc(kc(),Dc(),"token")]),Lc(Hi.prototype,{ua:{name:"addScope",j:[kc("scope")]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Vc(Hi,"credential",Wi,[Mc(kc(),Mc(Dc(),Nc()),"idToken"),Mc(kc(),Nc(),"accessToken",!0)]),Lc(Gi.prototype,{Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Vc(Gi,"credential",Ki,[Mc(kc(),Dc(),"token"),kc("secret",!0)]),Lc(Bi.prototype,{ua:{name:"addScope",j:[kc("scope")]},credential:{name:"credential",j:[Mc(kc(),Mc(Dc(),Nc()),"optionsOrIdToken"),Mc(kc(),Nc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Dc("customOAuthParameters")]}}),Lc(Mi.prototype,{w:{name:"toJSON",j:[kc(null,!0)]}}),Lc(Ni.prototype,{w:{name:"toJSON",j:[kc(null,!0)]}}),Vc(rs,"credential",is,[kc("verificationId"),kc("verificationCode")]),Lc(rs.prototype,{Ua:{name:"verifyPhoneNumber",j:[kc("phoneNumber"),Pc()]}}),Lc(ts.prototype,{w:{name:"toJSON",j:[kc(null,!0)]}}),Lc(Wr.prototype,{toJSON:{name:"toJSON",j:[kc(null,!0)]}}),Lc(ps.prototype,{toJSON:{name:"toJSON",j:[kc(null,!0)]}}),Lc(ds.prototype,{toJSON:{name:"toJSON",j:[kc(null,!0)]}}),Lc(Tc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===iI.a||!iI.a.INTERNAL||!iI.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Wu,AuthCredential:Di,Error:Wr};Vc(t,"EmailAuthProvider",Xi,[]),Vc(t,"FacebookAuthProvider",ji,[]),Vc(t,"GithubAuthProvider",zi,[]),Vc(t,"GoogleAuthProvider",Hi,[]),Vc(t,"TwitterAuthProvider",Gi,[]),Vc(t,"OAuthProvider",Bi,[kc("providerId")]),Vc(t,"SAMLAuthProvider",Ui,[kc("providerId")]),Vc(t,"PhoneAuthProvider",rs,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Wu)}}]),Vc(t,"RecaptchaVerifier",Tc,[Mc(kc(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof iI.a.app.App)}}]),iI.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:E((t=new Wu(t)).getUid,t),getToken:E(t.ac,t),addAuthTokenListener:E(t.Ub,t),removeAuthTokenListener:E(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),iI.a.INTERNAL.extendNamespace({User:au})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const sI=(()=>(class{}))();function oI(t){const e=function(t){return new w(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(q(t=>t.bytesTransferred/t.totalBytes*100))}}function aI(t,e){return{getDownloadURL:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(W(e.zone.runOutsideAngular(()=>t.getDownloadURL())))),getMetadata:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(W(e.zone.runOutsideAngular(()=>t.getMetadata())))),delete:()=>W(t.delete()),child:n=>aI(t.child(n),e),updateMetatdata:e=>W(t.updateMetadata(e)),updateMetadata:e=>W(t.updateMetadata(e)),put:(e,n)=>oI(t.put(e,n)),putString:(e,n,r)=>oI(t.putString(e,n,r))}}const lI=new Dt("angularfire2.storageBucket"),uI=(()=>(class{constructor(t,e,n,r,i){this.scheduler=new YE(i,r),this.storage=i.runOutsideAngular(()=>lS(t,e).storage(n||void 0))}ref(t){return aI(this.storage.ref(t),this.scheduler)}upload(t,e,n){return aI(this.storage.ref(t),this.scheduler).put(e,n)}}))();var cI="firebasestorage.googleapis.com",hI="storageBucket",dI=12e4,pI=6e4,fI=-9007199254740991,mI=function(){function t(t,e){this.code_=yI(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return yI(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),gI={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function yI(t){return"storage/"+t}function vI(){return new mI(gI.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function bI(){return new mI(gI.CANCELED,"User canceled the upload/download.")}function _I(){return new mI(gI.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wI(t,e,n){return new mI(gI.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function EI(){return new mI(gI.APP_DELETED,"The Firebase app was deleted.")}function SI(t,e){return new mI(gI.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function CI(t){throw new mI(gI.INTERNAL_ERROR,"Internal error: "+t)}var TI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function xI(t){switch(t){case TI.RAW:case TI.BASE64:case TI.BASE64URL:case TI.DATA_URL:return;default:throw"Expected one of the event types: ["+TI.RAW+", "+TI.BASE64+", "+TI.BASE64URL+", "+TI.DATA_URL+"]."}}var II=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function kI(t,e){switch(t){case TI.RAW:return new II(AI(e));case TI.BASE64:case TI.BASE64URL:return new II(DI(t,e));case TI.DATA_URL:return new II(function(t){var e=new OI(t);return e.base64?DI(TI.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw SI(TI.DATA_URL,"Malformed data URL.")}return AI(e)}(e.rest)}(e),function(t){return new OI(t).contentType}(e))}throw vI()}function AI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function DI(t,e){switch(t){case TI.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw SI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case TI.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw SI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(u){throw SI(t,"Invalid character found")}for(var a=new Uint8Array(o.length),l=0;l<o.length;l++)a[l]=o.charCodeAt(l);return a}var OI=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw SI(TI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),NI={STATE_CHANGED:"state_changed"},RI={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},PI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function MI(t){switch(t){case RI.RUNNING:case RI.PAUSING:case RI.CANCELING:return PI.RUNNING;case RI.PAUSED:return PI.PAUSED;case RI.SUCCESS:return PI.SUCCESS;case RI.CANCELED:return PI.CANCELED;case RI.ERROR:default:return PI.ERROR}}function LI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function FI(t,e){for(var n in t)LI(t,n)&&e(n,t[n])}function VI(t){if(null==t)return{};var e={};return FI(t,function(t,n){e[t]=n}),e}function UI(t){return new Promise(t)}function BI(t){return Promise.resolve(t)}function jI(t){return null!=t}function qI(t){return void 0!==t}function zI(t){return"function"==typeof t}function $I(t){return"object"==typeof t}function HI(t){return $I(t)&&null!==t}function WI(t){return"string"==typeof t||t instanceof String}function GI(t){return KI(t)&&Number.isInteger(t)}function KI(t){return"number"==typeof t||t instanceof Number}function QI(t){return YI()&&t instanceof Blob}function YI(){return"undefined"!=typeof Blob}var XI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),ZI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=XI.NO_ERROR,this.sendPromise_=UI(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=XI.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=XI.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw CI("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),jI(r)&&FI(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())}),jI(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw CI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw CI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw CI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){jI(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){jI(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),JI=function(){function t(){}return t.prototype.createXhrIo=function(){return new ZI},t}();function tk(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return $I(n=e)&&!Array.isArray(n)?e:null}var ek=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new mI(gI.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i=cI.replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],o=0;o<s.length;o++){var a=s[o],l=a.regex.exec(e);if(l){var u=l[a.indices.path];u||(u=""),n=new t(l[a.indices.bucket],u),a.postModify(n);break}}if(null==n)throw function(t){return new mI(gI.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function nk(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function rk(t){return"https://"+cI+"/v0"+t}function ik(t){var e=encodeURIComponent,n="?";return FI(t,function(t,r){var i=e(t)+"="+e(r.toString());n=n+i+"&"}),n=n.slice(0,-1)}function sk(t,e){return e}var ok=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||sk}}(),ak=null;function lk(t,e,n){var r=tk(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new ek(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function uk(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}function ck(t){if(!t||!$I(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!$I(n))throw"Expected object for 'customMetadata' mapping."}else if(HI(n))throw"Mapping for '"+e+"' cannot be an object."}}var hk="maxResults",dk=1e3,pk="pageToken",fk="prefixes",mk="items";function gk(t){if(!t||!$I(t))throw"Expected ListOptions object.";for(var e in t)if(e===hk){if(!GI(t[hk])||t[hk]<=0)throw"Expected maxResults to be a positive number.";if(t[hk]>1e3)throw"Expected maxResults to be less than or equal to "+dk+"."}else{if(e!==pk)throw"Unknown option: "+e;if(t[pk]&&!WI(t[pk]))throw"Expected pageToken to be string."}}function yk(t,e,n){for(var r=e.length,i=e.length,s=0;s<e.length;s++)if(e[s].optional){r=s;break}var o,a,l,u;if(!(r<=n.length&&n.length<=i))throw(o=r)===(a=i)?(l=o,u=1===o?"argument":"arguments"):(l="between "+o+" and "+a,u="arguments"),new mI(gI.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+l+" "+u+", received "+n.length+".");for(s=0;s<n.length;s++)try{e[s].validator(n[s])}catch(c){throw c instanceof Error?wI(s,t,c.message):wI(s,t,c)}}var vk=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!qI(e)||t(e)},this.optional=!!e}}();function bk(t,e){function n(t){if(!WI(t))throw"Expected string."}var r,i,s;return t?(i=n,s=t,r=function(t){i(t),s(t)}):r=n,new vk(r,e)}function _k(t){return new vk(ck,t)}function wk(){return new vk(function(t){if(!(KI(t)&&t>=0))throw"Expected a number 0 or greater."})}function Ek(t,e){return new vk(function(e){if(!(null===e||jI(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)}function Sk(t){return new vk(function(t){if(null!==t&&!zI(t))throw"Expected a Function."},t)}function Ck(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var Tk=function(){function t(t,e){var n=0,r="";QI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(QI(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(YI()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ck();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(YI())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,r))}var i=e.map(function(t){return WI(t)?kI(TI.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function xk(t,e){return-1!==t.indexOf(e)}var Ik=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function kk(t){if(!t)throw vI()}function Ak(t,e){return function(n,r){var i=lk(t,r,e);return kk(null!==i),i}}function Dk(t){return function(e,n){var r;return(r=401===e.getStatus()?new mI(gI.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new mI(gI.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new mI(gI.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Ok(t){var e=Dk(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new mI(gI.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function Nk(t,e,n){var r=rk(e.fullServerUrl()),i=t.maxOperationRetryTime(),s=new Ik(r,"GET",Ak(t,n),i);return s.errorHandler=Ok(e),s}function Rk(t,e,n){var r=VI(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Pk=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Mk(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){kk(!1)}return kk(xk(e||["active"],n)),n}var Lk=function(){return function(t,e,n){if(zI(t)||jI(e)||jI(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),Fk=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function Vk(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];BI(!0).then(function(){t.apply(null,e)})}}var Uk=function(){function t(t,e,n,r,i,s){var o=this;void 0===s&&(s=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=s,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=RI.RUNNING,this.errorHandler_=function(t){o.request_=null,o.chunkMultiplier_=1,t.codeEquals(gI.CANCELED)?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=t,o.transition_(RI.ERROR))},this.metadataErrorHandler_=function(t){o.request_=null,t.codeEquals(gI.CANCELED)?o.completeTransitions_():(o.error_=t,o.transition_(RI.ERROR))},this.promise_=UI(function(t,e){o.resolve_=t,o.reject_=e,o.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===RI.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case RI.RUNNING:t(n);break;case RI.CANCELING:e.transition_(RI.CANCELED);break;case RI.PAUSING:e.transition_(RI.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=Rk(e,r,i),a={name:o.fullPath},l=rk(s),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=uk(o,n),h=t.maxUploadRetryTime(),d=new Ik(l,"POST",function(t,e){var n;Mk(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(r){kk(!1)}return kk(WI(n)),n},h);return d.urlParams=a,d.headers=u,d.body=c,d.errorHandler=Dk(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,n,r,i){var s=t.authWrapper_.maxUploadRetryTime(),o=new Ik(r,"POST",function(t,e){var n=Mk(t,["active","final"]),r=null;try{r=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){kk(!1)}var s=parseInt(r,10);return kk(!isNaN(s)),new Pk(s,i.size(),"final"===n)},s);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Dk(n),o}(0,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Pk(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var l=new Pk(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new mI(gI.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var h=l.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},p=r.slice(h,h+c);if(null===p)throw _I();var f=e.maxUploadRetryTime(),m=new Ik(n,"POST",function(t,n){var i,o=Mk(t,["active","final"]),a=l.current+c,u=r.size();return i="final"===o?Ak(e,s)(t,n):null,new Pk(a,u,"final"===o,i)},f);return m.headers=d,m.body=p.uploadData(),m.progressCallback=a||null,m.errorHandler=Dk(t),m}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(RI.ERROR)}var o=t.authWrapper_.makeRequest(s,i);t.request_=o,o.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(RI.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=Nk(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(RI.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var l=Rk(e,r,i),u=uk(l,n),c=Tk.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===c)throw _I();var h={name:l.fullPath},d=rk(s),p=t.maxUploadRetryTime(),f=new Ik(d,"POST",Ak(t,n),p);return f.urlParams=h,f.headers=o,f.body=c.uploadData(),f.errorHandler=Dk(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(RI.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case RI.CANCELING:case RI.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case RI.RUNNING:var e=this.state_===RI.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case RI.PAUSED:this.state_=t,this.notifyObservers_();break;case RI.CANCELED:this.error_=bI(),this.state_=t,this.notifyObservers_();break;case RI.ERROR:case RI.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case RI.PAUSING:this.transition_(RI.PAUSED);break;case RI.CANCELING:this.transition_(RI.CANCELED);break;case RI.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=MI(this.state_);return new Fk(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=Sk(!0).validator,o=Ek(null,!0).validator;function a(t){try{return void s(t)}catch(e){}try{if(o(t),!(qI(t.next)||qI(t.error)||qI(t.complete)))throw"";return}catch(e){throw i}}yk("on",[bk(function(e){if(t!==NI.STATE_CHANGED)throw"Expected one of the event types: ["+NI.STATE_CHANGED+"]."}),Ek(a,!0),Sk(!0),Sk(!0)],arguments);var l=this;function u(t){return function(e,n,i){null!==t&&yk("on",t,arguments);var s=new Lk(e,n,r);return l.addObserver_(s),function(){l.removeObserver_(s)}}}var c=[Ek(function(t){if(null===t)throw i;a(t)}),Sk(!0),Sk(!0)];return qI(e)||qI(n)||qI(r)?u(null)(e,n,r):u(c)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,n;-1!==(n=(e=this.observers_).indexOf(t))&&e.splice(n,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(MI(this.state_)){case PI.SUCCESS:Vk(this.resolve_.bind(null,this.snapshot))();break;case PI.CANCELED:case PI.ERROR:Vk(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(MI(this.state_)){case PI.RUNNING:case PI.PAUSED:t.next&&Vk(t.next.bind(t,this.snapshot))();break;case PI.SUCCESS:t.complete&&Vk(t.complete.bind(t))();break;case PI.CANCELED:case PI.ERROR:t.error&&Vk(t.error.bind(t,this.error_))();break;default:t.error&&Vk(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){yk("resume",[],arguments);var t=this.state_===RI.PAUSED||this.state_===RI.PAUSING;return t&&this.transition_(RI.RUNNING),t},t.prototype.pause=function(){yk("pause",[],arguments);var t=this.state_===RI.RUNNING;return t&&this.transition_(RI.PAUSING),t},t.prototype.cancel=function(){yk("cancel",[],arguments);var t=this.state_===RI.RUNNING||this.state_===RI.PAUSING;return t&&this.transition_(RI.CANCELING),t},t}(),Bk=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof ek?e:ek.makeFromUrl(e)}return t.prototype.toString=function(){return yk("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(ak)return ak;var t=[];t.push(new ok("bucket")),t.push(new ok("generation")),t.push(new ok("metageneration")),t.push(new ok("name","fullPath",!0));var e=new ok("name");e.xform=function(t,e){return function(t){return!WI(t)||t.length<2?t:nk(t=t)}(e)},t.push(e);var n=new ok("size");return n.xform=function(t,e){return jI(e)?+e:e},t.push(n),t.push(new ok("timeCreated")),t.push(new ok("updated")),t.push(new ok("md5Hash",null,!0)),t.push(new ok("cacheControl",null,!0)),t.push(new ok("contentDisposition",null,!0)),t.push(new ok("contentEncoding",null,!0)),t.push(new ok("contentLanguage",null,!0)),t.push(new ok("contentType",null,!0)),t.push(new ok("metadata","customMetadata",!0)),ak=t}()},t.prototype.child=function(t){yk("child",[bk()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new ek(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new ek(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new ek(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return nk(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),yk("put",[new vk(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||YI()&&t instanceof Blob))throw"Expected Blob or File."}),_k(!0)],arguments),this.throwIfRoot_("put"),new Uk(this,this.authWrapper,this.location,this.mappings(),new Tk(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=TI.RAW),yk("putString",[bk(),bk(xI,!0),_k(!0)],arguments),this.throwIfRoot_("putString");var r=kI(e,t),i=VI(n);return!jI(i.contentType)&&jI(r.contentType)&&(i.contentType=r.contentType),new Uk(this,this.authWrapper,this.location,this.mappings(),new Tk(r.data,!0),i)},t.prototype.delete=function(){yk("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=rk(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new Ik(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=Ok(e),i}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.listAll=function(){yk("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},t.prototype.listAllHelper=function(t,e){return n=this,i=function(){var n,r,i;return function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,function(s){switch(s.label){case 0:return[4,this.list({pageToken:e})];case 1:return i=s.sent(),(n=t.prefixes).push.apply(n,i.prefixes),(r=t.items).push.apply(r,i.items),null==i.nextPageToken?[3,3]:[4,this.listAllHelper(t,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})},new((r=void 0)||(r=Promise))(function(t,e){function s(t){try{a(i.next(t))}catch(n){e(n)}}function o(t){try{a(i.throw(t))}catch(n){e(n)}}function a(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(s,o)}a((i=i.apply(n,[])).next())});var n,r,i},t.prototype.list=function(t){yk("list",[new vk(gk,!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=t||{},i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/","/".length>0&&(s.delimiter="/"),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=rk(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),l=new Ik(o,"GET",function(t){return function(e,n){var r=function(t,e){var r=tk(n);return null===r?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new mI(gI.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hI+"' property when initializing the app?");if(e[fk])for(var i=0,s=e[fk];i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new ek(r,o));n.prefixes.push(a)}if(e[mk])for(var l=0,u=e[mk];l<u.length;l++)a=t.makeStorageReference(new ek(r,u[l].name)),n.items.push(a);return n}(t,r)}(t);return kk(null!==r),r}}(t),a);return l.urlParams=s,l.errorHandler=Dk(e),l}(e.authWrapper,e.location,0,r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()})},t.prototype.getMetadata=function(){yk("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Nk(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){yk("updateMetadata",[_k()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var i=rk(e.fullServerUrl()),s=uk(n,r),o=t.maxOperationRetryTime(),a=new Ik(i,"PATCH",Ak(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=Ok(e),a}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){yk("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e,n){var r=rk(e.fullServerUrl()),i=t.maxOperationRetryTime(),s=new Ik(r,"GET",function(t,e){return function(n,r){var i=lk(t,r,e);return kk(null!==i),function(t,e){var n=tk(r);if(null===n)return null;if(!WI(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map(function(e){var n=t.fullPath;return rk("/b/"+s(t.bucket)+"/o/"+s(n))+ik({alt:"media",token:e})})[0]}(i)}}(t,n),i);return s.errorHandler=Ok(e),s}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new mI(gI.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new mI(gI.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),jk=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),qk=function(){function t(){this.map_={},this.id_=fI}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function r(){delete n.map_[e]}t.getPromise().then(r,r)},t.prototype.clear=function(){FI(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),zk=function(){function t(e,n,r,i,s){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var o=this.app_.options;jI(o)&&(this.bucket_=t.extractBucket_(o))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=s,this.service_=i,this.maxOperationRetryTime_=dI,this.maxUploadRetryTime_=pI,this.requestMap_=new qk}return t.extractBucket_=function(t){var e=t[hI]||null;return null==e?null:ek.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&jI(this.app_.INTERNAL)&&jI(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):BI(null)},t.prototype.bucket=function(){if(this.deleted_)throw EI();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new jk(EI());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),$k=function(){function t(t,e,n,r,i,s,o,a,l,u,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=l,this.pool_=c;var h=this;this.promise_=UI(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());qI(a)?i(a):i()}catch(l){s(l)}else null!==o?((r=vI()).setServerResponseProp(o.getResponseText()),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?EI():bI():new mI(gI.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Hk(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,s=!1,o=0;function a(){return 2===o}var l=!1;function u(){l||(l=!0,e.apply(null,arguments))}function c(e){i=setTimeout(function(){i=null,t(h,a())},e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];l||(t?u.apply(null,arguments):a()||s?u.apply(null,arguments):(r<64&&(r*=2),1===o?(o=2,e=0):e=1e3*(r+Math.random()),c(e)))}var d=!1;function p(t){d||(d=!0,l||(null!==i?(t||(o=2),clearTimeout(i),c(0)):t||(o=1)))}return c(0),setTimeout(function(){s=!0,p(!0)},n),p}(function(e,n){if(n)e(!1,new Hk(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===XI.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=xk(t.successCodes_,s);e(!0,new Hk(o,n))}else{var a=n.getErrorCode()===XI.ABORT;e(!1,new Hk(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=xk([408,429],t),r=xk(this.additionalRetryCodes_,t);return e||n||r},t}(),Hk=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Wk(t,e,n){var r=ik(t.urlParams),i=t.url+r,s=VI(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==iI.a?iI.a.SDK_VERSION:"AppManager")}(s),new $k(i,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Gk=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new zk(t,function(t,e){return new Bk(t,e)},Wk,this,e),this.app_=t,null!=n)this.bucket_=ek.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new ek(r,""))}this.internals_=new Kk(this)}return t.prototype.ref=function(t){if(yk("ref",[bk(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Bk(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return yk("refFromURL",[bk(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{ek.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Bk(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){yk("setMaxUploadRetryTime",[wk()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){yk("setMaxOperationRetryTime",[wk()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Kk=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),BI(void 0)},t}();iI.a.INTERNAL.registerService("storage",function(t,e,n){return new Gk(t,new JI,n)},{TaskState:PI,TaskEvent:NI,StringFormat:TI,Storage:Gk,Reference:Bk},void 0,!0);const Qk=(()=>(class{}))(),Yk=new Dt("mat-select-scroll-strategy");function Xk(t){return()=>t.scrollStrategies.reposition()}const Zk=(()=>(class{}))(),Jk=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return this.auth.user$.pipe(kl(1),q(t=>!!t),yl(t=>{t||(console.log("Acess denied"),this.router.navigate(["/about"]))}))}isLoggedIn(){return!0}}return t.ngInjectableDef=mt({factory:function(){return new t(kt(FS),kt(wd))},token:t,providedIn:"root"}),t})();class tA{}const eA=(()=>(class{}))(),nA=(()=>(class{}))(),rA=(()=>(class{}))(),iA=(()=>(class{}))(),sA=(()=>(class{}))(),oA=(()=>(class{}))(),aA=(()=>(class{}))();var lA=aa(ua,[ca],function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const s=t[i];s.token===He&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,e[Gn(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Dr(512,Xe,Ze,[[8,[Qd,mb,AC,FT,qT,Ix,Nx,qx,eI]],[3,Xe],tn]),Dr(5120,Ns,Ms,[[3,Ns]]),Dr(4608,Sa,Ca,[Ns,[2,Ea]]),Dr(5120,xi,Ls,[ts]),Dr(5120,Ni,Ri,[]),Dr(5120,Sn,Rs,[]),Dr(5120,Cn,Ps,[]),Dr(4608,Hu,Wu,[Ha]),Dr(6144,De,null,[Hu]),Dr(4608,Vu,Bu,[]),Dr(5120,hu,function(t,e,n,r,i,s,o,a){return[new Lu(t,e,n),new $u(r),new ju(i,s,o,a)]},[Ha,ts,Li,Ha,Ha,Vu,Vi,[2,Uu]]),Dr(4608,du,du,[hu,ts]),Dr(135680,mu,mu,[Ha]),Dr(4608,Eu,Eu,[du,mu,Ni]),Dr(5120,Um,iv,[]),Dr(5120,Bg,sv,[]),Dr(4608,Ey,rv,[Ha,Um,Bg]),Dr(5120,an,ov,[Eu,Ey,ts]),Dr(6144,fu,null,[mu]),Dr(4608,as,as,[ts]),Dr(5120,ch,jd,[wd]),Dr(4608,kd,kd,[]),Dr(6144,xd,null,[kd]),Dr(135680,Ad,Ad,[wd,Ai,$i,Mt,xd]),Dr(4608,Id,Id,[]),Dr(5120,Dd,Ld,[wd,Qa,Od]),Dr(5120,Hd,$d,[qd]),Dr(5120,Fi,function(t){return[t]},[Hd]),Dr(4608,qv,qv,[]),Dr(5120,aS,lS,[sS,[2,oS]]),Dr(4608,gS,gS,[sS,[2,oS],[2,cS],[2,dS],Li,ts,[2,hS]]),Dr(4608,LS,LS,[sS,[2,oS],Li,ts]),Dr(4608,uI,uI,[sS,[2,oS],[2,lI],Li,ts]),Dr(4608,s_,s_,[]),Dr(4608,J_,J_,[]),Dr(4608,cC,hC,[Ha,Li,lC]),Dr(4608,dC,dC,[cC,uC]),Dr(5120,nC,function(t){return[t]},[dC]),Dr(4608,oC,oC,[]),Dr(6144,sC,null,[oC]),Dr(4608,aC,aC,[sC]),Dr(6144,US,null,[aC]),Dr(4608,VS,pC,[US,Mt]),Dr(4608,tC,tC,[VS]),Dr(4608,rf,rf,[]),Dr(4608,Df,Ky,[an,Ha]),Dr(4608,dm,dm,[]),Dr(4608,OE,OE,[fE,wE,Xe,AE,_E,Mt,ts,Ha,ym,[2,ma]]),Dr(5120,NE,RE,[OE]),Dr(5120,_T,wT,[OE]),Dr(5120,qE,zE,[OE]),Dr(135680,$E,$E,[OE,Mt,[2,ma],[2,jE],qE,[3,$E],wE]),Dr(5120,Yk,Xk,[OE]),Dr(1073742336,$a,$a,[]),Dr(1024,ie,tc,[]),Dr(1024,fs,function(){return[Pd()]},[]),Dr(512,qd,qd,[Mt]),Dr(1024,Di,function(t,e){return[(n=t,lu("probe",cu),lu("coreTokens",Object.assign({},uu,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>cu),zd(e)];var n},[[2,fs],qd]),Dr(512,Oi,Oi,[[2,Di]]),Dr(131584,bs,bs,[ts,Vi,Mt,ie,Xe,Oi]),Dr(1073742336,Fs,Fs,[bs]),Dr(1073742336,ec,ec,[[3,ec]]),Dr(1024,Nd,Vd,[[3,wd]]),Dr(512,qc,zc,[]),Dr(512,Sd,Sd,[]),Dr(256,Od,{},[]),Dr(1024,pa,Fd,[ha,[2,fa],Od]),Dr(512,ma,ma,[pa,ha]),Dr(512,$i,$i,[]),Dr(512,Ai,Ss,[$i,[2,ws]]),Dr(1024,fd,function(){return[[{path:"rubric",component:hb},{path:"",redirectTo:"/about",pathMatch:"full"},{path:"network",component:oE,canActivate:[Jk]},{path:"setup",component:IT,canActivate:[Jk]},{path:"about",component:VT},{path:"profile",component:dx,canActivate:[Jk]}]]},[]),Dr(1024,wd,Bd,[bs,qc,Sd,ma,Mt,Ai,$i,fd,Od,[2,gd],[2,dd]]),Dr(1073742336,Md,Md,[[2,Nd],[2,wd]]),Dr(1073742336,tA,tA,[]),Dr(1073742336,lb,lb,[]),Dr(1073742336,uS,uS,[]),Dr(1073742336,nI,nI,[]),Dr(1073742336,sI,sI,[]),Dr(1073742336,Qk,Qk,[]),Dr(1073742336,Z_,Z_,[]),Dr(1073742336,tw,tw,[]),Dr(1073742336,ew,ew,[]),Dr(1073742336,fC,fC,[]),Dr(1073742336,mC,mC,[]),Dr(1073742336,kb,kb,[]),Dr(1073742336,lv,lv,[]),Dr(1073742336,vm,vm,[]),Dr(1073742336,Xp,Xp,[[2,Yp],[2,Uu]]),Dr(1073742336,dp,dp,[]),Dr(1073742336,pf,pf,[]),Dr(1073742336,eA,eA,[]),Dr(1073742336,mm,mm,[]),Dr(1073742336,nA,nA,[]),Dr(1073742336,rA,rA,[]),Dr(1073742336,$C,$C,[]),Dr(1073742336,Lb,Lb,[]),Dr(1073742336,iA,iA,[]),Dr(1073742336,sA,sA,[]),Dr(1073742336,mf,mf,[]),Dr(1073742336,Cf,Cf,[]),Dr(1073742336,rp,rp,[]),Dr(1073742336,Ev,Ev,[]),Dr(1073742336,PE,PE,[]),Dr(1073742336,ST,ST,[]),Dr(1073742336,oA,oA,[]),Dr(1073742336,aA,aA,[]),Dr(1073742336,HE,HE,[]),Dr(1073742336,Zk,Zk,[]),Dr(1073742336,Qp,Qp,[]),Dr(1073742336,hm,hm,[]),Dr(1073742336,GT,GT,[]),Dr(1073742336,ex,ex,[]),Dr(1073742336,nE,nE,[]),Dr(1073742336,PS,PS,[]),Dr(1073742336,ua,ua,[]),Dr(256,He,!0,[]),Dr(256,sS,{apiKey:"AIzaSyDDpHaPU_JxdJF62QK4aZvGol1kxUVsKTg",authDomain:"hashmaporbyt.firebaseapp.com",databaseURL:"https://hashmaporbyt.firebaseio.com",projectId:"hashmaporbyt",storageBucket:"hashmaporbyt.appspot.com",messagingSenderId:"988913741592",appId:"1:988913741592:web:7044428c9379127f"},[]),Dr(256,oS,void 0,[]),Dr(256,lC,"XSRF-TOKEN",[]),Dr(256,uC,"X-XSRF-TOKEN",[]),Dr(256,_b,{separatorKeyCodes:[gp]},[]),Dr(256,av,"BrowserAnimations",[]),Dr(256,wS,{default:RS,config:{maxOpened:1,autoDismiss:!0}},[])])});(function(){if(oe)throw new Error("Cannot enable prod mode after platform setup.");se=!1})(),Ju().bootstrapModuleFactory(lA).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,o||(c=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==l)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?function(t,e){return t.replace(g,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}(s,r):"Error",a=new f(i,this.serviceName+": "+o+" ("+i+")."),l=0,u=Object.keys(r);l<u.length;l++){var c=u[l];"_"!==c.slice(-1)&&(c in a&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),a[c]=r[c])}return a},t}(),g=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=y(u(s[0])||""),n=y(u(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},b=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},_=function(t,e){return b(e,function(e,n){t[e]=n}),t},w=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},E=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),s=1518500249):(i=a^l^u,s=1859775393):r<60?(i=a&l|u&(a|l),s=2400959708):(i=a^l^u,s=3395469782);var h=(o<<5|o>>>27)+i+c+s+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function T(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=f,e.Sha1=E,e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.clone=function(t){return _({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new S(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=T,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=_,e.findKey=w,e.findValue=function(t,e,n){var r=w(t,e,n);return r&&t[r]},e.forEach=b,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=d,e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.querystring=function(t){var e=[];return b(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;s(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);